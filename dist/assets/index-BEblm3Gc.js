var kt=Object.defineProperty;var wt=(s,e,t)=>e in s?kt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ee=(s,e,t)=>wt(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function N(){}function mt(s){return s()}function Fe(){return Object.create(null)}function de(s){s.forEach(mt)}function bt(s){return typeof s=="function"}function W(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let xe;function Ue(s,e){return s===e?!0:(xe||(xe=document.createElement("a")),xe.href=e,s===xe.href)}function St(s){return Object.keys(s).length===0}function xt(s,...e){if(s==null){for(const l of e)l(void 0);return N}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function K(s,e,t){s.$$.on_destroy.push(xt(e,t))}function a(s,e){s.appendChild(e)}function w(s,e,t){s.insertBefore(e,t||null)}function k(s){s.parentNode&&s.parentNode.removeChild(s)}function $e(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function m(s){return document.createElement(s)}function L(s){return document.createTextNode(s)}function S(){return L(" ")}function Me(){return L("")}function R(s,e,t,l){return s.addEventListener(e,t,l),()=>s.removeEventListener(e,t,l)}function gt(s){return function(e){return e.preventDefault(),s.call(this,e)}}function Lt(s){return function(e){return e.stopPropagation(),s.call(this,e)}}function c(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function $t(s){return Array.from(s.childNodes)}function P(s,e){e=""+e,s.data!==e&&(s.data=e)}function be(s,e){s.value=e??""}function Et(s,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:l})}let ve;function ye(s){ve=s}function ht(){if(!ve)throw new Error("Function called outside component initialization");return ve}function Ae(s){ht().$$.on_mount.push(s)}function It(){const s=ht();return(e,t,{cancelable:l=!1}={})=>{const r=s.$$.callbacks[e];if(r){const i=Et(e,t,{cancelable:l});return r.slice().forEach(n=>{n.call(s,i)}),!i.defaultPrevented}return!0}}function Ct(s,e){const t=s.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const me=[],He=[];let ge=[];const qe=[],Tt=Promise.resolve();let Ce=!1;function Mt(){Ce||(Ce=!0,Tt.then(_t))}function Te(s){ge.push(s)}const Ie=new Set;let fe=0;function _t(){if(fe!==0)return;const s=ve;do{try{for(;fe<me.length;){const e=me[fe];fe++,ye(e),At(e.$$)}}catch(e){throw me.length=0,fe=0,e}for(ye(null),me.length=0,fe=0;He.length;)He.pop()();for(let e=0;e<ge.length;e+=1){const t=ge[e];Ie.has(t)||(Ie.add(t),t())}ge.length=0}while(me.length);for(;qe.length;)qe.pop()();Ce=!1,Ie.clear(),ye(s)}function At(s){if(s.fragment!==null){s.update(),de(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Te)}}function Nt(s){const e=[],t=[];ge.forEach(l=>s.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),ge=e}const Le=new Set;let ce;function ke(){ce={r:0,c:[],p:ce}}function we(){ce.r||de(ce.c),ce=ce.p}function j(s,e){s&&s.i&&(Le.delete(s),s.i(e))}function F(s,e,t,l){if(s&&s.o){if(Le.has(s))return;Le.add(s),ce.c.push(()=>{Le.delete(s),l&&(t&&s.d(1),l())}),s.o(e)}else l&&l()}function re(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ee(s){s&&s.c()}function G(s,e,t){const{fragment:l,after_update:r}=s.$$;l&&l.m(e,t),Te(()=>{const i=s.$$.on_mount.map(mt).filter(bt);s.$$.on_destroy?s.$$.on_destroy.push(...i):de(i),s.$$.on_mount=[]}),r.forEach(Te)}function V(s,e){const t=s.$$;t.fragment!==null&&(Nt(t.after_update),de(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ot(s,e){s.$$.dirty[0]===-1&&(me.push(s),Mt(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function te(s,e,t,l,r,i,n=null,f=[-1]){const u=ve;ye(s);const o=s.$$={fragment:null,ctx:[],props:i,update:N,not_equal:r,bound:Fe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Fe(),dirty:f,skip_bound:!1,root:e.target||u.$$.root};n&&n(o.root);let p=!1;if(o.ctx=t?t(s,e.props||{},(d,h,...g)=>{const b=g.length?g[0]:h;return o.ctx&&r(o.ctx[d],o.ctx[d]=b)&&(!o.skip_bound&&o.bound[d]&&o.bound[d](b),p&&Ot(s,d)),h}):[],o.update(),p=!0,de(o.before_update),o.fragment=l?l(o.ctx):!1,e.target){if(e.hydrate){const d=$t(e.target);o.fragment&&o.fragment.l(d),d.forEach(k)}else o.fragment&&o.fragment.c();e.intro&&j(s.$$.fragment),G(s,e.target,e.anchor),_t()}ye(u)}class le{constructor(){Ee(this,"$$");Ee(this,"$$set")}$destroy(){V(this,1),this.$destroy=N}$on(e,t){if(!bt(t))return N;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const r=l.indexOf(t);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!St(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pt);const pe=[];function yt(s,e=N){let t;const l=new Set;function r(f){if(W(s,f)&&(s=f,t)){const u=!pe.length;for(const o of l)o[1](),pe.push(o,s);if(u){for(let o=0;o<pe.length;o+=2)pe[o][0](pe[o+1]);pe.length=0}}}function i(f){r(f(s))}function n(f,u=N){const o=[f,u];return l.add(o),l.size===1&&(t=e(r,i)||N),f(s),()=>{l.delete(o),l.size===0&&t&&(t(),t=null)}}return{set:r,update:i,subscribe:n}}const _e={SESSION:"bluesky_session"};function jt(){const{subscribe:s,set:e,update:t}=yt({session:null,isLoading:!1,error:null});return{subscribe:s,setSession:l=>{l?localStorage.setItem(_e.SESSION,JSON.stringify(l)):localStorage.removeItem(_e.SESSION),e({session:l,isLoading:!1,error:null})},setLoading:l=>{t(r=>({...r,isLoading:l}))},setError:l=>{t(r=>({...r,error:l,isLoading:!1}))},getSession:()=>{const l=localStorage.getItem(_e.SESSION);if(l)try{return JSON.parse(l)}catch{localStorage.removeItem(_e.SESSION)}return null},clearSession:()=>{localStorage.removeItem(_e.SESSION),e({session:null,isLoading:!1,error:null})}}}const ne=jt(),se={SELECTED_LIST:"bluesky_selected_list",LISTS:"bluesky_lists"};function Bt(){const{subscribe:s,update:e}=yt({selectedList:null,userLists:[],listMembers:[],isLoading:!1,error:null});return{subscribe:s,setSelectedList:t=>{t?localStorage.setItem(se.SELECTED_LIST,JSON.stringify(t)):localStorage.removeItem(se.SELECTED_LIST),e(l=>({...l,selectedList:t}))},setUserLists:t=>{localStorage.setItem(se.LISTS,JSON.stringify(t)),e(l=>({...l,userLists:t}))},setListMembers:t=>{e(l=>({...l,listMembers:t}))},setLoading:t=>{e(l=>({...l,isLoading:t}))},setError:t=>{e(l=>({...l,error:t,isLoading:!1}))},getSelectedList:()=>{const t=localStorage.getItem(se.SELECTED_LIST);if(t)try{return JSON.parse(t)}catch{localStorage.removeItem(se.SELECTED_LIST)}return null},getUserLists:()=>{const t=localStorage.getItem(se.LISTS);if(t)try{return JSON.parse(t)}catch{localStorage.removeItem(se.LISTS)}return[]},clearSelectedList:()=>{localStorage.removeItem(se.SELECTED_LIST),e(t=>({...t,selectedList:null}))}}}const Z=Bt(),ae="https://bsky.social/xrpc";class Dt{async signIn(e,t){const l=await fetch(`${ae}/com.atproto.server.createSession`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:e,password:t})});if(!l.ok){const r=await l.json();throw new Error(r.message||"Failed to sign in")}return await l.json()}async getUserLists(e){const t=await fetch(`${ae}/com.atproto.repo.listRecords?repo=${e.did}&collection=app.bsky.graph.list&limit=100`,{headers:{Authorization:`Bearer ${e.accessJwt}`}});if(!t.ok)throw new Error("Failed to fetch user lists");return(await t.json()).records||[]}async getListInfo(e,t){const l=t.split("/"),r=l[2],i=l[4],n=await fetch(`${ae}/com.atproto.repo.getRecord?repo=${r}&collection=app.bsky.graph.list&rkey=${i}`,{headers:{Authorization:`Bearer ${e.accessJwt}`}});if(!n.ok)throw new Error("Failed to fetch list info");return(await n.json()).value}async getListMembers(e,t){const r=t.split("/")[2],i=[];let n=null;do{let f=`${ae}/com.atproto.repo.listRecords?repo=${r}&collection=app.bsky.graph.listitem&limit=100`;n&&(f+=`&cursor=${n}`);const u=await fetch(f,{headers:{Authorization:`Bearer ${e.accessJwt}`}});if(!u.ok)throw new Error("Failed to fetch list members");const o=await u.json();if(o.records)for(const p of o.records)p.value.list===t&&i.push(p.value.subject);n=o.cursor}while(n);return i}async searchProfiles(e,t,l=25,r=null){let i=`${ae}/app.bsky.actor.searchActors?term=${encodeURIComponent(t)}&limit=${l}`;r&&(i+=`&cursor=${encodeURIComponent(r)}`);const n=await fetch(i,{headers:{Authorization:`Bearer ${e.accessJwt}`}});if(!n.ok)throw new Error("Failed to search profiles");return await n.json()}async addToList(e,t,l){const r={$type:"app.bsky.graph.listitem",subject:t,list:l,createdAt:new Date().toISOString()},i=await fetch(`${ae}/com.atproto.repo.createRecord`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.accessJwt}`},body:JSON.stringify({repo:e.did,collection:"app.bsky.graph.listitem",record:r})});if(!i.ok){const n=await i.json();throw new Error(n.message||"Failed to add user to list")}return await i.json()}async resolveHandle(e){const t=await fetch(`${ae}/com.atproto.identity.resolveHandle?handle=${encodeURIComponent(e)}`);if(!t.ok)throw new Error("Failed to resolve handle");return(await t.json()).did}}const ue=new Dt;function Je(s){let e,t,l;return{c(){e=m("div"),t=m("p"),l=L(s[3]),c(t,"class","text-red-700 text-sm"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-3")},m(r,i){w(r,e,i),a(e,t),a(t,l)},p(r,i){i&8&&P(l,r[3])},d(r){r&&k(e)}}}function zt(s){let e;return{c(){e=L("Sign In")},m(t,l){w(t,e,l)},d(t){t&&k(e)}}}function Rt(s){let e,t;return{c(){e=m("span"),t=L(`
              Signing in...`),c(e,"class","loading-spinner mr-2 svelte-pxijdq")},m(l,r){w(l,e,r),w(l,t,r)},d(l){l&&(k(e),k(t))}}}function Ft(s){let e,t,l,r,i,n,f,u,o,p,d,h,g,b,_,y,I,v,C,$,M,E,O,T,A,x,z,Q,B=s[3]&&Je(s);function ie(D,J){return D[2]?Rt:zt}let oe=ie(s),q=oe(s);return{c(){e=m("div"),t=m("div"),l=m("div"),r=m("h2"),r.textContent="Sign in to Bluesky",i=S(),n=m("button"),n.textContent="√ó",f=S(),u=m("form"),o=m("div"),p=m("div"),d=m("label"),d.textContent="Handle",h=S(),g=m("input"),b=S(),_=m("div"),y=m("label"),y.textContent="App Password",I=S(),v=m("input"),C=S(),$=m("p"),$.textContent="Use an app password, not your main account password",M=S(),B&&B.c(),E=S(),O=m("div"),T=m("button"),T.textContent="Cancel",A=S(),x=m("button"),q.c(),c(r,"class","text-xl font-semibold text-slate-800"),c(n,"class","text-gray-400 hover:text-gray-600 text-2xl font-bold"),c(l,"class","flex items-center justify-between mb-4"),c(d,"for","handle"),c(d,"class","block text-sm font-medium text-gray-700 mb-1"),c(g,"id","handle"),c(g,"type","text"),c(g,"placeholder","your-handle.bsky.social"),c(g,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),g.required=!0,c(y,"for","password"),c(y,"class","block text-sm font-medium text-gray-700 mb-1"),c(v,"id","password"),c(v,"type","password"),c(v,"placeholder","Your app password"),c(v,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),v.required=!0,c($,"class","text-xs text-gray-500 mt-1"),c(T,"type","button"),c(T,"class","flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200"),c(x,"type","submit"),x.disabled=s[2],c(x,"class","flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200"),c(O,"class","flex space-x-3 pt-2"),c(o,"class","space-y-4"),c(t,"class","bg-white rounded-lg shadow-xl max-w-md w-full p-6"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4")},m(D,J){w(D,e,J),a(e,t),a(t,l),a(l,r),a(l,i),a(l,n),a(t,f),a(t,u),a(u,o),a(o,p),a(p,d),a(p,h),a(p,g),be(g,s[0]),a(o,b),a(o,_),a(_,y),a(_,I),a(_,v),be(v,s[1]),a(_,C),a(_,$),a(o,M),B&&B.m(o,null),a(o,E),a(o,O),a(O,T),a(O,A),a(O,x),q.m(x,null),z||(Q=[R(n,"click",s[5]),R(g,"input",s[8]),R(v,"input",s[9]),R(T,"click",s[5]),R(u,"submit",gt(s[4])),R(u,"keydown",s[6]),R(t,"click",Lt(s[7])),R(e,"click",s[5])],z=!0)},p(D,[J]){J&1&&g.value!==D[0]&&be(g,D[0]),J&2&&v.value!==D[1]&&be(v,D[1]),D[3]?B?B.p(D,J):(B=Je(D),B.c(),B.m(o,E)):B&&(B.d(1),B=null),oe!==(oe=ie(D))&&(q.d(1),q=oe(D),q&&(q.c(),q.m(x,null))),J&4&&(x.disabled=D[2])},i:N,o:N,d(D){D&&k(e),B&&B.d(),q.d(),z=!1,de(Q)}}}function Ut(s,e,t){const l=It();let r="",i="",n=!1,f="";async function u(){if(!r||!i){t(3,f="Please enter both handle and password");return}t(2,n=!0),t(3,f="");try{const b=await ue.signIn(r,i);ne.setSession(b),l("close")}catch(b){t(3,f=b.message||"Failed to sign in. Please check your credentials.")}finally{t(2,n=!1)}}function o(){l("close")}function p(b){b.key==="Enter"?u():b.key==="Escape"&&o()}function d(b){Ct.call(this,s,b)}function h(){r=this.value,t(0,r)}function g(){i=this.value,t(1,i)}return[r,i,n,f,u,o,p,d,h,g]}class vt extends le{constructor(e){super(),te(this,e,Ut,Ft,W,{})}}function Ht(s){let e,t,l;return{c(){e=m("button"),e.textContent="üîê Sign in with Bluesky",c(e,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-5 py-2.5 rounded-lg text-sm font-medium cursor-pointer transition-colors duration-200")},m(r,i){w(r,e,i),t||(l=R(e,"click",s[2]),t=!0)},p:N,d(r){r&&k(e),t=!1,l()}}}function qt(s){let e,t,l,r=s[1].session.handle+"",i,n,f,u,o;return{c(){e=m("div"),t=m("div"),l=L("@"),i=L(r),n=S(),f=m("button"),f.textContent="Sign out",c(t,"class","text-sm text-slate-700"),c(f,"class","bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-300 px-3 py-1.5 rounded-lg text-xs cursor-pointer transition-colors duration-200 font-medium"),c(e,"class","text-right")},m(p,d){w(p,e,d),a(e,t),a(t,l),a(t,i),a(e,n),a(e,f),u||(o=R(f,"click",s[3]),u=!0)},p(p,d){d&2&&r!==(r=p[1].session.handle+"")&&P(i,r)},d(p){p&&k(e),u=!1,o()}}}function Ye(s){let e,t;return e=new vt({}),e.$on("close",s[4]),{c(){ee(e.$$.fragment)},m(l,r){G(e,l,r),t=!0},p:N,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Jt(s){let e,t,l,r,i,n,f,u,o;function p(b,_){return b[1].session?qt:Ht}let d=p(s),h=d(s),g=s[0]&&Ye(s);return{c(){e=m("header"),t=m("div"),l=m("div"),r=m("div"),r.innerHTML='<h1 class="text-2xl font-bold m-0 text-slate-800">ü¶ã Bluesky List Manager</h1> <p class="text-sm text-slate-600 m-0 mt-1">Find and manage profiles in your Bluesky lists</p>',i=S(),n=m("div"),h.c(),f=S(),g&&g.c(),u=Me(),c(n,"class","flex items-center space-x-4"),c(l,"class","flex items-center justify-between mb-4"),c(t,"class","max-w-6xl mx-auto px-6 py-4"),c(e,"class","bg-white border-b border-gray-200 sticky top-0 z-50")},m(b,_){w(b,e,_),a(e,t),a(t,l),a(l,r),a(l,i),a(l,n),h.m(n,null),w(b,f,_),g&&g.m(b,_),w(b,u,_),o=!0},p(b,[_]){d===(d=p(b))&&h?h.p(b,_):(h.d(1),h=d(b),h&&(h.c(),h.m(n,null))),b[0]?g?(g.p(b,_),_&1&&j(g,1)):(g=Ye(b),g.c(),j(g,1),g.m(u.parentNode,u)):g&&(ke(),F(g,1,1,()=>{g=null}),we())},i(b){o||(j(g),o=!0)},o(b){F(g),o=!1},d(b){b&&(k(e),k(f),k(u)),h.d(),g&&g.d(b)}}}function Yt(s,e,t){let l;K(s,ne,u=>t(1,l=u));let r=!1;function i(){t(0,r=!0)}function n(){ne.clearSession(),Z.clearSelectedList()}function f(){t(0,r=!1)}return[r,l,i,n,f]}class Kt extends le{constructor(e){super(),te(this,e,Yt,Jt,W,{})}}function Ke(s){let e,t;return e=new vt({}),e.$on("close",s[2]),{c(){ee(e.$$.fragment)},m(l,r){G(e,l,r),t=!0},p:N,i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Gt(s){let e,t,l,r,i,n,f,u,o,p,d,h,g,b,_,y=s[0]&&Ke(s);return{c(){e=m("div"),t=m("div"),t.innerHTML='<div class="text-6xl mb-4">ü¶ã</div> <h2 class="text-3xl font-bold text-slate-800 mb-4">Welcome to Bluesky List Manager</h2> <p class="text-lg text-slate-600 mb-6">Your powerful tool for managing and discovering profiles on Bluesky</p>',l=S(),r=m("div"),i=m("div"),i.innerHTML='<h3 class="text-lg font-semibold text-blue-800 mb-3">üîç What you can do:</h3> <ul class="space-y-2 text-blue-700"><li class="flex items-start"><span class="text-blue-500 mr-2">‚Ä¢</span> <span><strong>Search profiles</strong> by keywords in their bio, display name, or handle</span></li> <li class="flex items-start"><span class="text-blue-500 mr-2">‚Ä¢</span> <span><strong>Check if profiles</strong> are already in your selected list</span></li> <li class="flex items-start"><span class="text-blue-500 mr-2">‚Ä¢</span> <span><strong>Add multiple profiles</strong> to your lists with one click</span></li> <li class="flex items-start"><span class="text-blue-500 mr-2">‚Ä¢</span> <span><strong>View and manage</strong> your existing list members</span></li></ul>',n=S(),f=m("div"),f.innerHTML=`<h3 class="text-lg font-semibold text-green-800 mb-3">üîê Privacy &amp; Security</h3> <p class="text-green-700 mb-3">Your Bluesky credentials are stored locally in your browser and are never sent to our servers.
        We only communicate directly with Bluesky&#39;s API using your authentication token.</p> <p class="text-sm text-green-600"><strong>Your data stays private and secure.</strong></p>`,u=S(),o=m("div"),p=m("button"),p.textContent="üîê Get Started - Sign in with Bluesky",d=S(),y&&y.c(),h=Me(),c(t,"class","text-center mb-8"),c(i,"class","bg-blue-50 p-6 rounded-lg border border-blue-200"),c(f,"class","bg-green-50 p-6 rounded-lg border border-green-200"),c(p,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-8 py-3 rounded-lg text-lg font-medium cursor-pointer transition-colors duration-200"),c(o,"class","text-center"),c(r,"class","space-y-6"),c(e,"class","bg-white p-8 rounded-lg shadow-sm border border-gray-200 max-w-2xl mx-auto")},m(I,v){w(I,e,v),a(e,t),a(e,l),a(e,r),a(r,i),a(r,n),a(r,f),a(r,u),a(r,o),a(o,p),w(I,d,v),y&&y.m(I,v),w(I,h,v),g=!0,b||(_=R(p,"click",s[1]),b=!0)},p(I,[v]){I[0]?y?(y.p(I,v),v&1&&j(y,1)):(y=Ke(I),y.c(),j(y,1),y.m(h.parentNode,h)):y&&(ke(),F(y,1,1,()=>{y=null}),we())},i(I){g||(j(y),g=!0)},o(I){F(y),g=!1},d(I){I&&(k(e),k(d),k(h)),y&&y.d(I),b=!1,_()}}}function Vt(s,e,t){let l=!1;function r(){t(0,l=!0)}function i(){t(0,l=!1)}return[l,r,i]}class Wt extends le{constructor(e){super(),te(this,e,Vt,Gt,W,{})}}function Ge(s,e,t){const l=s.slice();return l[7]=e[t],l}function Ve(s){let e,t,l,r,i,n,f;return{c(){e=m("div"),t=m("p"),l=L(s[1]),r=S(),i=m("button"),i.textContent="Try again",c(t,"class","text-red-700"),c(i,"class","mt-2 text-red-600 hover:text-red-800 underline"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4 mb-6")},m(u,o){w(u,e,o),a(e,t),a(t,l),a(e,r),a(e,i),n||(f=R(i,"click",s[3]),n=!0)},p(u,o){o&2&&P(l,u[1])},d(u){u&&k(e),n=!1,f()}}}function Qt(s){let e,t=re(s[2].userLists),l=[];for(let r=0;r<t.length;r+=1)l[r]=Qe(Ge(s,t,r));return{c(){e=m("div");for(let r=0;r<l.length;r+=1)l[r].c();c(e,"class","grid gap-4 md:grid-cols-2 lg:grid-cols-3")},m(r,i){w(r,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(r,i){if(i&20){t=re(r[2].userLists);let n;for(n=0;n<t.length;n+=1){const f=Ge(r,t,n);l[n]?l[n].p(f,i):(l[n]=Qe(f),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&k(e),$e(l,r)}}}function Xt(s){let e;return{c(){e=m("div"),e.innerHTML='<div class="text-4xl mb-4">üìù</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">No Lists Found</h3> <p class="text-slate-600 mb-4">You don&#39;t have any lists yet. Create a list on Bluesky first, then come back here to manage it.</p> <a href="https://bsky.app" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200">Go to Bluesky</a>',c(e,"class","text-center py-12")},m(t,l){w(t,e,l)},p:N,d(t){t&&k(e)}}}function Zt(s){let e;return{c(){e=m("div"),e.innerHTML='<div class="loading-spinner mx-auto mb-4 svelte-14o5ka3"></div> <p class="text-slate-600">Loading your lists...</p>',c(e,"class","text-center py-12")},m(t,l){w(t,e,l)},p:N,d(t){t&&k(e)}}}function We(s){let e,t=s[7].description+"",l;return{c(){e=m("p"),l=L(t),c(e,"class","text-sm text-slate-600 line-clamp-2 mb-3 svelte-14o5ka3")},m(r,i){w(r,e,i),a(e,l)},p(r,i){i&4&&t!==(t=r[7].description+"")&&P(l,t)},d(r){r&&k(e)}}}function Qe(s){let e,t,l,r=s[7].name+"",i,n,f,u=s[7].purpose==="app.bsky.graph.defs#modlist"?"Moderation":"Curated",o,p,d,h,g,b=new Date(s[7].createdAt).toLocaleDateString()+"",_,y,I,v,C=s[7].description&&We(s);function $(){return s[5](s[7])}return{c(){e=m("div"),t=m("div"),l=m("h3"),i=L(r),n=S(),f=m("span"),o=L(u),p=S(),C&&C.c(),d=S(),h=m("div"),g=L("Created "),_=L(b),y=S(),c(l,"class","font-semibold text-slate-800 truncate"),c(f,"class","text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded"),c(t,"class","flex items-start justify-between mb-2"),c(h,"class","text-xs text-slate-500"),c(e,"class","border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all duration-200 cursor-pointer")},m(M,E){w(M,e,E),a(e,t),a(t,l),a(l,i),a(t,n),a(t,f),a(f,o),a(e,p),C&&C.m(e,null),a(e,d),a(e,h),a(h,g),a(h,_),a(e,y),I||(v=R(e,"click",$),I=!0)},p(M,E){s=M,E&4&&r!==(r=s[7].name+"")&&P(i,r),E&4&&u!==(u=s[7].purpose==="app.bsky.graph.defs#modlist"?"Moderation":"Curated")&&P(o,u),s[7].description?C?C.p(s,E):(C=We(s),C.c(),C.m(e,d)):C&&(C.d(1),C=null),E&4&&b!==(b=new Date(s[7].createdAt).toLocaleDateString()+"")&&P(_,b)},d(M){M&&k(e),C&&C.d(),I=!1,v()}}}function el(s){let e,t,l,r,i,n=s[1]&&Ve(s);function f(p,d){return p[0]?Zt:p[2].userLists.length===0?Xt:Qt}let u=f(s),o=u(s);return{c(){e=m("div"),t=m("div"),l=m("div"),l.innerHTML='<h2 class="text-2xl font-bold text-slate-800 mb-2">Select a List to Manage</h2> <p class="text-slate-600">Choose which of your Bluesky lists you&#39;d like to manage and discover new profiles for.</p>',r=S(),n&&n.c(),i=S(),o.c(),c(l,"class","text-center mb-8"),c(t,"class","bg-white p-8 rounded-lg shadow-sm border border-gray-200"),c(e,"class","max-w-4xl mx-auto")},m(p,d){w(p,e,d),a(e,t),a(t,l),a(t,r),n&&n.m(t,null),a(t,i),o.m(t,null)},p(p,[d]){p[1]?n?n.p(p,d):(n=Ve(p),n.c(),n.m(t,i)):n&&(n.d(1),n=null),u===(u=f(p))&&o?o.p(p,d):(o.d(1),o=u(p),o&&(o.c(),o.m(t,null)))},i:N,o:N,d(p){p&&k(e),n&&n.d(),o.d()}}}function tl(s,e,t){let l,r;K(s,ne,p=>t(6,l=p)),K(s,Z,p=>t(2,r=p));let i=!0,n="";Ae(async()=>{await f()});async function f(){if(l.session){t(0,i=!0),t(1,n="");try{const d=(await ue.getUserLists(l.session)).filter(h=>h.value&&h.value.$type==="app.bsky.graph.list").map(h=>({uri:h.uri,name:h.value.name,description:h.value.description||"",purpose:h.value.purpose||"app.bsky.graph.defs#modlist",createdAt:h.value.createdAt})).sort((h,g)=>new Date(g.createdAt)-new Date(h.createdAt));Z.setUserLists(d)}catch(p){t(1,n=p.message||"Failed to load your lists")}finally{t(0,i=!1)}}}async function u(p){try{const d=await ue.getListInfo(l.session,p.uri),h={...p,...d};Z.setSelectedList(h)}catch{t(1,n="Failed to load list details")}}return[i,n,r,f,u,p=>u(p)]}class ll extends le{constructor(e){super(),te(this,e,tl,el,W,{})}}function Xe(s){let e,t;return{c(){e=m("span"),t=L(s[3]),c(e,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800")},m(l,r){w(l,e,r),a(e,t)},p(l,r){r&8&&P(t,l[3])},d(l){l&&k(e)}}}function Ze(s){let e,t=s[0].description+"",l;return{c(){e=m("p"),l=L(t),c(e,"class","text-sm text-gray-700 line-clamp-2 mb-3 svelte-efadq")},m(r,i){w(r,e,i),a(e,l)},p(r,i){i&1&&t!==(t=r[0].description+"")&&P(l,t)},d(r){r&&k(e)}}}function et(s){let e,t,l,r,i,n;return{c(){e=m("div"),t=m("input"),l=S(),r=m("span"),r.textContent="Select to add to list",c(t,"type","checkbox"),t.checked=s[1],c(t,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"),c(r,"class","text-sm text-gray-600"),c(e,"class","flex items-center space-x-2")},m(f,u){w(f,e,u),a(e,t),a(e,l),a(e,r),i||(n=R(t,"change",s[4]),i=!0)},p(f,u){u&2&&(t.checked=f[1])},d(f){f&&k(e),i=!1,n()}}}function sl(s){let e,t,l,r,i,n,f,u,o,p,d,h=(s[0].displayName||s[0].handle)+"",g,b,_,y,I=s[0].handle+"",v,C,$,M,E=s[3]&&Xe(s),O=s[0].description&&Ze(s),T=s[2]&&et(s);return{c(){e=m("div"),t=m("div"),l=m("div"),r=m("img"),u=S(),o=m("div"),p=m("div"),d=m("h3"),g=L(h),b=S(),_=m("span"),y=L("@"),v=L(I),C=S(),E&&E.c(),$=S(),O&&O.c(),M=S(),T&&T.c(),Ue(r.src,i=tt(s[0]))||c(r,"src",i),c(r,"alt",n=s[0].displayName||s[0].handle),c(r,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(r,"onerror",f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(s[0].displayName||s[0].handle)+"&background=6366f1&color=fff&size=64'"),c(l,"class","flex-shrink-0"),c(d,"class","text-base font-semibold text-gray-900 truncate"),c(_,"class","text-sm text-gray-600 truncate"),c(p,"class","flex items-center space-x-2 mb-1"),c(o,"class","flex-1 min-w-0"),c(t,"class","flex items-start space-x-3"),c(e,"class","profile-card bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200")},m(A,x){w(A,e,x),a(e,t),a(t,l),a(l,r),a(t,u),a(t,o),a(o,p),a(p,d),a(d,g),a(p,b),a(p,_),a(_,y),a(_,v),a(p,C),E&&E.m(p,null),a(o,$),O&&O.m(o,null),a(o,M),T&&T.m(o,null)},p(A,[x]){x&1&&!Ue(r.src,i=tt(A[0]))&&c(r,"src",i),x&1&&n!==(n=A[0].displayName||A[0].handle)&&c(r,"alt",n),x&1&&f!==(f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(A[0].displayName||A[0].handle)+"&background=6366f1&color=fff&size=64'")&&c(r,"onerror",f),x&1&&h!==(h=(A[0].displayName||A[0].handle)+"")&&P(g,h),x&1&&I!==(I=A[0].handle+"")&&P(v,I),A[3]?E?E.p(A,x):(E=Xe(A),E.c(),E.m(p,null)):E&&(E.d(1),E=null),A[0].description?O?O.p(A,x):(O=Ze(A),O.c(),O.m(o,M)):O&&(O.d(1),O=null),A[2]?T?T.p(A,x):(T=et(A),T.c(),T.m(o,null)):T&&(T.d(1),T=null)},i:N,o:N,d(A){A&&k(e),E&&E.d(),O&&O.d(),T&&T.d()}}}function tt(s){return s.avatar?s.avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.displayName||s.handle)}&background=6366f1&color=fff&size=64`}function rl(s,e,t){let{profile:l}=e,{isSelected:r=!1}=e,{onSelect:i=()=>{}}=e,{showCheckbox:n=!0}=e,{statusTag:f=null}=e;function u(){i(l)}return s.$$set=o=>{"profile"in o&&t(0,l=o.profile),"isSelected"in o&&t(1,r=o.isSelected),"onSelect"in o&&t(5,i=o.onSelect),"showCheckbox"in o&&t(2,n=o.showCheckbox),"statusTag"in o&&t(3,f=o.statusTag)},[l,r,n,f,u,i]}class nl extends le{constructor(e){super(),te(this,e,rl,sl,W,{profile:0,isSelected:1,onSelect:5,showCheckbox:2,statusTag:3})}}function lt(s,e,t){const l=s.slice();return l[15]=e[t],l}function il(s){let e;return{c(){e=L("üîç Search")},m(t,l){w(t,e,l)},d(t){t&&k(e)}}}function ol(s){let e,t;return{c(){e=m("span"),t=L(`
            Searching...`),c(e,"class","loading-spinner svelte-pxijdq")},m(l,r){w(l,e,r),w(l,t,r)},d(l){l&&(k(e),k(t))}}}function st(s){let e,t,l;return{c(){e=m("div"),t=m("p"),l=L(s[3]),c(t,"class","text-red-700"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4 mb-6")},m(r,i){w(r,e,i),a(e,t),a(t,l)},p(r,i){i&8&&P(l,r[3])},d(r){r&&k(e)}}}function al(s){let e;return{c(){e=m("div"),e.innerHTML='<div class="text-4xl mb-4">üîç</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">Ready to Search</h3> <p class="text-slate-600">Enter keywords above to find profiles to add to your list.</p>',c(e,"class","text-center py-12")},m(t,l){w(t,e,l)},p:N,i:N,o:N,d(t){t&&k(e)}}}function cl(s){let e;return{c(){e=m("div"),e.innerHTML='<div class="text-4xl mb-4">üîç</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">No Results Found</h3> <p class="text-slate-600">Try different keywords or check your spelling.</p>',c(e,"class","text-center py-12")},m(t,l){w(t,e,l)},p:N,i:N,o:N,d(t){t&&k(e)}}}function ul(s){let e,t,l,r,i=re(s[1]),n=[];for(let o=0;o<i.length;o+=1)n[o]=rt(lt(s,i,o));const f=o=>F(n[o],1,1,()=>{n[o]=null});let u=s[5]&&nt(s);return{c(){e=m("div");for(let o=0;o<n.length;o+=1)n[o].c();t=S(),u&&u.c(),l=Me(),c(e,"class","space-y-4")},m(o,p){w(o,e,p);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);w(o,t,p),u&&u.m(o,p),w(o,l,p),r=!0},p(o,p){if(p&786){i=re(o[1]);let d;for(d=0;d<i.length;d+=1){const h=lt(o,i,d);n[d]?(n[d].p(h,p),j(n[d],1)):(n[d]=rt(h),n[d].c(),j(n[d],1),n[d].m(e,null))}for(ke(),d=i.length;d<n.length;d+=1)f(d);we()}o[5]?u?u.p(o,p):(u=nt(o),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},i(o){if(!r){for(let p=0;p<i.length;p+=1)j(n[p]);r=!0}},o(o){n=n.filter(Boolean);for(let p=0;p<n.length;p+=1)F(n[p]);r=!1},d(o){o&&(k(e),k(t),k(l)),$e(n,o),u&&u.d(o)}}}function rt(s){let e,t;return e=new nl({props:{profile:s[15],isSelected:s[4].has(s[15].did),onSelect:s[8],statusTag:s[9](s[15])}}),{c(){ee(e.$$.fragment)},m(l,r){G(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.profile=l[15]),r&18&&(i.isSelected=l[4].has(l[15].did)),r&2&&(i.statusTag=l[9](l[15])),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function nt(s){let e,t,l,r;function i(u,o){return u[2]?fl:dl}let n=i(s),f=n(s);return{c(){e=m("div"),t=m("button"),f.c(),t.disabled=s[2],c(t,"class","bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-300 px-6 py-2.5 rounded-lg text-base font-medium cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","text-center mt-6")},m(u,o){w(u,e,o),a(e,t),f.m(t,null),l||(r=R(t,"click",s[7]),l=!0)},p(u,o){n!==(n=i(u))&&(f.d(1),f=n(u),f&&(f.c(),f.m(t,null))),o&4&&(t.disabled=u[2])},d(u){u&&k(e),f.d(),l=!1,r()}}}function dl(s){let e;return{c(){e=L("Load More Results")},m(t,l){w(t,e,l)},d(t){t&&k(e)}}}function fl(s){let e,t;return{c(){e=m("span"),t=L(`
              Loading...`),c(e,"class","loading-spinner mr-2 svelte-pxijdq")},m(l,r){w(l,e,r),w(l,t,r)},d(l){l&&(k(e),k(t))}}}function pl(s){let e,t,l,r,i,n,f,u,o,p,d,h,g,b,_,y,I,v;function C(x,z){return x[2]?ol:il}let $=C(s),M=$(s),E=s[3]&&st(s);const O=[ul,cl,al],T=[];function A(x,z){return x[1].length>0?0:x[0]&&!x[2]?1:x[0]?-1:2}return~(b=A(s))&&(_=T[b]=O[b](s)),{c(){e=m("div"),t=m("div"),t.innerHTML='<h3 class="text-lg font-semibold text-slate-800 mb-2">Search Profiles</h3> <p class="text-sm text-slate-600">Search for profiles by keywords in their bio, display name, or handle</p>',l=S(),r=m("div"),i=m("form"),n=m("div"),f=m("label"),f.textContent="Search for:",u=S(),o=m("input"),p=S(),d=m("button"),M.c(),h=S(),E&&E.c(),g=S(),_&&_.c(),c(t,"class","p-6 border-b border-gray-200"),c(f,"class","text-sm font-medium text-slate-700 whitespace-nowrap"),c(o,"type","text"),c(o,"placeholder","e.g., belge, artist, developer..."),c(o,"class","flex-1 min-w-48 px-4 py-2.5 border border-gray-300 rounded-lg text-base outline-none shadow-sm text-slate-800 placeholder-gray-400 focus:border-slate-500 focus:ring-1 focus:ring-slate-500"),o.required=!0,c(d,"type","submit"),d.disabled=s[2],c(d,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-6 py-2.5 rounded-lg text-base font-medium cursor-pointer transition-colors duration-200 whitespace-nowrap flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(n,"class","flex gap-4 items-center flex-wrap"),c(i,"class","mb-6"),c(r,"class","p-6"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200")},m(x,z){w(x,e,z),a(e,t),a(e,l),a(e,r),a(r,i),a(i,n),a(n,f),a(n,u),a(n,o),be(o,s[0]),a(n,p),a(n,d),M.m(d,null),a(r,h),E&&E.m(r,null),a(r,g),~b&&T[b].m(r,null),y=!0,I||(v=[R(o,"input",s[10]),R(i,"submit",gt(s[6]))],I=!0)},p(x,[z]){z&1&&o.value!==x[0]&&be(o,x[0]),$!==($=C(x))&&(M.d(1),M=$(x),M&&(M.c(),M.m(d,null))),(!y||z&4)&&(d.disabled=x[2]),x[3]?E?E.p(x,z):(E=st(x),E.c(),E.m(r,g)):E&&(E.d(1),E=null);let Q=b;b=A(x),b===Q?~b&&T[b].p(x,z):(_&&(ke(),F(T[Q],1,1,()=>{T[Q]=null}),we()),~b?(_=T[b],_?_.p(x,z):(_=T[b]=O[b](x),_.c()),j(_,1),_.m(r,null)):_=null)},i(x){y||(j(_),y=!0)},o(x){F(_),y=!1},d(x){x&&k(e),M.d(),E&&E.d(),~b&&T[b].d(),I=!1,de(v)}}}function ml(s,e,t){let l,r;K(s,Z,v=>t(12,l=v)),K(s,ne,v=>t(13,r=v));let i="",n=[],f=!1,u="",o=new Set,p=null,d=!1;async function h(){if(!(!i.trim()||!r.session)){t(2,f=!0),t(3,u=""),t(1,n=[]),o.clear(),p=null,t(5,d=!1);try{const v=await ue.searchProfiles(r.session,i,25);t(1,n=v.actors||[]),p=v.cursor,t(5,d=!!v.cursor)}catch(v){t(3,u=v.message||"Failed to search profiles")}finally{t(2,f=!1)}}}async function g(){if(!(!d||f||!r.session)){t(2,f=!0),t(3,u="");try{const v=await ue.searchProfiles(r.session,i,25,p);t(1,n=[...n,...v.actors||[]]),p=v.cursor,t(5,d=!!v.cursor)}catch(v){t(3,u=v.message||"Failed to load more profiles")}finally{t(2,f=!1)}}}function b(v){o.has(v.did)?o.delete(v.did):o.add(v.did),t(4,o)}function _(v){return l.listMembers.includes(v)}function y(v){return _(v.did)?"Already in list":"New candidate"}function I(){i=this.value,t(0,i)}return[i,n,f,u,o,d,h,g,b,y,I]}class bl extends le{constructor(e){super(),te(this,e,ml,pl,W,{})}}function it(s){let e,t=s[0].selectedList.description+"",l;return{c(){e=m("p"),l=L(t),c(e,"class","text-slate-600 mt-1")},m(r,i){w(r,e,i),a(e,l)},p(r,i){i&1&&t!==(t=r[0].selectedList.description+"")&&P(l,t)},d(r){r&&k(e)}}}function gl(s){let e;return{c(){e=L("Unknown")},m(t,l){w(t,e,l)},p:N,d(t){t&&k(e)}}}function hl(s){let e=new Date(s[0].selectedList.createdAt).toLocaleDateString()+"",t;return{c(){t=L(e)},m(l,r){w(l,t,r)},p(l,r){r&1&&e!==(e=new Date(l[0].selectedList.createdAt).toLocaleDateString()+"")&&P(t,e)},d(l){l&&k(t)}}}function _l(s){var Oe,Pe,je,Be;let e,t,l,r,i=(((Oe=s[0].selectedList)==null?void 0:Oe.name)||"List")+"",n,f,u,o,p,d=s[0].listMembers.length+"",h,g,b,_,y,I,v,C,$,M=((Pe=s[0].selectedList)==null?void 0:Pe.purpose)==="app.bsky.graph.defs#modlist"?"Moderation List":"Curated List",E,O,T,A,x,z,Q,B,ie,oe,q,D=(((je=s[0].selectedList)==null?void 0:je.uri)||"Not available")+"",J,H=((Be=s[0].selectedList)==null?void 0:Be.description)&&it(s);function Ne(U,X){var he;return(he=U[0].selectedList)!=null&&he.createdAt?hl:gl}let Se=Ne(s),Y=Se(s);return{c(){e=m("div"),t=m("div"),l=m("div"),r=m("h2"),n=L(i),f=S(),H&&H.c(),u=S(),o=m("div"),p=m("div"),h=L(d),g=S(),b=m("div"),b.textContent="Total Members",_=S(),y=m("div"),I=m("div"),v=m("div"),v.textContent="üìä List Type",C=S(),$=m("div"),E=L(M),O=S(),T=m("div"),A=m("div"),A.textContent="üìÖ Created",x=S(),z=m("div"),Y.c(),Q=S(),B=m("div"),ie=m("div"),ie.textContent="üîó List URI",oe=S(),q=m("div"),J=L(D),c(r,"class","text-xl font-bold text-slate-800"),c(p,"class","text-2xl font-bold text-blue-600"),c(b,"class","text-sm text-slate-500"),c(o,"class","text-right"),c(t,"class","flex items-center justify-between mb-4"),c(v,"class","text-blue-600 font-semibold"),c($,"class","text-sm text-slate-600 mt-1"),c(I,"class","bg-blue-50 p-4 rounded-lg"),c(A,"class","text-green-600 font-semibold"),c(z,"class","text-sm text-slate-600 mt-1"),c(T,"class","bg-green-50 p-4 rounded-lg"),c(ie,"class","text-purple-600 font-semibold"),c(q,"class","text-xs text-slate-600 mt-1 break-all"),c(B,"class","bg-purple-50 p-4 rounded-lg"),c(y,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6")},m(U,X){w(U,e,X),a(e,t),a(t,l),a(l,r),a(r,n),a(l,f),H&&H.m(l,null),a(t,u),a(t,o),a(o,p),a(p,h),a(o,g),a(o,b),a(e,_),a(e,y),a(y,I),a(I,v),a(I,C),a(I,$),a($,E),a(y,O),a(y,T),a(T,A),a(T,x),a(T,z),Y.m(z,null),a(y,Q),a(y,B),a(B,ie),a(B,oe),a(B,q),a(q,J)},p(U,[X]){var he,De,ze,Re;X&1&&i!==(i=(((he=U[0].selectedList)==null?void 0:he.name)||"List")+"")&&P(n,i),(De=U[0].selectedList)!=null&&De.description?H?H.p(U,X):(H=it(U),H.c(),H.m(l,null)):H&&(H.d(1),H=null),X&1&&d!==(d=U[0].listMembers.length+"")&&P(h,d),X&1&&M!==(M=((ze=U[0].selectedList)==null?void 0:ze.purpose)==="app.bsky.graph.defs#modlist"?"Moderation List":"Curated List")&&P(E,M),Se===(Se=Ne(U))&&Y?Y.p(U,X):(Y.d(1),Y=Se(U),Y&&(Y.c(),Y.m(z,null))),X&1&&D!==(D=(((Re=U[0].selectedList)==null?void 0:Re.uri)||"Not available")+"")&&P(J,D)},i:N,o:N,d(U){U&&k(e),H&&H.d(),Y.d()}}}function yl(s,e,t){let l;return K(s,Z,r=>t(0,l=r)),[l]}class vl extends le{constructor(e){super(),te(this,e,yl,_l,W,{})}}function ot(s,e,t){const l=s.slice();return l[11]=e[t],l}function at(s,e,t){const l=s.slice();return l[14]=e[t],l}function ct(s){let e,t,l,r,i,n,f=s[2].size+"",u,o,p,d;function h(_,y){return _[3]?wl:kl}let g=h(s),b=g(s);return{c(){e=m("div"),t=m("div"),l=m("div"),r=m("button"),b.c(),i=S(),n=m("div"),u=L(f),o=L(" profiles selected"),r.disabled=s[3],c(r,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-4 py-2.5 rounded-lg cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium text-sm"),c(l,"class","flex items-center gap-3"),c(n,"class","text-sm text-slate-600"),c(t,"class","flex items-center justify-between"),c(e,"class","sticky top-20 z-40 bg-white border border-gray-200 rounded-lg p-4 shadow-sm")},m(_,y){w(_,e,y),a(e,t),a(t,l),a(l,r),b.m(r,null),a(t,i),a(t,n),a(n,u),a(n,o),p||(d=R(r,"click",s[7]),p=!0)},p(_,y){g===(g=h(_))&&b?b.p(_,y):(b.d(1),b=g(_),b&&(b.c(),b.m(r,null))),y&8&&(r.disabled=_[3]),y&4&&f!==(f=_[2].size+"")&&P(u,f)},d(_){_&&k(e),b.d(),p=!1,d()}}}function kl(s){let e,t=s[2].size+"",l,r;return{c(){e=L("Add "),l=L(t),r=L(" to List")},m(i,n){w(i,e,n),w(i,l,n),w(i,r,n)},p(i,n){n&4&&t!==(t=i[2].size+"")&&P(l,t)},d(i){i&&(k(e),k(l),k(r))}}}function wl(s){let e,t;return{c(){e=m("span"),t=L(`
              Adding...`),c(e,"class","loading-spinner mr-2 svelte-pxijdq")},m(l,r){w(l,e,r),w(l,t,r)},p:N,d(l){l&&(k(e),k(t))}}}function ut(s){let e,t,l,r=s[4].success.length+"",i,n;return{c(){e=m("div"),t=m("p"),l=L("‚úÖ Successfully added "),i=L(r),n=L(" profiles to your list!"),c(t,"class","text-green-700 font-medium"),c(e,"class","bg-green-50 border border-green-200 rounded-lg p-4")},m(f,u){w(f,e,u),a(e,t),a(t,l),a(t,i),a(t,n)},p(f,u){u&16&&r!==(r=f[4].success.length+"")&&P(i,r)},d(f){f&&k(e)}}}function dt(s){let e,t,l,r=s[4].errors.length+"",i,n,f,u,o=re(s[4].errors),p=[];for(let d=0;d<o.length;d+=1)p[d]=ft(at(s,o,d));return{c(){e=m("div"),t=m("p"),l=L("‚ùå Failed to add "),i=L(r),n=L(" profiles:"),f=S(),u=m("ul");for(let d=0;d<p.length;d+=1)p[d].c();c(t,"class","text-red-700 font-medium mb-2"),c(u,"class","text-red-600 text-sm space-y-1"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4")},m(d,h){w(d,e,h),a(e,t),a(t,l),a(t,i),a(t,n),a(e,f),a(e,u);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(u,null)},p(d,h){if(h&16&&r!==(r=d[4].errors.length+"")&&P(i,r),h&16){o=re(d[4].errors);let g;for(g=0;g<o.length;g+=1){const b=at(d,o,g);p[g]?p[g].p(b,h):(p[g]=ft(b),p[g].c(),p[g].m(u,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=o.length}},d(d){d&&k(e),$e(p,d)}}}function ft(s){let e,t,l=s[14].error+"",r;return{c(){e=m("li"),t=L("‚Ä¢ "),r=L(l)},m(i,n){w(i,e,n),a(e,t),a(e,r)},p(i,n){n&16&&l!==(l=i[14].error+"")&&P(r,l)},d(i){i&&k(e)}}}function Sl(s){let e,t=re(s[5].listMembers.slice(0,100)),l=[];for(let r=0;r<t.length;r+=1)l[r]=pt(ot(s,t,r));return{c(){e=m("div");for(let r=0;r<l.length;r+=1)l[r].c();c(e,"class","space-y-4")},m(r,i){w(r,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(r,i){if(i&32){t=re(r[5].listMembers.slice(0,100));let n;for(n=0;n<t.length;n+=1){const f=ot(r,t,n);l[n]?l[n].p(f,i):(l[n]=pt(f),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&k(e),$e(l,r)}}}function xl(s){let e;return{c(){e=m("div"),e.innerHTML='<div class="text-4xl mb-4">üìù</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">No Members Yet</h3> <p class="text-slate-600">Your list is empty. Use the search above to find and add profiles!</p>',c(e,"class","text-center py-12")},m(t,l){w(t,e,l)},p:N,d(t){t&&k(e)}}}function Ll(s){let e,t,l,r,i,n,f;return{c(){e=m("div"),t=m("p"),l=L(s[1]),r=S(),i=m("button"),i.textContent="Try again",c(t,"class","text-red-700"),c(i,"class","mt-2 text-red-600 hover:text-red-800 underline"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4")},m(u,o){w(u,e,o),a(e,t),a(t,l),a(e,r),a(e,i),n||(f=R(i,"click",s[6]),n=!0)},p(u,o){o&2&&P(l,u[1])},d(u){u&&k(e),n=!1,f()}}}function $l(s){let e;return{c(){e=m("div"),e.innerHTML='<div class="loading-spinner mx-auto mb-4 svelte-pxijdq"></div> <p class="text-slate-600">Loading list members...</p>',c(e,"class","text-center py-12")},m(t,l){w(t,e,l)},p:N,d(t){t&&k(e)}}}function pt(s){let e,t,l,r,i,n,f,u=s[11]+"",o,p,d,h;return{c(){e=m("div"),t=m("div"),l=m("div"),l.innerHTML='<span class="text-gray-600 font-medium">?</span>',r=S(),i=m("div"),n=m("div"),f=L("DID: "),o=L(u),p=S(),d=m("div"),d.textContent="Member of list",h=S(),c(l,"class","w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center"),c(n,"class","text-sm text-gray-600"),c(d,"class","text-xs text-gray-500"),c(i,"class","flex-1"),c(t,"class","flex items-center space-x-3"),c(e,"class","bg-gray-50 border border-gray-200 rounded-lg p-4")},m(g,b){w(g,e,b),a(e,t),a(t,l),a(t,r),a(t,i),a(i,n),a(n,f),a(n,o),a(i,p),a(i,d),a(e,h)},p(g,b){b&32&&u!==(u=g[11]+"")&&P(o,u)},d(g){g&&k(e)}}}function El(s){let e,t,l,r,i,n,f,u,o,p,d,h,g;t=new vl({}),r=new bl({});let b=s[2].size>0&&ct(s),_=s[4].success.length>0&&ut(s),y=s[4].errors.length>0&&dt(s);function I($,M){return $[0]?$l:$[1]?Ll:$[5].listMembers.length===0?xl:Sl}let v=I(s),C=v(s);return{c(){e=m("div"),ee(t.$$.fragment),l=S(),ee(r.$$.fragment),i=S(),b&&b.c(),n=S(),_&&_.c(),f=S(),y&&y.c(),u=S(),o=m("div"),p=m("div"),p.innerHTML='<h3 class="text-lg font-semibold text-slate-800 mb-2">Latest List Members</h3> <p class="text-sm text-slate-600">Showing the 100 most recent members of your list</p>',d=S(),h=m("div"),C.c(),c(p,"class","p-6 border-b border-gray-200"),c(h,"class","p-6"),c(o,"class","bg-white rounded-lg shadow-sm border border-gray-200"),c(e,"class","space-y-6")},m($,M){w($,e,M),G(t,e,null),a(e,l),G(r,e,null),a(e,i),b&&b.m(e,null),a(e,n),_&&_.m(e,null),a(e,f),y&&y.m(e,null),a(e,u),a(e,o),a(o,p),a(o,d),a(o,h),C.m(h,null),g=!0},p($,[M]){$[2].size>0?b?b.p($,M):(b=ct($),b.c(),b.m(e,n)):b&&(b.d(1),b=null),$[4].success.length>0?_?_.p($,M):(_=ut($),_.c(),_.m(e,f)):_&&(_.d(1),_=null),$[4].errors.length>0?y?y.p($,M):(y=dt($),y.c(),y.m(e,u)):y&&(y.d(1),y=null),v===(v=I($))&&C?C.p($,M):(C.d(1),C=v($),C&&(C.c(),C.m(h,null)))},i($){g||(j(t.$$.fragment,$),j(r.$$.fragment,$),g=!0)},o($){F(t.$$.fragment,$),F(r.$$.fragment,$),g=!1},d($){$&&k(e),V(t),V(r),b&&b.d(),_&&_.d(),y&&y.d(),C.d()}}}function Il(s,e,t){let l,r;K(s,Z,h=>t(5,l=h)),K(s,ne,h=>t(8,r=h));let i=!0,n="",f=new Set,u=!1,o={success:[],errors:[]};Ae(async()=>{await p()});async function p(){if(!(!l.selectedList||!r.session)){t(0,i=!0),t(1,n="");try{const h=await ue.getListMembers(r.session,l.selectedList.uri);Z.setListMembers(h)}catch(h){t(1,n=h.message||"Failed to load list members")}finally{t(0,i=!1)}}}async function d(){if(f.size===0)return;t(3,u=!0),t(4,o={success:[],errors:[]});const h=Array.from(f);for(const g of h)try{await ue.addToList(r.session,g,l.selectedList.uri),o.success.push(g)}catch(b){o.errors.push({did:g,error:b.message})}f.clear(),t(2,f),await p(),t(3,u=!1)}return[i,n,f,u,o,l,p,d]}class Cl extends le{constructor(e){super(),te(this,e,Il,El,W,{})}}function Tl(s){let e,t;return e=new Cl({}),{c(){ee(e.$$.fragment)},m(l,r){G(e,l,r),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Ml(s){let e,t;return e=new ll({}),{c(){ee(e.$$.fragment)},m(l,r){G(e,l,r),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Al(s){let e,t;return e=new Wt({}),{c(){ee(e.$$.fragment)},m(l,r){G(e,l,r),t=!0},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function Nl(s){let e,t,l,r,i,n,f;t=new Kt({});const u=[Al,Ml,Tl],o=[];function p(d,h){return d[0]==="auth"?0:d[0]==="list-selector"?1:d[0]==="manager"?2:-1}return~(i=p(s))&&(n=o[i]=u[i](s)),{c(){e=m("main"),ee(t.$$.fragment),l=S(),r=m("div"),n&&n.c(),c(r,"class","max-w-6xl mx-auto p-6"),c(e,"class","min-h-screen bg-gray-50")},m(d,h){w(d,e,h),G(t,e,null),a(e,l),a(e,r),~i&&o[i].m(r,null),f=!0},p(d,[h]){let g=i;i=p(d),i!==g&&(n&&(ke(),F(o[g],1,1,()=>{o[g]=null}),we()),~i?(n=o[i],n||(n=o[i]=u[i](d),n.c()),j(n,1),n.m(r,null)):n=null)},i(d){f||(j(t.$$.fragment,d),j(n),f=!0)},o(d){F(t.$$.fragment,d),F(n),f=!1},d(d){d&&k(e),V(t),~i&&o[i].d()}}}function Ol(s,e,t){let l,r;K(s,Z,n=>t(1,l=n)),K(s,ne,n=>t(2,r=n));let i="auth";return Ae(()=>{ne.getSession()&&t(0,i="list-selector")}),s.$$.update=()=>{s.$$.dirty&4&&(r.session?t(0,i="list-selector"):t(0,i="auth")),s.$$.dirty&2&&l.selectedList&&t(0,i="manager")},[i,l,r]}class Pl extends le{constructor(e){super(),te(this,e,Ol,Nl,W,{})}}new Pl({target:document.getElementById("app")});
