var ll=Object.defineProperty;var rl=(r,e,t)=>e in r?ll(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var sl=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Ge=(r,e,t)=>rl(r,typeof e!="symbol"?e+"":e,t);var Dr=sl(($r,We)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();function G(){}function Ut(r){return r()}function nt(){return Object.create(null)}function Se(r){r.forEach(Ut)}function $t(r){return typeof r=="function"}function he(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let Je;function Re(r,e){return r===e?!0:(Je||(Je=document.createElement("a")),Je.href=e,r===Je.href)}function nl(r){return Object.keys(r).length===0}function il(r,...e){if(r==null){for(const l of e)l(void 0);return G}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ve(r,e,t){r.$$.on_destroy.push(il(e,t))}function o(r,e){r.appendChild(e)}function x(r,e,t){r.insertBefore(e,t||null)}function S(r){r.parentNode&&r.parentNode.removeChild(r)}function $e(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function p(r){return document.createElement(r)}function P(r){return document.createTextNode(r)}function C(){return P(" ")}function Ee(){return P("")}function le(r,e,t,l){return r.addEventListener(e,t,l),()=>r.removeEventListener(e,t,l)}function zt(r){return function(e){return e.preventDefault(),r.call(this,e)}}function ol(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function c(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function al(r){return Array.from(r.childNodes)}function W(r,e){e=""+e,r.data!==e&&(r.data=e)}function pe(r,e){r.value=e??""}function it(r,e,t){for(let l=0;l<r.options.length;l+=1){const s=r.options[l];if(s.__value===e){s.selected=!0;return}}r.selectedIndex=-1}function cl(r,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:l})}let He;function ze(r){He=r}function Ht(){if(!He)throw new Error("Function called outside component initialization");return He}function qt(r){Ht().$$.on_mount.push(r)}function dl(){const r=Ht();return(e,t,{cancelable:l=!1}={})=>{const s=r.$$.callbacks[e];if(s){const n=cl(e,t,{cancelable:l});return s.slice().forEach(i=>{i.call(r,n)}),!n.defaultPrevented}return!0}}function ul(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Fe=[],ot=[];let je=[];const at=[],fl=Promise.resolve();let Xe=!1;function ml(){Xe||(Xe=!0,fl.then(Wt))}function et(r){je.push(r)}const Ke=new Set;let Ne=0;function Wt(){if(Ne!==0)return;const r=He;do{try{for(;Ne<Fe.length;){const e=Fe[Ne];Ne++,ze(e),pl(e.$$)}}catch(e){throw Fe.length=0,Ne=0,e}for(ze(null),Fe.length=0,Ne=0;ot.length;)ot.pop()();for(let e=0;e<je.length;e+=1){const t=je[e];Ke.has(t)||(Ke.add(t),t())}je.length=0}while(Fe.length);for(;at.length;)at.pop()();Xe=!1,Ke.clear(),ze(r)}function pl(r){if(r.fragment!==null){r.update(),Se(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(et)}}function bl(r){const e=[],t=[];je.forEach(l=>r.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),je=e}const Ve=new Set;let Te;function De(){Te={r:0,c:[],p:Te}}function Ue(){Te.r||Se(Te.c),Te=Te.p}function Q(r,e){r&&r.i&&(Ve.delete(r),r.i(e))}function ne(r,e,t,l){if(r&&r.o){if(Ve.has(r))return;Ve.add(r),Te.c.push(()=>{Ve.delete(r),l&&(t&&r.d(1),l())}),r.o(e)}else l&&l()}function ue(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function ye(r){r&&r.c()}function be(r,e,t){const{fragment:l,after_update:s}=r.$$;l&&l.m(e,t),et(()=>{const n=r.$$.on_mount.map(Ut).filter($t);r.$$.on_destroy?r.$$.on_destroy.push(...n):Se(n),r.$$.on_mount=[]}),s.forEach(et)}function ge(r,e){const t=r.$$;t.fragment!==null&&(bl(t.after_update),Se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function gl(r,e){r.$$.dirty[0]===-1&&(Fe.push(r),ml(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ke(r,e,t,l,s,n,i=null,f=[-1]){const d=He;ze(r);const a=r.$$={fragment:null,ctx:[],props:n,update:G,not_equal:s,bound:nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:nt(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};i&&i(a.root);let u=!1;if(a.ctx=t?t(r,e.props||{},(b,_,...h)=>{const y=h.length?h[0]:_;return a.ctx&&s(a.ctx[b],a.ctx[b]=y)&&(!a.skip_bound&&a.bound[b]&&a.bound[b](y),u&&gl(r,b)),_}):[],a.update(),u=!0,Se(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const b=al(e.target);a.fragment&&a.fragment.l(b),b.forEach(S)}else a.fragment&&a.fragment.c();e.intro&&Q(r.$$.fragment),be(r,e.target,e.anchor),Wt()}ze(d)}class we{constructor(){Ge(this,"$$");Ge(this,"$$set")}$destroy(){ge(this,1),this.$destroy=G}$on(e,t){if(!$t(t))return G;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const s=l.indexOf(t);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!nl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const hl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(hl);const Ae=[];function Jt(r,e=G){let t;const l=new Set;function s(f){if(he(r,f)&&(r=f,t)){const d=!Ae.length;for(const a of l)a[1](),Ae.push(a,r);if(d){for(let a=0;a<Ae.length;a+=2)Ae[a][0](Ae[a+1]);Ae.length=0}}}function n(f){s(f(r))}function i(f,d=G){const a=[f,d];return l.add(a),l.size===1&&(t=e(s,n)||G),f(r),()=>{l.delete(a),l.size===0&&t&&(t(),t=null)}}return{set:s,update:n,subscribe:i}}const Oe={SESSION:"bluesky_session"};function _l(){const{subscribe:r,set:e,update:t}=Jt({session:null,isLoading:!1,error:null});return{subscribe:r,setSession:l=>{l?localStorage.setItem(Oe.SESSION,JSON.stringify(l)):localStorage.removeItem(Oe.SESSION),e({session:l,isLoading:!1,error:null})},setLoading:l=>{t(s=>({...s,isLoading:l}))},setError:l=>{t(s=>({...s,error:l,isLoading:!1}))},getSession:()=>{const l=localStorage.getItem(Oe.SESSION);if(l)try{return JSON.parse(l)}catch{localStorage.removeItem(Oe.SESSION)}return null},clearSession:()=>{localStorage.removeItem(Oe.SESSION),e({session:null,isLoading:!1,error:null})},signOut:()=>{localStorage.removeItem(Oe.SESSION),e({session:null,isLoading:!1,error:null})}}}const Ie=_l(),vl=!0,qe={apiBase:"./api",staticBase:"static",isDevelopment:!1,isProduction:vl,buildTime:new Date().toISOString(),getAssetPath:r=>`./${r}`},xe=qe.apiBase;class yl{async signIn(e,t){const l=await fetch(`${xe}/auth.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handle:e,password:t})});if(!l.ok){const s=await l.json();throw new Error(s.message||"Failed to sign in")}return await l.json()}async getUserLists(e){const t=await fetch(`${xe}/lists.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e})});if(!t.ok)throw new Error("Failed to fetch user lists");return(await t.json()).lists||[]}async getListInfo(e,t){const l=await fetch(`${xe}/list-info.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,listUri:t})});if(!l.ok)throw new Error("Failed to fetch list info");return(await l.json()).value}async getListMembers(e,t){const l=await fetch(`${xe}/list-members.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,listUri:t})});if(!l.ok)throw new Error("Failed to fetch list members");return(await l.json()).members||[]}async getProfiles(e,t){if(!t||t.length===0)return[];const l=await fetch(`${xe}/profiles.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,dids:t})});if(!l.ok)throw new Error("Failed to fetch profiles");return(await l.json()).profiles||[]}async searchProfiles(e,t,l=25,s=null){const n=await fetch(`${xe}/search.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,query:t,limit:l,cursor:s})});if(!n.ok)throw new Error("Failed to search profiles");const i=await n.json();return{actors:i.actors||[],cursor:i.cursor}}async addToList(e,t,l){const s=await fetch(`${xe}/add-to-list.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,userDid:t,listUri:l})});if(!s.ok){const n=await s.json();throw new Error(n.message||"Failed to add to list")}return await s.json()}async resolveHandle(e){const t=await fetch(`${xe}/resolve-handle.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handle:e})});if(!t.ok)throw new Error("Failed to resolve handle");return(await t.json()).did}}const Me=new yl,Ce={SELECTED_LIST:"bluesky_selected_list",LISTS:"bluesky_lists"};function kl(){const{subscribe:r,update:e}=Jt({selectedList:null,userLists:[],listMembers:[],listMemberProfiles:[],isLoading:!1,error:null});let t=!1;return{subscribe:r,setSelectedList:l=>{l?localStorage.setItem(Ce.SELECTED_LIST,JSON.stringify(l)):localStorage.removeItem(Ce.SELECTED_LIST),e(s=>({...s,selectedList:l,isLoadingList:!!l,listMembers:[],listMemberProfiles:[]}))},setListLoading:l=>{e(s=>({...s,isLoadingList:l}))},setUserLists:l=>{localStorage.setItem(Ce.LISTS,JSON.stringify(l)),e(s=>({...s,userLists:l}))},setListMembers:l=>{e(s=>({...s,listMembers:l}))},setListMemberProfiles:l=>{e(s=>({...s,listMemberProfiles:l}))},addProfileToList:l=>{e(s=>{const n=s.listMembers.includes(l)?s.listMembers:[l,...s.listMembers];return{...s,listMembers:n}})},addProfileToDisplay:l=>{e(s=>{if(s.listMembers.indexOf(l.did)<25){const i=[l,...s.listMemberProfiles];return{...s,listMemberProfiles:i.slice(0,25)}}return s})},fetchAndAddProfile:(l,s)=>new Promise(async n=>{if(t){n();return}t=!0;try{const i=await Me.getProfiles(l,[s]);if(i.length>0){const f=i[0];e(d=>{const a=d.listMembers.includes(s)?d.listMembers:[s,...d.listMembers];if(a.indexOf(s)<25){const b=d.listMemberProfiles.filter(h=>h.did!==s),_=[f,...b];return{...d,listMembers:a,listMemberProfiles:_.slice(0,25)}}return{...d,listMembers:a}})}}catch(i){console.error("Failed to fetch profile data:",i),e(f=>{const d=f.listMembers.includes(s)?f.listMembers:[s,...f.listMembers];return{...f,listMembers:d}})}finally{t=!1}n()}),refreshListMembers:()=>{e(l=>({...l,refreshTrigger:Date.now()}))},setLoading:l=>{e(s=>({...s,isLoading:l}))},setError:l=>{e(s=>({...s,error:l,isLoading:!1}))},getSelectedList:()=>{const l=localStorage.getItem(Ce.SELECTED_LIST);if(l)try{return JSON.parse(l)}catch{localStorage.removeItem(Ce.SELECTED_LIST)}return null},getUserLists:()=>{const l=localStorage.getItem(Ce.LISTS);if(l)try{return JSON.parse(l)}catch{localStorage.removeItem(Ce.LISTS)}return[]},clearSelectedList:()=>{localStorage.removeItem(Ce.SELECTED_LIST),e(l=>({...l,selectedList:null}))}}}const ce=kl();function ct(r){let e,t,l;return{c(){e=p("div"),t=p("p"),l=P(r[3]),c(t,"class","text-red-700 text-sm"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-3")},m(s,n){x(s,e,n),o(e,t),o(t,l)},p(s,n){n&8&&W(l,s[3])},d(s){s&&S(e)}}}function wl(r){let e;return{c(){e=P("Sign In")},m(t,l){x(t,e,l)},d(t){t&&S(e)}}}function Ll(r){let e,t;return{c(){e=p("span"),t=P(`
              Signing in...`),c(e,"class","loading-spinner mr-2 svelte-pxijdq")},m(l,s){x(l,e,s),x(l,t,s)},d(l){l&&(S(e),S(t))}}}function Ml(r){let e,t,l,s,n,i,f,d,a,u,b,_,h,y,v,w,N,j,J,$,M,O,R,I,L,k,F,V,B=r[3]&&ct(r);function q(X,ie){return X[2]?Ll:wl}let ee=q(r),oe=ee(r);return{c(){e=p("div"),t=p("div"),l=p("div"),s=p("h2"),s.textContent="Sign in to Bluesky",n=C(),i=p("button"),i.textContent="×",f=C(),d=p("form"),a=p("div"),u=p("div"),b=p("label"),b.textContent="Handle",_=C(),h=p("input"),y=C(),v=p("div"),w=p("label"),w.textContent="App Password",N=C(),j=p("input"),J=C(),$=p("p"),$.textContent="Use an app password, not your main account password",M=C(),B&&B.c(),O=C(),R=p("div"),I=p("button"),I.textContent="Cancel",L=C(),k=p("button"),oe.c(),c(s,"class","text-xl font-semibold text-slate-800"),c(i,"class","text-gray-400 hover:text-gray-600 text-2xl font-bold"),c(l,"class","flex items-center justify-between mb-4"),c(b,"for","handle"),c(b,"class","block text-sm font-medium text-gray-700 mb-1"),c(h,"id","handle"),c(h,"type","text"),c(h,"placeholder","your-handle.bsky.social"),c(h,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),h.required=!0,c(w,"for","password"),c(w,"class","block text-sm font-medium text-gray-700 mb-1"),c(j,"id","password"),c(j,"type","password"),c(j,"placeholder","Your app password"),c(j,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),j.required=!0,c($,"class","text-xs text-gray-500 mt-1"),c(I,"type","button"),c(I,"class","flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200"),c(k,"type","submit"),k.disabled=r[2],c(k,"class","flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200"),c(R,"class","flex space-x-3 pt-2"),c(a,"class","space-y-4"),c(t,"class","bg-white rounded-lg shadow-xl max-w-md w-full p-6"),c(t,"role","document"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"),c(e,"role","dialog"),c(e,"aria-modal","true"),c(e,"tabindex","-1")},m(X,ie){x(X,e,ie),o(e,t),o(t,l),o(l,s),o(l,n),o(l,i),o(t,f),o(t,d),o(d,a),o(a,u),o(u,b),o(u,_),o(u,h),pe(h,r[0]),o(a,y),o(a,v),o(v,w),o(v,N),o(v,j),pe(j,r[1]),o(v,J),o(v,$),o(a,M),B&&B.m(a,null),o(a,O),o(a,R),o(R,I),o(R,L),o(R,k),oe.m(k,null),F||(V=[le(i,"click",r[5]),le(h,"input",r[8]),le(j,"input",r[9]),le(I,"click",r[5]),le(d,"submit",zt(r[4])),le(t,"click",ol(r[7])),le(e,"click",r[6]),le(e,"keydown",r[10])],F=!0)},p(X,[ie]){ie&1&&h.value!==X[0]&&pe(h,X[0]),ie&2&&j.value!==X[1]&&pe(j,X[1]),X[3]?B?B.p(X,ie):(B=ct(X),B.c(),B.m(a,O)):B&&(B.d(1),B=null),ee!==(ee=q(X))&&(oe.d(1),oe=ee(X),oe&&(oe.c(),oe.m(k,null))),ie&4&&(k.disabled=X[2])},i:G,o:G,d(X){X&&S(e),B&&B.d(),oe.d(),F=!1,Se(V)}}}function Sl(r,e,t){const l=dl();let s="",n="",i=!1,f="";async function d(){if(!s||!n){t(3,f="Please enter both handle and password");return}t(2,i=!0),t(3,f="");try{const v=await Me.signIn(s,n);Ie.setSession(v),l("close")}catch(v){t(3,f=v.message||"Failed to sign in. Please check your credentials.")}finally{t(2,i=!1)}}function a(){l("close")}function u(){a()}function b(v){ul.call(this,r,v)}function _(){s=this.value,t(0,s)}function h(){n=this.value,t(1,n)}return[s,n,i,f,d,a,u,b,_,h,v=>v.key==="Escape"&&a()]}class Vt extends we{constructor(e){super(),ke(this,e,Sl,Ml,he,{})}}function dt(r,e,t){const l=r.slice();return l[10]=e[t],l}function xl(r){let e,t,l;return{c(){e=p("button"),e.textContent="🔐 Sign in with Bluesky",c(e,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-5 py-2.5 rounded-lg text-sm font-medium cursor-pointer transition-colors duration-200")},m(s,n){x(s,e,n),t||(l=le(e,"click",r[6]),t=!0)},p:G,d(s){s&&S(e),t=!1,l()}}}function Cl(r){let e,t,l,s,n,i,f,d,a,u,b,_=r[1].session.handle+"",h,y,v,w,N;function j(O,R){return O[3]?Il:O[4]?Tl:Pl}let J=j(r),$=J(r),M=r[3]&&ft();return{c(){e=p("div"),t=p("label"),t.textContent="List:",l=C(),s=p("select"),n=p("option"),n.textContent="Select a list...",$.c(),f=C(),M&&M.c(),d=C(),a=p("div"),u=p("div"),b=P("@"),h=P(_),y=C(),v=p("button"),v.textContent="Sign out",c(t,"for","list-selector"),c(t,"class","text-sm font-medium text-slate-700 whitespace-nowrap"),n.__value="",pe(n,n.__value),c(s,"id","list-selector"),s.disabled=r[3],c(s,"class","bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm w-64 text-slate-800 focus:border-slate-500 focus:ring-1 focus:ring-slate-500 disabled:opacity-50 disabled:cursor-not-allowed"),c(e,"class","flex items-center space-x-3"),c(u,"class","text-sm text-slate-700"),c(v,"class","bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-300 px-3 py-1.5 rounded-lg text-xs cursor-pointer transition-colors duration-200 font-medium"),c(a,"class","text-right")},m(O,R){var I;x(O,e,R),o(e,t),o(e,l),o(e,s),o(s,n),$.m(s,null),it(s,((I=r[0].selectedList)==null?void 0:I.uri)||""),o(e,f),M&&M.m(e,null),x(O,d,R),x(O,a,R),o(a,u),o(u,b),o(u,h),o(a,y),o(a,v),w||(N=[le(s,"change",r[5]),le(v,"click",r[8])],w=!0)},p(O,R){var I,L;J===(J=j(O))&&$?$.p(O,R):($.d(1),$=J(O),$&&($.c(),$.m(s,null))),R&1&&i!==(i=((I=O[0].selectedList)==null?void 0:I.uri)||"")&&it(s,((L=O[0].selectedList)==null?void 0:L.uri)||""),R&8&&(s.disabled=O[3]),O[3]?M||(M=ft(),M.c(),M.m(e,null)):M&&(M.d(1),M=null),R&2&&_!==(_=O[1].session.handle+"")&&W(h,_)},d(O){O&&(S(e),S(d),S(a)),$.d(),M&&M.d(),w=!1,Se(N)}}}function Pl(r){let e,t=ue(r[0].userLists),l=[];for(let s=0;s<t.length;s+=1)l[s]=ut(dt(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ee()},m(s,n){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(s,n);x(s,e,n)},p(s,n){if(n&1){t=ue(s[0].userLists);let i;for(i=0;i<t.length;i+=1){const f=dt(s,t,i);l[i]?l[i].p(f,n):(l[i]=ut(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){s&&S(e),$e(l,s)}}}function Tl(r){let e;return{c(){e=p("option"),e.textContent="Error loading lists",e.disabled=!0,e.__value="Error loading lists",pe(e,e.__value)},m(t,l){x(t,e,l)},p:G,d(t){t&&S(e)}}}function Il(r){let e;return{c(){e=p("option"),e.textContent="Loading lists...",e.disabled=!0,e.__value="Loading lists...",pe(e,e.__value)},m(t,l){x(t,e,l)},p:G,d(t){t&&S(e)}}}function ut(r){var a;let e,t=r[10].name+"",l,s,n=(((a=r[0].selectedList)==null?void 0:a.uri)===r[10].uri?r[0].listMembers.length:r[10].memberCount)+"",i,f,d;return{c(){e=p("option"),l=P(t),s=P(" ("),i=P(n),f=P(` members)
									`),e.__value=d=r[10].uri,pe(e,e.__value)},m(u,b){x(u,e,b),o(e,l),o(e,s),o(e,i),o(e,f)},p(u,b){var _;b&1&&t!==(t=u[10].name+"")&&W(l,t),b&1&&n!==(n=(((_=u[0].selectedList)==null?void 0:_.uri)===u[10].uri?u[0].listMembers.length:u[10].memberCount)+"")&&W(i,n),b&1&&d!==(d=u[10].uri)&&(e.__value=d,pe(e,e.__value))},d(u){u&&S(e)}}}function ft(r){let e;return{c(){e=p("div"),c(e,"class","loading-spinner svelte-1myfg8v")},m(t,l){x(t,e,l)},d(t){t&&S(e)}}}function mt(r){let e,t;return e=new Vt({}),e.$on("close",r[7]),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},p:G,i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function El(r){let e,t,l,s,n,i,f,d,a;function u(y,v){return y[1].session?Cl:xl}let b=u(r),_=b(r),h=r[2]&&mt(r);return{c(){e=p("header"),t=p("div"),l=p("div"),s=p("div"),s.innerHTML=`<h1 class="text-2xl font-bold m-0 text-slate-800 flex items-center gap-2"><img src="${qe.getAssetPath("static/Bluesky_Logo.svg")}" class="w-6 h-6" alt="Bluesky Logo"/>
					Bluesky List Manager</h1> <p class="text-sm text-slate-600 m-0 mt-1">Manage members in your Bluesky lists</p>`,n=C(),i=p("div"),_.c(),f=C(),h&&h.c(),d=Ee(),c(i,"class","flex items-center space-x-4"),c(l,"class","flex items-center justify-between mb-4"),c(t,"class","max-w-6xl mx-auto px-6 py-4"),c(e,"class","bg-white border-b border-gray-200 sticky top-0 z-50")},m(y,v){x(y,e,v),o(e,t),o(t,l),o(l,s),o(l,n),o(l,i),_.m(i,null),x(y,f,v),h&&h.m(y,v),x(y,d,v),a=!0},p(y,[v]){b===(b=u(y))&&_?_.p(y,v):(_.d(1),_=b(y),_&&(_.c(),_.m(i,null))),y[2]?h?(h.p(y,v),v&4&&Q(h,1)):(h=mt(y),h.c(),Q(h,1),h.m(d.parentNode,d)):h&&(De(),ne(h,1,1,()=>{h=null}),Ue())},i(y){a||(Q(h),a=!0)},o(y){ne(h),a=!1},d(y){y&&(S(e),S(f),S(d)),_.d(),h&&h.d(y)}}}function Nl(r,e,t){let l,s;ve(r,ce,h=>t(0,l=h)),ve(r,Ie,h=>t(1,s=h));let n=!1,i=!1,f="";qt(async()=>{s.session&&await d()});async function d(){if(s.session){t(3,i=!0),t(4,f="");try{const y=(await Me.getUserLists(s.session)).map(v=>({uri:v.uri,name:v.name,description:v.description||"",purpose:v.purpose||"app.bsky.graph.defs#modlist",createdAt:v.createdAt,memberCount:v.listItemCount||0})).sort((v,w)=>new Date(w.createdAt)-new Date(v.createdAt));ce.setUserLists(y)}catch(h){t(4,f=h.message||"Failed to load your lists")}finally{t(3,i=!1)}}}function a(h){const y=h.target.value;if(y){const v=l.userLists.find(w=>w.uri===y);v&&ce.setSelectedList(v)}else ce.setSelectedList(null)}function u(){t(2,n=!0)}function b(){t(2,n=!1)}function _(){Ie.signOut(),ce.setSelectedList(null)}return r.$$.update=()=>{r.$$.dirty&3&&s.session&&l.userLists.length===0&&d()},[l,s,n,i,f,a,u,b,_]}class Al extends we{constructor(e){super(),ke(this,e,Nl,El,he,{})}}function pt(r){let e,t;return e=new Vt({}),e.$on("close",r[2]),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},p:G,i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Ol(r){let e,t,l,s,n,i,f,d,a,u,b,_,h,y,v,w=r[0]&&pt(r);return{c(){e=p("div"),t=p("div"),t.innerHTML=`<div class="text-6xl mb-4"><img src="${qe.getAssetPath("static/Bluesky_Logo.svg")}" class="w-16 h-16 mx-auto" alt="Bluesky Logo"/></div> <h2 class="text-3xl font-bold text-slate-800 mb-4">Welcome to Bluesky List Manager</h2> <p class="text-lg text-slate-600 mb-6">Find and manage profiles in your Bluesky lists with ease.</p>`,l=C(),s=p("div"),n=p("div"),n.innerHTML='<h3 class="text-lg font-semibold text-blue-800 mb-3">🔍 What you can do:</h3> <ul class="space-y-2 text-blue-700"><li class="flex items-start"><span class="text-blue-500 mr-2">•</span> <span><strong>Search profiles</strong> by keywords in their bio, display name, or handle</span></li> <li class="flex items-start"><span class="text-blue-500 mr-2">•</span> <span><strong>Check if profiles</strong> are already in your selected list</span></li> <li class="flex items-start"><span class="text-blue-500 mr-2">•</span> <span><strong>Add multiple profiles</strong> to your lists with one click</span></li> <li class="flex items-start"><span class="text-blue-500 mr-2">•</span> <span><strong>View and manage</strong> your existing list members</span></li></ul>',i=C(),f=p("div"),f.innerHTML=`<h3 class="text-lg font-semibold text-green-800 mb-3">🔐 Privacy &amp; Security</h3> <p class="text-green-700 mb-3">This app is a client-side application. Your Bluesky credentials are stored locally in your
				browser and are never sent to our servers. We only communicate directly with Bluesky&#39;s API
				using your authentication token.</p> <p class="text-sm text-green-600"><strong>Your data stays private and secure.</strong> Feel free to inspect the source code
				(and contribute!) on
				<a href="https://github.com/pixeline/bluesky-profile-catcher" class="text-green-600 hover:text-green-700 underline">GitHub</a>.</p>`,d=C(),a=p("div"),u=p("button"),u.textContent="🔐 Get Started - Sign in with Bluesky",b=C(),w&&w.c(),_=Ee(),c(t,"class","text-center mb-8"),c(n,"class","bg-blue-50 p-6 rounded-lg border border-blue-200"),c(f,"class","bg-green-50 p-6 rounded-lg border border-green-200"),c(u,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-8 py-3 rounded-lg text-lg font-medium cursor-pointer transition-colors duration-200"),c(a,"class","text-center"),c(s,"class","space-y-6"),c(e,"class","bg-white p-8 rounded-lg shadow-sm border border-gray-200 max-w-2xl mx-auto")},m(N,j){x(N,e,j),o(e,t),o(e,l),o(e,s),o(s,n),o(s,i),o(s,f),o(s,d),o(s,a),o(a,u),x(N,b,j),w&&w.m(N,j),x(N,_,j),h=!0,y||(v=le(u,"click",r[1]),y=!0)},p(N,[j]){N[0]?w?(w.p(N,j),j&1&&Q(w,1)):(w=pt(N),w.c(),Q(w,1),w.m(_.parentNode,_)):w&&(De(),ne(w,1,1,()=>{w=null}),Ue())},i(N){h||(Q(w),h=!0)},o(N){ne(w),h=!1},d(N){N&&(S(e),S(b),S(_)),w&&w.d(N),y=!1,v()}}}function Fl(r,e,t){let l=!1;function s(){t(0,l=!0)}function n(){t(0,l=!1)}return[l,s,n]}class Bl extends we{constructor(e){super(),ke(this,e,Fl,Ol,he,{})}}function jl(r){let e,t,l;return{c(){e=p("h3"),e.textContent="Select a List",t=C(),l=p("p"),l.textContent="Choose a list from the dropdown above to get started.",c(e,"class","text-lg font-semibold text-slate-800 mb-2"),c(l,"class","text-slate-600")},m(s,n){x(s,e,n),x(s,t,n),x(s,l,n)},d(s){s&&(S(e),S(t),S(l))}}}function Rl(r){let e,t,l;return{c(){e=p("h3"),e.textContent="No Lists Found",t=C(),l=p("p"),l.textContent="You don't have any lists yet. Create a list on Bluesky first!",c(e,"class","text-lg font-semibold text-slate-800 mb-2"),c(l,"class","text-slate-600")},m(s,n){x(s,e,n),x(s,t,n),x(s,l,n)},d(s){s&&(S(e),S(t),S(l))}}}function Dl(r){let e,t,l,s,n,i,f;function d(b,_){return b[0].userLists.length===0?Rl:jl}let a=d(r),u=a(r);return{c(){e=p("div"),t=p("div"),l=p("div"),l.innerHTML='<h2 class="text-2xl font-bold text-slate-800 mb-2">Welcome to Bluesky List Manager</h2> <p class="text-slate-600">Select a list from the dropdown in the header above to start managing your Bluesky lists.</p>',s=C(),n=p("div"),i=p("div"),i.innerHTML=`<img src="${qe.getAssetPath("static/Bluesky_Logo.svg")}" class="w-16 h-16 mx-auto grayscale opacity-10" alt="Bluesky Logo"/>`,f=C(),u.c(),c(l,"class","text-center mb-8"),c(i,"class","text-4xl mb-4"),c(n,"class","text-center py-12"),c(t,"class","bg-white p-8 rounded-lg shadow-sm border border-gray-200"),c(e,"class","max-w-4xl mx-auto")},m(b,_){x(b,e,_),o(e,t),o(t,l),o(t,s),o(t,n),o(n,i),o(n,f),u.m(n,null)},p(b,[_]){a!==(a=d(b))&&(u.d(1),u=a(b),u&&(u.c(),u.m(n,null)))},i:G,o:G,d(b){b&&S(e),u.d()}}}function Ul(r,e,t){let l;return ve(r,ce,s=>t(0,l=s)),[l]}class $l extends we{constructor(e){super(),ke(this,e,Ul,Dl,he,{})}}function zl(r){let e,t,l,s,n,i,f,d,a,u,b,_=(r[0].displayName||r[0].handle)+"",h,y,v,w,N=r[0].handle+"",j,J,$,M=r[0].description&&bt(r);function O(L,k){if(L[3]==="Already in list")return Jl;if(L[3]==="New candidate")return Wl;if(L[2])return ql}let R=O(r),I=R&&R(r);return{c(){e=p("div"),t=p("div"),l=p("div"),s=p("img"),d=C(),a=p("div"),u=p("div"),b=p("h3"),h=P(_),y=C(),v=p("span"),w=P("@"),j=P(N),J=C(),M&&M.c(),$=C(),I&&I.c(),Re(s.src,n=Ye(r[0]))||c(s,"src",n),c(s,"alt",i=r[0].displayName||r[0].handle),c(s,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(s,"onerror",f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(r[0].displayName||r[0].handle)+"&background=6366f1&color=fff&size=64'"),c(l,"class","flex-shrink-0"),c(b,"class","text-base font-semibold text-gray-900 truncate"),c(v,"class","text-sm text-gray-600 truncate"),c(u,"class","flex items-center space-x-2 mb-1"),c(a,"class","flex-1 min-w-0"),c(t,"class","flex items-start space-x-3"),c(e,"class","profile-card bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200")},m(L,k){x(L,e,k),o(e,t),o(t,l),o(l,s),o(t,d),o(t,a),o(a,u),o(u,b),o(b,h),o(u,y),o(u,v),o(v,w),o(v,j),o(a,J),M&&M.m(a,null),o(a,$),I&&I.m(a,null)},p(L,k){k&1&&!Re(s.src,n=Ye(L[0]))&&c(s,"src",n),k&1&&i!==(i=L[0].displayName||L[0].handle)&&c(s,"alt",i),k&1&&f!==(f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(L[0].displayName||L[0].handle)+"&background=6366f1&color=fff&size=64'")&&c(s,"onerror",f),k&1&&_!==(_=(L[0].displayName||L[0].handle)+"")&&W(h,_),k&1&&N!==(N=L[0].handle+"")&&W(j,N),L[0].description?M?M.p(L,k):(M=bt(L),M.c(),M.m(a,$)):M&&(M.d(1),M=null),R===(R=O(L))&&I?I.p(L,k):(I&&I.d(1),I=R&&R(L),I&&(I.c(),I.m(a,null)))},d(L){L&&S(e),M&&M.d(),I&&I.d()}}}function Hl(r){let e,t,l,s,n,i,f,d,a,u,b,_=(r[0].displayName||r[0].handle)+"",h,y,v,w,N=r[0].handle+"",j,J,$,M,O,R,I,L,k=r[0].description&&gt(r);function F(q,ee){if(q[3]==="Already in list")return Kl;if(q[3]==="New candidate")return Gl;if(q[2])return Zl}let V=F(r),B=V&&V(r);return{c(){e=p("a"),t=p("div"),l=p("div"),s=p("img"),d=C(),a=p("div"),u=p("div"),b=p("h3"),h=P(_),y=C(),v=p("span"),w=P("@"),j=P(N),J=C(),k&&k.c(),$=C(),B&&B.c(),M=C(),O=p("div"),O.innerHTML='<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>',Re(s.src,n=Ye(r[0]))||c(s,"src",n),c(s,"alt",i=r[0].displayName||r[0].handle),c(s,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(s,"onerror",f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(r[0].displayName||r[0].handle)+"&background=6366f1&color=fff&size=64'"),c(l,"class","flex-shrink-0"),c(b,"class","text-base font-semibold text-gray-900 truncate"),c(v,"class","text-sm text-gray-600 truncate"),c(u,"class","flex items-center space-x-2 mb-1"),c(a,"class","flex-1 min-w-0"),c(O,"class","flex-shrink-0"),c(t,"class","flex items-start space-x-3"),c(e,"href",R="https://bsky.app/profile/"+r[0].handle),c(e,"target","_blank"),c(e,"rel","noopener noreferrer"),c(e,"class","profile-card block bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md hover:border-gray-300 transition-all duration-200")},m(q,ee){x(q,e,ee),o(e,t),o(t,l),o(l,s),o(t,d),o(t,a),o(a,u),o(u,b),o(b,h),o(u,y),o(u,v),o(v,w),o(v,j),o(a,J),k&&k.m(a,null),o(a,$),B&&B.m(a,null),o(t,M),o(t,O),I||(L=le(e,"click",r[8]),I=!0)},p(q,ee){ee&1&&!Re(s.src,n=Ye(q[0]))&&c(s,"src",n),ee&1&&i!==(i=q[0].displayName||q[0].handle)&&c(s,"alt",i),ee&1&&f!==(f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(q[0].displayName||q[0].handle)+"&background=6366f1&color=fff&size=64'")&&c(s,"onerror",f),ee&1&&_!==(_=(q[0].displayName||q[0].handle)+"")&&W(h,_),ee&1&&N!==(N=q[0].handle+"")&&W(j,N),q[0].description?k?k.p(q,ee):(k=gt(q),k.c(),k.m(a,$)):k&&(k.d(1),k=null),V===(V=F(q))&&B?B.p(q,ee):(B&&B.d(1),B=V&&V(q),B&&(B.c(),B.m(a,null))),ee&1&&R!==(R="https://bsky.app/profile/"+q[0].handle)&&c(e,"href",R)},d(q){q&&S(e),k&&k.d(),B&&B.d(),I=!1,L()}}}function bt(r){let e,t=r[0].description+"",l;return{c(){e=p("p"),l=P(t),c(e,"class","text-sm text-gray-700 mb-3 whitespace-pre-wrap")},m(s,n){x(s,e,n),o(e,l)},p(s,n){n&1&&t!==(t=s[0].description+"")&&W(l,t)},d(s){s&&S(e)}}}function ql(r){let e,t,l,s,n,i;return{c(){e=p("div"),t=p("input"),l=C(),s=p("span"),s.textContent="Select to add to list",c(t,"type","checkbox"),t.checked=r[1],c(t,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"),c(s,"class","text-sm text-gray-600"),c(e,"class","flex items-center space-x-2")},m(f,d){x(f,e,d),o(e,t),o(e,l),o(e,s),n||(i=le(t,"change",r[6]),n=!0)},p(f,d){d&2&&(t.checked=f[1])},d(f){f&&S(e),n=!1,i()}}}function Wl(r){let e,t,l,s,n,i,f;function d(b,_){return b[5]?Yl:Vl}let a=d(r),u=a(r);return{c(){e=p("div"),t=p("span"),l=P(r[3]),s=C(),n=p("button"),u.c(),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"),n.disabled=r[5],c(n,"class","inline-flex items-center px-3 py-1 rounded text-xs font-medium bg-slate-800 hover:bg-slate-700 text-white border-0 cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","flex items-center space-x-2")},m(b,_){x(b,e,_),o(e,t),o(t,l),o(e,s),o(e,n),u.m(n,null),i||(f=le(n,"click",r[7]),i=!0)},p(b,_){_&8&&W(l,b[3]),a!==(a=d(b))&&(u.d(1),u=a(b),u&&(u.c(),u.m(n,null))),_&32&&(n.disabled=b[5])},d(b){b&&S(e),u.d(),i=!1,f()}}}function Jl(r){let e,t,l;return{c(){e=p("div"),t=p("span"),l=P(r[3]),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"),c(e,"class","flex items-center space-x-2")},m(s,n){x(s,e,n),o(e,t),o(t,l)},p(s,n){n&8&&W(l,s[3])},d(s){s&&S(e)}}}function Vl(r){let e;return{c(){e=P("Add to list")},m(t,l){x(t,e,l)},d(t){t&&S(e)}}}function Yl(r){let e,t;return{c(){e=p("span"),t=P(`
                Adding...`),c(e,"class","loading-spinner mr-1")},m(l,s){x(l,e,s),x(l,t,s)},d(l){l&&(S(e),S(t))}}}function gt(r){let e,t=r[0].description+"",l;return{c(){e=p("p"),l=P(t),c(e,"class","text-sm text-gray-700 mb-3 whitespace-pre-wrap")},m(s,n){x(s,e,n),o(e,l)},p(s,n){n&1&&t!==(t=s[0].description+"")&&W(l,t)},d(s){s&&S(e)}}}function Zl(r){let e,t,l,s,n,i;return{c(){e=p("div"),t=p("input"),l=C(),s=p("span"),s.textContent="Select to add to list",c(t,"type","checkbox"),t.checked=r[1],c(t,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"),c(s,"class","text-sm text-gray-600"),c(e,"class","flex items-center space-x-2")},m(f,d){x(f,e,d),o(e,t),o(e,l),o(e,s),n||(i=le(t,"change",r[6]),n=!0)},p(f,d){d&2&&(t.checked=f[1])},d(f){f&&S(e),n=!1,i()}}}function Gl(r){let e,t,l,s,n,i,f;function d(b,_){return b[5]?Xl:Ql}let a=d(r),u=a(r);return{c(){e=p("div"),t=p("span"),l=P(r[3]),s=C(),n=p("button"),u.c(),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"),n.disabled=r[5],c(n,"class","inline-flex items-center px-3 py-1 rounded text-xs font-medium bg-slate-800 hover:bg-slate-700 text-white border-0 cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","flex items-center space-x-2")},m(b,_){x(b,e,_),o(e,t),o(t,l),o(e,s),o(e,n),u.m(n,null),i||(f=le(n,"click",r[7]),i=!0)},p(b,_){_&8&&W(l,b[3]),a!==(a=d(b))&&(u.d(1),u=a(b),u&&(u.c(),u.m(n,null))),_&32&&(n.disabled=b[5])},d(b){b&&S(e),u.d(),i=!1,f()}}}function Kl(r){let e,t,l;return{c(){e=p("div"),t=p("span"),l=P(r[3]),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"),c(e,"class","flex items-center space-x-2")},m(s,n){x(s,e,n),o(e,t),o(t,l)},p(s,n){n&8&&W(l,s[3])},d(s){s&&S(e)}}}function Ql(r){let e;return{c(){e=P("Add to list")},m(t,l){x(t,e,l)},d(t){t&&S(e)}}}function Xl(r){let e,t;return{c(){e=p("span"),t=P(`
                Adding...`),c(e,"class","loading-spinner mr-1")},m(l,s){x(l,e,s),x(l,t,s)},d(l){l&&(S(e),S(t))}}}function er(r){let e;function t(n,i){return n[4]?Hl:zl}let l=t(r),s=l(r);return{c(){s.c(),e=Ee()},m(n,i){s.m(n,i),x(n,e,i)},p(n,[i]){l===(l=t(n))&&s?s.p(n,i):(s.d(1),s=l(n),s&&(s.c(),s.m(e.parentNode,e)))},i:G,o:G,d(n){n&&S(e),s.d(n)}}}function Ye(r){return r.avatar?r.avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(r.displayName||r.handle)}&background=6366f1&color=fff&size=64`}function tr(r,e,t){let{profile:l}=e,{isSelected:s=!1}=e,{onSelect:n=()=>{}}=e,{showCheckbox:i=!0}=e,{statusTag:f=null}=e,{clickable:d=!1}=e,{onAddToList:a=()=>{}}=e,{isAddingToList:u=!1}=e;function b(){n(l)}function _(y){y.preventDefault(),y.stopPropagation(),a(l)}function h(y){d&&!i||d&&i&&(y.target.type==="checkbox"||y.target.closest('input[type="checkbox"]'))&&(y.preventDefault(),y.stopPropagation())}return r.$$set=y=>{"profile"in y&&t(0,l=y.profile),"isSelected"in y&&t(1,s=y.isSelected),"onSelect"in y&&t(9,n=y.onSelect),"showCheckbox"in y&&t(2,i=y.showCheckbox),"statusTag"in y&&t(3,f=y.statusTag),"clickable"in y&&t(4,d=y.clickable),"onAddToList"in y&&t(10,a=y.onAddToList),"isAddingToList"in y&&t(5,u=y.isAddingToList)},[l,s,i,f,d,u,b,_,h,n,a]}class lr extends we{constructor(e){super(),ke(this,e,tr,er,he,{profile:0,isSelected:1,onSelect:9,showCheckbox:2,statusTag:3,clickable:4,onAddToList:10,isAddingToList:5})}}var We={};(function r(e,t,l,s){var n=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=function(){if(!e.OffscreenCanvas)return!1;var g=new OffscreenCanvas(1,1),m=g.getContext("2d");m.fillRect(0,0,1,1);var T=g.transferToImageBitmap();try{m.createPattern(T,"no-repeat")}catch{return!1}return!0}();function d(){}function a(g){var m=t.exports.Promise,T=m!==void 0?m:e.Promise;return typeof T=="function"?new T(g):(g(d,d),null)}var u=function(g,m){return{transform:function(T){if(g)return T;if(m.has(T))return m.get(T);var U=new OffscreenCanvas(T.width,T.height),z=U.getContext("2d");return z.drawImage(T,0,0),m.set(T,U),U},clear:function(){m.clear()}}}(f,new Map),b=function(){var g=Math.floor(16.666666666666668),m,T,U={},z=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function(D){var A=Math.random();return U[A]=requestAnimationFrame(function E(H){z===H||z+g-1<H?(z=H,delete U[A],D()):U[A]=requestAnimationFrame(E)}),A},T=function(D){U[D]&&cancelAnimationFrame(U[D])}):(m=function(D){return setTimeout(D,g)},T=function(D){return clearTimeout(D)}),{frame:m,cancel:T}}(),_=function(){var g,m,T={};function U(z){function D(A,E){z.postMessage({options:A||{},callback:E})}z.init=function(E){var H=E.transferControlToOffscreen();z.postMessage({canvas:H},[H])},z.fire=function(E,H,Z){if(m)return D(E,null),m;var re=Math.random().toString(36).slice(2);return m=a(function(K){function se(ae){ae.data.callback===re&&(delete T[re],z.removeEventListener("message",se),m=null,u.clear(),Z(),K())}z.addEventListener("message",se),D(E,re),T[re]=se.bind(null,{data:{callback:re}})}),m},z.reset=function(){z.postMessage({reset:!0});for(var E in T)T[E](),delete T[E]}}return function(){if(g)return g;if(!l&&n){var z=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{g=new Worker(URL.createObjectURL(new Blob([z])))}catch(D){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",D),null}U(g)}return g}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function y(g,m){return m?m(g):g}function v(g){return g!=null}function w(g,m,T){return y(g&&v(g[m])?g[m]:h[m],T)}function N(g){return g<0?0:Math.floor(g)}function j(g,m){return Math.floor(Math.random()*(m-g))+g}function J(g){return parseInt(g,16)}function $(g){return g.map(M)}function M(g){var m=String(g).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:J(m.substring(0,2)),g:J(m.substring(2,4)),b:J(m.substring(4,6))}}function O(g){var m=w(g,"origin",Object);return m.x=w(m,"x",Number),m.y=w(m,"y",Number),m}function R(g){g.width=document.documentElement.clientWidth,g.height=document.documentElement.clientHeight}function I(g){var m=g.getBoundingClientRect();g.width=m.width,g.height=m.height}function L(g){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=g,m}function k(g,m,T,U,z,D,A,E,H){g.save(),g.translate(m,T),g.rotate(D),g.scale(U,z),g.arc(0,0,1,A,E,H),g.restore()}function F(g){var m=g.angle*(Math.PI/180),T=g.spread*(Math.PI/180);return{x:g.x,y:g.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:g.startVelocity*.5+Math.random()*g.startVelocity,angle2D:-m+(.5*T-Math.random()*T),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:g.color,shape:g.shape,tick:0,totalTicks:g.ticks,decay:g.decay,drift:g.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:g.gravity*3,ovalScalar:.6,scalar:g.scalar,flat:g.flat}}function V(g,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var T=m.tick++/m.totalTicks,U=m.x+m.random*m.tiltCos,z=m.y+m.random*m.tiltSin,D=m.wobbleX+m.random*m.tiltCos,A=m.wobbleY+m.random*m.tiltSin;if(g.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-T)+")",g.beginPath(),i&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))g.fill(X(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs(D-U)*.1,Math.abs(A-z)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var E=Math.PI/10*m.wobble,H=Math.abs(D-U)*.1,Z=Math.abs(A-z)*.1,re=m.shape.bitmap.width*m.scalar,K=m.shape.bitmap.height*m.scalar,se=new DOMMatrix([Math.cos(E)*H,Math.sin(E)*H,-Math.sin(E)*Z,Math.cos(E)*Z,m.x,m.y]);se.multiplySelf(new DOMMatrix(m.shape.matrix));var ae=g.createPattern(u.transform(m.shape.bitmap),"no-repeat");ae.setTransform(se),g.globalAlpha=1-T,g.fillStyle=ae,g.fillRect(m.x-re/2,m.y-K/2,re,K),g.globalAlpha=1}else if(m.shape==="circle")g.ellipse?g.ellipse(m.x,m.y,Math.abs(D-U)*m.ovalScalar,Math.abs(A-z)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):k(g,m.x,m.y,Math.abs(D-U)*m.ovalScalar,Math.abs(A-z)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var Y=Math.PI/2*3,de=4*m.scalar,fe=8*m.scalar,me=m.x,Le=m.y,Pe=5,_e=Math.PI/Pe;Pe--;)me=m.x+Math.cos(Y)*fe,Le=m.y+Math.sin(Y)*fe,g.lineTo(me,Le),Y+=_e,me=m.x+Math.cos(Y)*de,Le=m.y+Math.sin(Y)*de,g.lineTo(me,Le),Y+=_e;else g.moveTo(Math.floor(m.x),Math.floor(m.y)),g.lineTo(Math.floor(m.wobbleX),Math.floor(z)),g.lineTo(Math.floor(D),Math.floor(A)),g.lineTo(Math.floor(U),Math.floor(m.wobbleY));return g.closePath(),g.fill(),m.tick<m.totalTicks}function B(g,m,T,U,z){var D=m.slice(),A=g.getContext("2d"),E,H,Z=a(function(re){function K(){E=H=null,A.clearRect(0,0,U.width,U.height),u.clear(),z(),re()}function se(){l&&!(U.width===s.width&&U.height===s.height)&&(U.width=g.width=s.width,U.height=g.height=s.height),!U.width&&!U.height&&(T(g),U.width=g.width,U.height=g.height),A.clearRect(0,0,U.width,U.height),D=D.filter(function(ae){return V(A,ae)}),D.length?E=b.frame(se):K()}E=b.frame(se),H=K});return{addFettis:function(re){return D=D.concat(re),Z},canvas:g,promise:Z,reset:function(){E&&b.cancel(E),H&&H()}}}function q(g,m){var T=!g,U=!!w(m||{},"resize"),z=!1,D=w(m,"disableForReducedMotion",Boolean),A=n&&!!w(m||{},"useWorker"),E=A?_():null,H=T?R:I,Z=g&&E?!!g.__confetti_initialized:!1,re=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,K;function se(Y,de,fe){for(var me=w(Y,"particleCount",N),Le=w(Y,"angle",Number),Pe=w(Y,"spread",Number),_e=w(Y,"startVelocity",Number),Yt=w(Y,"decay",Number),Zt=w(Y,"gravity",Number),Gt=w(Y,"drift",Number),tt=w(Y,"colors",$),Kt=w(Y,"ticks",Number),lt=w(Y,"shapes"),Qt=w(Y,"scalar"),Xt=!!w(Y,"flat"),rt=O(Y),st=me,Ze=[],el=g.width*rt.x,tl=g.height*rt.y;st--;)Ze.push(F({x:el,y:tl,angle:Le,spread:Pe,startVelocity:_e,color:tt[st%tt.length],shape:lt[j(0,lt.length)],ticks:Kt,decay:Yt,gravity:Zt,drift:Gt,scalar:Qt,flat:Xt}));return K?K.addFettis(Ze):(K=B(g,Ze,H,de,fe),K.promise)}function ae(Y){var de=D||w(Y,"disableForReducedMotion",Boolean),fe=w(Y,"zIndex",Number);if(de&&re)return a(function(_e){_e()});T&&K?g=K.canvas:T&&!g&&(g=L(fe),document.body.appendChild(g)),U&&!Z&&H(g);var me={width:g.width,height:g.height};E&&!Z&&E.init(g),Z=!0,E&&(g.__confetti_initialized=!0);function Le(){if(E){var _e={getBoundingClientRect:function(){if(!T)return g.getBoundingClientRect()}};H(_e),E.postMessage({resize:{width:_e.width,height:_e.height}});return}me.width=me.height=null}function Pe(){K=null,U&&(z=!1,e.removeEventListener("resize",Le)),T&&g&&(document.body.contains(g)&&document.body.removeChild(g),g=null,Z=!1)}return U&&!z&&(z=!0,e.addEventListener("resize",Le,!1)),E?E.fire(Y,me,Pe):se(Y,me,Pe)}return ae.reset=function(){E&&E.reset(),K&&K.reset()},ae}var ee;function oe(){return ee||(ee=q(null,{useWorker:!0,resize:!0})),ee}function X(g,m,T,U,z,D,A){var E=new Path2D(g),H=new Path2D;H.addPath(E,new DOMMatrix(m));var Z=new Path2D;return Z.addPath(H,new DOMMatrix([Math.cos(A)*z,Math.sin(A)*z,-Math.sin(A)*D,Math.cos(A)*D,T,U])),Z}function ie(g){if(!i)throw new Error("path confetti are not supported in this browser");var m,T;typeof g=="string"?m=g:(m=g.path,T=g.matrix);var U=new Path2D(m),z=document.createElement("canvas"),D=z.getContext("2d");if(!T){for(var A=1e3,E=A,H=A,Z=0,re=0,K,se,ae=0;ae<A;ae+=2)for(var Y=0;Y<A;Y+=2)D.isPointInPath(U,ae,Y,"nonzero")&&(E=Math.min(E,ae),H=Math.min(H,Y),Z=Math.max(Z,ae),re=Math.max(re,Y));K=Z-E,se=re-H;var de=10,fe=Math.min(de/K,de/se);T=[fe,0,0,fe,-Math.round(K/2+E)*fe,-Math.round(se/2+H)*fe]}return{type:"path",path:m,matrix:T}}function te(g){var m,T=1,U="#000000",z='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof g=="string"?m=g:(m=g.text,T="scalar"in g?g.scalar:T,z="fontFamily"in g?g.fontFamily:z,U="color"in g?g.color:U);var D=10*T,A=""+D+"px "+z,E=new OffscreenCanvas(D,D),H=E.getContext("2d");H.font=A;var Z=H.measureText(m),re=Math.ceil(Z.actualBoundingBoxRight+Z.actualBoundingBoxLeft),K=Math.ceil(Z.actualBoundingBoxAscent+Z.actualBoundingBoxDescent),se=2,ae=Z.actualBoundingBoxLeft+se,Y=Z.actualBoundingBoxAscent+se;re+=se+se,K+=se+se,E=new OffscreenCanvas(re,K),H=E.getContext("2d"),H.font=A,H.fillStyle=U,H.fillText(m,ae,Y);var de=1/T;return{type:"bitmap",bitmap:E.transferToImageBitmap(),matrix:[de,0,0,de,-re*de/2,-K*de/2]}}t.exports=function(){return oe().apply(this,arguments)},t.exports.reset=function(){oe().reset()},t.exports.create=q,t.exports.shapeFromPath=ie,t.exports.shapeFromText=te})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),We,!1);const Qe=We.exports;We.exports.create;function ht(r,e,t){const l=r.slice();return l[20]=e[t].profile,l[21]=e[t].status,l}function rr(r){let e;return{c(){e=P("🔍 Search")},m(t,l){x(t,e,l)},d(t){t&&S(e)}}}function sr(r){let e,t;return{c(){e=p("span"),t=P(`
						Searching...`),c(e,"class","loading-spinner svelte-165a6uh")},m(l,s){x(l,e,s),x(l,t,s)},d(l){l&&(S(e),S(t))}}}function _t(r){let e,t,l;return{c(){e=p("div"),t=p("p"),l=P(r[4]),c(t,"class","text-red-700"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4 mb-6")},m(s,n){x(s,e,n),o(e,t),o(t,l)},p(s,n){n&16&&W(l,s[4])},d(s){s&&S(e)}}}function nr(r){let e;return{c(){e=p("div"),e.innerHTML='<div><div class="text-4xl mb-4">🔍</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">Ready to Search</h3> <p class="text-slate-600">Enter keywords above to find profiles to add to your list.</p></div>',c(e,"class","text-center py-8")},m(t,l){x(t,e,l)},p:G,i:G,o:G,d(t){t&&S(e)}}}function ir(r){let e;return{c(){e=p("div"),e.innerHTML='<div><div class="text-4xl mb-4">🔍</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">No Results Found</h3> <p class="text-slate-600">Try different keywords or check your spelling.</p></div>',c(e,"class","text-center py-8")},m(t,l){x(t,e,l)},p:G,i:G,o:G,d(t){t&&S(e)}}}function or(r){let e,t,l,s=ue(r[7]),n=[];for(let d=0;d<s.length;d+=1)n[d]=vt(ht(r,s,d));const i=d=>ne(n[d],1,1,()=>{n[d]=null});let f=r[5]&&yt(r);return{c(){e=p("div");for(let d=0;d<n.length;d+=1)n[d].c();t=C(),f&&f.c(),c(e,"class","space-y-4")},m(d,a){x(d,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o(e,t),f&&f.m(e,null),l=!0},p(d,a){if(a&3266){s=ue(d[7]);let u;for(u=0;u<s.length;u+=1){const b=ht(d,s,u);n[u]?(n[u].p(b,a),Q(n[u],1)):(n[u]=vt(b),n[u].c(),Q(n[u],1),n[u].m(e,t))}for(De(),u=s.length;u<n.length;u+=1)i(u);Ue()}d[5]?f?f.p(d,a):(f=yt(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(d){if(!l){for(let a=0;a<s.length;a+=1)Q(n[a]);l=!0}},o(d){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)ne(n[a]);l=!1},d(d){d&&S(e),$e(n,d),f&&f.d()}}}function vt(r){let e,t;return e=new lr({props:{profile:r[20],isSelected:r[1].has(r[20].did),onSelect:r[10],statusTag:r[21],clickable:!0,onAddToList:r[11],isAddingToList:r[6].has(r[20].did)}}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},p(l,s){const n={};s&128&&(n.profile=l[20]),s&130&&(n.isSelected=l[1].has(l[20].did)),s&128&&(n.statusTag=l[21]),s&192&&(n.isAddingToList=l[6].has(l[20].did)),e.$set(n)},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function yt(r){let e,t,l,s;function n(d,a){return d[3]?cr:ar}let i=n(r),f=i(r);return{c(){e=p("div"),t=p("button"),f.c(),t.disabled=r[3],c(t,"class","bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-300 px-6 py-2.5 rounded-lg text-base font-medium cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","text-center pt-4 border-t border-gray-200")},m(d,a){x(d,e,a),o(e,t),f.m(t,null),l||(s=le(t,"click",r[9]),l=!0)},p(d,a){i!==(i=n(d))&&(f.d(1),f=i(d),f&&(f.c(),f.m(t,null))),a&8&&(t.disabled=d[3])},d(d){d&&S(e),f.d(),l=!1,s()}}}function ar(r){let e;return{c(){e=P("Load More Results")},m(t,l){x(t,e,l)},d(t){t&&S(e)}}}function cr(r){let e,t;return{c(){e=p("span"),t=P(`
								Loading...`),c(e,"class","loading-spinner mr-2 svelte-165a6uh")},m(l,s){x(l,e,s),x(l,t,s)},d(l){l&&(S(e),S(t))}}}function dr(r){let e,t,l,s,n,i,f,d,a,u,b,_,h,y,v,w,N,j;function J(k,F){return k[3]?sr:rr}let $=J(r),M=$(r),O=r[4]&&_t(r);const R=[or,ir,nr],I=[];function L(k,F){return k[0].length>0?0:k[2]&&!k[3]?1:k[2]?-1:2}return~(y=L(r))&&(v=I[y]=R[y](r)),{c(){e=p("div"),t=p("div"),t.innerHTML='<h3 class="text-lg font-semibold text-slate-800 mb-2">Search Profiles</h3> <p class="text-sm text-slate-600">Search for profiles by keywords in their bio, display name, or handle</p>',l=C(),s=p("div"),n=p("form"),i=p("div"),f=p("label"),f.textContent="Search for:",d=C(),a=p("input"),u=C(),b=p("button"),M.c(),_=C(),O&&O.c(),h=C(),v&&v.c(),c(t,"class","p-6 border-b border-gray-200"),c(f,"for","search-input"),c(f,"class","text-sm font-medium text-slate-700 whitespace-nowrap"),c(a,"id","search-input"),c(a,"type","text"),c(a,"placeholder","e.g., belge, artist, developer..."),c(a,"class","flex-1 min-w-48 px-4 py-2.5 border border-gray-300 rounded-lg text-base outline-none shadow-sm text-slate-800 placeholder-gray-400 focus:border-slate-500 focus:ring-1 focus:ring-slate-500"),a.required=!0,c(b,"type","submit"),b.disabled=r[3],c(b,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-6 py-2.5 rounded-lg text-base font-medium cursor-pointer transition-colors duration-200 whitespace-nowrap flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(i,"class","flex gap-4 items-center flex-wrap"),c(n,"class","mb-6"),c(s,"id","profile-search-container"),c(s,"class","p-6"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200")},m(k,F){x(k,e,F),o(e,t),o(e,l),o(e,s),o(s,n),o(n,i),o(i,f),o(i,d),o(i,a),pe(a,r[2]),o(i,u),o(i,b),M.m(b,null),o(s,_),O&&O.m(s,null),o(s,h),~y&&I[y].m(s,null),w=!0,N||(j=[le(a,"input",r[14]),le(n,"submit",zt(r[8]))],N=!0)},p(k,[F]){F&4&&a.value!==k[2]&&pe(a,k[2]),$!==($=J(k))&&(M.d(1),M=$(k),M&&(M.c(),M.m(b,null))),(!w||F&8)&&(b.disabled=k[3]),k[4]?O?O.p(k,F):(O=_t(k),O.c(),O.m(s,h)):O&&(O.d(1),O=null);let V=y;y=L(k),y===V?~y&&I[y].p(k,F):(v&&(De(),ne(I[V],1,1,()=>{I[V]=null}),Ue()),~y?(v=I[y],v?v.p(k,F):(v=I[y]=R[y](k),v.c()),Q(v,1),v.m(s,null)):v=null)},i(k){w||(Q(v),w=!0)},o(k){ne(v),w=!1},d(k){k&&S(e),M.d(),O&&O.d(),~y&&I[y].d(),N=!1,Se(j)}}}function ur(r,e,t){let l,s,n;ve(r,Ie,M=>t(16,s=M)),ve(r,ce,M=>t(13,n=M));let i="",f=[],d=!1,a="",u=new Set,b=null,_=!1,h=new Set;async function y(){if(!(!i.trim()||!s.session)){t(3,d=!0),t(4,a=""),t(0,f=[]),u.clear(),b=null,t(5,_=!1);try{const M=await Me.searchProfiles(s.session,i,25);t(0,f=M.actors||[]),b=M.cursor,t(5,_=!!M.cursor)}catch(M){t(4,a=M.message||"Failed to search profiles")}finally{t(3,d=!1)}}}async function v(){if(!(!_||d||!s.session)){t(3,d=!0),t(4,a="");try{const M=await Me.searchProfiles(s.session,i,25,b);t(0,f=[...f,...M.actors||[]]),b=M.cursor,t(5,_=!!M.cursor)}catch(M){t(4,a=M.message||"Failed to load more profiles")}finally{t(3,d=!1)}}}function w(M){u.has(M.did)?u.delete(M.did):u.add(M.did),t(1,u)}let N=null;async function j(M){if(!(!s.session||!n.selectedList||h.has(M.did))){h.add(M.did),t(6,h);try{await Me.addToList(s.session,M.did,n.selectedList.uri),await ce.fetchAndAddProfile(s.session,M.did),J()}catch(O){console.error("Failed to add profile to list:",O)}finally{h.delete(M.did),t(6,h)}}}function J(){Qe({particleCount:50,spread:80,origin:{y:.6},colors:["#3b82f6","#1d4ed8","#1e40af","#60a5fa","#93c5fd"],scalar:1.5,ticks:300,gravity:.6,drift:.3,startVelocity:35,decay:.92,shapes:["circle","square"],zIndex:9999}),setTimeout(()=>{Qe({particleCount:30,spread:60,origin:{y:.7,x:.3},colors:["#3b82f6","#1d4ed8","#60a5fa"],scalar:1.2,ticks:200,gravity:.7,drift:-.2,startVelocity:25,decay:.94})},150),setTimeout(()=>{Qe({particleCount:30,spread:60,origin:{y:.7,x:.7},colors:["#1e40af","#3b82f6","#93c5fd"],scalar:1.2,ticks:200,gravity:.7,drift:.2,startVelocity:25,decay:.94})},300)}function $(){i=this.value,t(2,i)}return r.$$.update=()=>{r.$$.dirty&8192&&n.selectedList&&t(12,N=n.selectedList.uri),r.$$.dirty&12290&&n.selectedList&&N&&N!==n.selectedList.uri&&(t(0,f=[]),u.clear(),b=null,t(5,_=!1)),r.$$.dirty&8193&&t(7,l=f.map(M=>({profile:M,status:n.listMembers.includes(M.did)?"Already in list":"New candidate"})))},[f,u,i,d,a,_,h,l,y,v,w,j,N,n,$]}class fr extends we{constructor(e){super(),ke(this,e,ur,dr,he,{})}}function kt(r){let e,t=r[0].selectedList.description+"",l;return{c(){e=p("p"),l=P(t),c(e,"class","text-slate-600 mt-1")},m(s,n){x(s,e,n),o(e,l)},p(s,n){n&1&&t!==(t=s[0].selectedList.description+"")&&W(l,t)},d(s){s&&S(e)}}}function mr(r){let e;return{c(){e=P("Unknown")},m(t,l){x(t,e,l)},p:G,d(t){t&&S(e)}}}function pr(r){let e=new Date(r[0].selectedList.createdAt).toLocaleDateString()+"",t;return{c(){t=P(e)},m(l,s){x(l,t,s)},p(l,s){s&1&&e!==(e=new Date(l[0].selectedList.createdAt).toLocaleDateString()+"")&&W(t,e)},d(l){l&&S(t)}}}function br(r){var U,z,D,A;let e,t,l,s,n=(((U=r[0].selectedList)==null?void 0:U.name)||"List")+"",i,f,d,a,u,b=r[0].listMembers.length+"",_,h,y,v,w,N,j,J,$,M=((z=r[0].selectedList)==null?void 0:z.purpose)==="app.bsky.graph.defs#modlist"?"Moderation List":"Curated List",O,R,I,L,k,F,V,B,q,ee,oe,X=(((D=r[0].selectedList)==null?void 0:D.uri)||"Not available")+"",ie,te=((A=r[0].selectedList)==null?void 0:A.description)&&kt(r);function g(E,H){var Z;return(Z=E[0].selectedList)!=null&&Z.createdAt?pr:mr}let m=g(r),T=m(r);return{c(){e=p("div"),t=p("div"),l=p("div"),s=p("h2"),i=P(n),f=C(),te&&te.c(),d=C(),a=p("div"),u=p("div"),_=P(b),h=C(),y=p("div"),y.textContent="Total Members",v=C(),w=p("div"),N=p("div"),j=p("div"),j.textContent="📊 List Type",J=C(),$=p("div"),O=P(M),R=C(),I=p("div"),L=p("div"),L.textContent="📅 Created",k=C(),F=p("div"),T.c(),V=C(),B=p("div"),q=p("div"),q.textContent="🔗 List URI",ee=C(),oe=p("div"),ie=P(X),c(s,"class","text-xl font-bold text-slate-800"),c(u,"class","text-2xl font-bold text-blue-600"),c(y,"class","text-sm text-slate-500"),c(a,"class","text-right"),c(t,"class","flex items-center justify-between mb-4"),c(j,"class","text-blue-600 font-semibold"),c($,"class","text-sm text-slate-600 mt-1"),c(N,"class","bg-blue-50 p-4 rounded-lg"),c(L,"class","text-green-600 font-semibold"),c(F,"class","text-sm text-slate-600 mt-1"),c(I,"class","bg-green-50 p-4 rounded-lg"),c(q,"class","text-purple-600 font-semibold"),c(oe,"class","text-xs text-slate-600 mt-1 break-all"),c(B,"class","bg-purple-50 p-4 rounded-lg"),c(w,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6")},m(E,H){x(E,e,H),o(e,t),o(t,l),o(l,s),o(s,i),o(l,f),te&&te.m(l,null),o(t,d),o(t,a),o(a,u),o(u,_),o(a,h),o(a,y),o(e,v),o(e,w),o(w,N),o(N,j),o(N,J),o(N,$),o($,O),o(w,R),o(w,I),o(I,L),o(I,k),o(I,F),T.m(F,null),o(w,V),o(w,B),o(B,q),o(B,ee),o(B,oe),o(oe,ie)},p(E,[H]){var Z,re,K,se;H&1&&n!==(n=(((Z=E[0].selectedList)==null?void 0:Z.name)||"List")+"")&&W(i,n),(re=E[0].selectedList)!=null&&re.description?te?te.p(E,H):(te=kt(E),te.c(),te.m(l,null)):te&&(te.d(1),te=null),H&1&&b!==(b=E[0].listMembers.length+"")&&W(_,b),H&1&&M!==(M=((K=E[0].selectedList)==null?void 0:K.purpose)==="app.bsky.graph.defs#modlist"?"Moderation List":"Curated List")&&W(O,M),m===(m=g(E))&&T?T.p(E,H):(T.d(1),T=m(E),T&&(T.c(),T.m(F,null))),H&1&&X!==(X=(((se=E[0].selectedList)==null?void 0:se.uri)||"Not available")+"")&&W(ie,X)},i:G,o:G,d(E){E&&S(e),te&&te.d(),T.d()}}}function gr(r,e,t){let l;return ve(r,ce,s=>t(0,l=s)),[l]}class hr extends we{constructor(e){super(),ke(this,e,gr,br,he,{})}}function wt(r,e,t){const l=r.slice();return l[24]=e[t],l}function Lt(r,e,t){const l=r.slice();return l[30]=e[t],l}function Mt(r,e,t){const l=r.slice();return l[27]=e[t],l}function St(r,e,t){const l=r.slice();return l[33]=e[t],l}function xt(r){let e,t,l,s,n,i,f=r[3].size+"",d,a,u,b;function _(v,w){return v[4]?vr:_r}let h=_(r),y=h(r);return{c(){e=p("div"),t=p("div"),l=p("div"),s=p("button"),y.c(),n=C(),i=p("div"),d=P(f),a=P(" profiles selected"),s.disabled=r[4],c(s,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-4 py-2.5 rounded-lg cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium text-sm"),c(l,"class","flex items-center gap-3"),c(i,"class","text-sm text-slate-600"),c(t,"class","flex items-center justify-between"),c(e,"class","sticky top-20 z-40 bg-white border border-gray-200 rounded-lg p-4 shadow-sm")},m(v,w){x(v,e,w),o(e,t),o(t,l),o(l,s),y.m(s,null),o(t,n),o(t,i),o(i,d),o(i,a),u||(b=le(s,"click",r[10]),u=!0)},p(v,w){h===(h=_(v))&&y?y.p(v,w):(y.d(1),y=h(v),y&&(y.c(),y.m(s,null))),w[0]&16&&(s.disabled=v[4]),w[0]&8&&f!==(f=v[3].size+"")&&W(d,f)},d(v){v&&S(e),y.d(),u=!1,b()}}}function _r(r){let e,t=r[3].size+"",l,s;return{c(){e=P("Add "),l=P(t),s=P(" to List")},m(n,i){x(n,e,i),x(n,l,i),x(n,s,i)},p(n,i){i[0]&8&&t!==(t=n[3].size+"")&&W(l,t)},d(n){n&&(S(e),S(l),S(s))}}}function vr(r){let e,t;return{c(){e=p("span"),t=P(`
							Adding...`),c(e,"class","loading-spinner mr-2 svelte-srpbru")},m(l,s){x(l,e,s),x(l,t,s)},p:G,d(l){l&&(S(e),S(t))}}}function Ct(r){let e,t,l,s=r[5].success.length+"",n,i;return{c(){e=p("div"),t=p("p"),l=P("✅ Successfully added "),n=P(s),i=P(" profiles to your list!"),c(t,"class","text-green-700 font-medium"),c(e,"class","bg-green-50 border border-green-200 rounded-lg p-4")},m(f,d){x(f,e,d),o(e,t),o(t,l),o(t,n),o(t,i)},p(f,d){d[0]&32&&s!==(s=f[5].success.length+"")&&W(n,s)},d(f){f&&S(e)}}}function Pt(r){let e,t,l,s=r[5].errors.length+"",n,i,f,d,a=ue(r[5].errors),u=[];for(let b=0;b<a.length;b+=1)u[b]=Tt(St(r,a,b));return{c(){e=p("div"),t=p("p"),l=P("❌ Failed to add "),n=P(s),i=P(" profiles:"),f=C(),d=p("ul");for(let b=0;b<u.length;b+=1)u[b].c();c(t,"class","text-red-700 font-medium mb-2"),c(d,"class","text-red-600 text-sm space-y-1"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4")},m(b,_){x(b,e,_),o(e,t),o(t,l),o(t,n),o(t,i),o(e,f),o(e,d);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(d,null)},p(b,_){if(_[0]&32&&s!==(s=b[5].errors.length+"")&&W(n,s),_[0]&32){a=ue(b[5].errors);let h;for(h=0;h<a.length;h+=1){const y=St(b,a,h);u[h]?u[h].p(y,_):(u[h]=Tt(y),u[h].c(),u[h].m(d,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=a.length}},d(b){b&&S(e),$e(u,b)}}}function Tt(r){let e,t,l=r[33].error+"",s;return{c(){e=p("li"),t=P("• "),s=P(l)},m(n,i){x(n,e,i),o(e,t),o(e,s)},p(n,i){i[0]&32&&l!==(l=n[33].error+"")&&W(s,l)},d(n){n&&S(e)}}}function yr(r){let e,t,l;function s(d,a){return d[7]?xr:d[0].listMemberProfiles.length>0?Sr:Mr}let n=s(r),i=n(r),f=r[0].listMembers.length>Be&&Ot(r);return{c(){e=p("div"),t=p("div"),i.c(),l=C(),f&&f.c(),c(t,"class","space-y-4 flex-1 overflow-y-auto"),c(e,"class","flex flex-col flex-1")},m(d,a){x(d,e,a),o(e,t),i.m(t,null),o(e,l),f&&f.m(e,null)},p(d,a){n===(n=s(d))&&i?i.p(d,a):(i.d(1),i=n(d),i&&(i.c(),i.m(t,null))),d[0].listMembers.length>Be?f?f.p(d,a):(f=Ot(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(d){d&&S(e),i.d(),f&&f.d()}}}function kr(r){let e;return{c(){e=p("div"),e.innerHTML='<div><div class="text-4xl mb-4">📝</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">No Members Yet</h3> <p class="text-slate-600">Your list is empty. Use the search to find and add profiles!</p></div>',c(e,"class","text-center py-12 flex-1 flex items-center justify-center")},m(t,l){x(t,e,l)},p:G,d(t){t&&S(e)}}}function wr(r){let e,t,l,s,n,i,f,d;return{c(){e=p("div"),t=p("div"),l=p("p"),s=P(r[2]),n=C(),i=p("button"),i.textContent="Try again",c(l,"class","text-red-700 mb-4"),c(i,"class","text-red-600 hover:text-red-800 underline"),c(t,"class","text-center"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4 flex-1 flex items-center justify-center")},m(a,u){x(a,e,u),o(e,t),o(t,l),o(l,s),o(t,n),o(t,i),f||(d=le(i,"click",r[8]),f=!0)},p(a,u){u[0]&4&&W(s,a[2])},d(a){a&&S(e),f=!1,d()}}}function Lr(r){let e;return{c(){e=p("div"),e.innerHTML='<div><div class="loading-spinner mx-auto mb-4 svelte-srpbru"></div> <p class="text-slate-600">Loading list members...</p></div>',c(e,"class","text-center py-12 flex-1 flex items-center justify-center")},m(t,l){x(t,e,l)},p:G,d(t){t&&S(e)}}}function Mr(r){let e,t,l=r[2]&&It(r),s=ue(r[0].listMembers.slice(0,100)),n=[];for(let i=0;i<s.length;i+=1)n[i]=Et(Lt(r,s,i));return{c(){l&&l.c(),e=C();for(let i=0;i<n.length;i+=1)n[i].c();t=Ee()},m(i,f){l&&l.m(i,f),x(i,e,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(i,f);x(i,t,f)},p(i,f){if(i[2]?l?l.p(i,f):(l=It(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f[0]&1){s=ue(i[0].listMembers.slice(0,100));let d;for(d=0;d<s.length;d+=1){const a=Lt(i,s,d);n[d]?n[d].p(a,f):(n[d]=Et(a),n[d].c(),n[d].m(t.parentNode,t))}for(;d<n.length;d+=1)n[d].d(1);n.length=s.length}},d(i){i&&(S(e),S(t)),l&&l.d(i),$e(n,i)}}}function Sr(r){let e,t=ue(r[0].listMemberProfiles),l=[];for(let s=0;s<t.length;s+=1)l[s]=At(Mt(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ee()},m(s,n){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(s,n);x(s,e,n)},p(s,n){if(n[0]&1){t=ue(s[0].listMemberProfiles);let i;for(i=0;i<t.length;i+=1){const f=Mt(s,t,i);l[i]?l[i].p(f,n):(l[i]=At(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){s&&S(e),$e(l,s)}}}function xr(r){let e,t,l,s,n,i,f;return{c(){e=p("div"),t=p("div"),l=C(),s=p("p"),n=P("Loading page "),i=P(r[6]),f=P("..."),c(t,"class","loading-spinner mx-auto mb-4 svelte-srpbru"),c(s,"class","text-slate-600"),c(e,"class","text-center py-8")},m(d,a){x(d,e,a),o(e,t),o(e,l),o(e,s),o(s,n),o(s,i),o(s,f)},p(d,a){a[0]&64&&W(i,d[6])},d(d){d&&S(e)}}}function It(r){let e,t,l,s,n,i,f,d,a,u,b;return{c(){e=p("div"),t=p("div"),l=p("div"),s=p("p"),s.textContent="⚠️ Profile loading issue",n=C(),i=p("p"),f=P(r[2]),d=C(),a=p("button"),a.textContent="Retry",c(s,"class","text-yellow-800 font-medium"),c(i,"class","text-yellow-700 text-sm mt-1"),c(a,"class","bg-yellow-100 hover:bg-yellow-200 text-yellow-800 px-3 py-1 rounded text-sm font-medium transition-colors"),c(t,"class","flex items-center justify-between"),c(e,"class","bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4")},m(_,h){x(_,e,h),o(e,t),o(t,l),o(l,s),o(l,n),o(l,i),o(i,f),o(t,d),o(t,a),u||(b=le(a,"click",r[18]),u=!0)},p(_,h){h[0]&4&&W(f,_[2])},d(_){_&&S(e),u=!1,b()}}}function Et(r){let e,t,l,s,n,i,f=r[30]+"",d,a,u,b;return{c(){e=p("div"),t=p("div"),l=p("div"),l.innerHTML='<span class="text-gray-600 font-medium">?</span>',s=C(),n=p("div"),i=p("div"),d=P(f),a=C(),u=p("div"),u.textContent="Member of list",b=C(),c(l,"class","w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center"),c(i,"class","text-sm text-gray-600 font-mono text-xs break-all"),c(u,"class","text-xs text-gray-500"),c(n,"class","flex-1"),c(t,"class","flex items-center space-x-3"),c(e,"class","bg-gray-50 border border-gray-200 rounded-lg p-4")},m(_,h){x(_,e,h),o(e,t),o(t,l),o(t,s),o(t,n),o(n,i),o(i,d),o(n,a),o(n,u),o(e,b)},p(_,h){h[0]&1&&f!==(f=_[30]+"")&&W(d,f)},d(_){_&&S(e)}}}function Nt(r){let e,t=r[27].description+"",l;return{c(){e=p("p"),l=P(t),c(e,"class","text-xs text-gray-600 line-clamp-2 svelte-srpbru")},m(s,n){x(s,e,n),o(e,l)},p(s,n){n[0]&1&&t!==(t=s[27].description+"")&&W(l,t)},d(s){s&&S(e)}}}function At(r){let e,t,l,s,n,i,f,d,a,u,b,_=(r[27].displayName||r[27].handle)+"",h,y,v,w,N=r[27].handle+"",j,J,$,M,O,R,I=r[27].description&&Nt(r);return{c(){e=p("a"),t=p("div"),l=p("div"),s=p("img"),d=C(),a=p("div"),u=p("div"),b=p("h4"),h=P(_),y=C(),v=p("span"),w=P("@"),j=P(N),J=C(),I&&I.c(),$=C(),M=p("div"),M.innerHTML='<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>',O=C(),Re(s.src,n=r[27].avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(r[27].displayName||r[27].handle)}&background=6366f1&color=fff&size=64`)||c(s,"src",n),c(s,"alt",i=r[27].displayName||r[27].handle),c(s,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(s,"onerror",f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(r[27].displayName||r[27].handle)+"&background=6366f1&color=fff&size=64'"),c(l,"class","flex-shrink-0"),c(b,"class","text-sm font-semibold text-gray-900 truncate"),c(v,"class","text-xs text-gray-600 truncate"),c(u,"class","flex items-center space-x-2 mb-1"),c(a,"class","flex-1 min-w-0"),c(M,"class","flex-shrink-0"),c(t,"class","flex items-center space-x-3"),c(e,"href",R="https://bsky.app/profile/"+r[27].handle),c(e,"target","_blank"),c(e,"rel","noopener noreferrer"),c(e,"class","block bg-gray-50 border border-gray-200 rounded-lg p-4 hover:bg-gray-100 hover:border-gray-300 transition-colors duration-200 cursor-pointer")},m(L,k){x(L,e,k),o(e,t),o(t,l),o(l,s),o(t,d),o(t,a),o(a,u),o(u,b),o(b,h),o(u,y),o(u,v),o(v,w),o(v,j),o(a,J),I&&I.m(a,null),o(t,$),o(t,M),o(e,O)},p(L,k){k[0]&1&&!Re(s.src,n=L[27].avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(L[27].displayName||L[27].handle)}&background=6366f1&color=fff&size=64`)&&c(s,"src",n),k[0]&1&&i!==(i=L[27].displayName||L[27].handle)&&c(s,"alt",i),k[0]&1&&f!==(f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(L[27].displayName||L[27].handle)+"&background=6366f1&color=fff&size=64'")&&c(s,"onerror",f),k[0]&1&&_!==(_=(L[27].displayName||L[27].handle)+"")&&W(h,_),k[0]&1&&N!==(N=L[27].handle+"")&&W(j,N),L[27].description?I?I.p(L,k):(I=Nt(L),I.c(),I.m(a,null)):I&&(I.d(1),I=null),k[0]&1&&R!==(R="https://bsky.app/profile/"+L[27].handle)&&c(e,"href",R)},d(L){L&&S(e),I&&I.d()}}}function Ot(r){let e,t,l,s,n,i,f=r[11]()+"",d,a,u,b,_,h,y,v,w,N,j,J=r[7]&&r[6]<r[11](),$,M,O,R=r[7]&&r[6]>1&&Ft(),I=ue(Array.from({length:Math.min(5,r[11]())},r[19])),L=[];for(let F=0;F<I.length;F+=1)L[F]=Bt(wt(r,I,F));let k=J&&jt();return{c(){e=p("div"),t=p("div"),l=p("div"),s=P("Page "),n=P(r[6]),i=P(" of "),d=P(f),a=C(),u=p("div"),b=p("button"),R&&R.c(),_=P(`
											Previous`),y=C(),v=p("div");for(let F=0;F<L.length;F+=1)L[F].c();w=C(),N=p("button"),j=P(`Next
											`),k&&k.c(),c(l,"class","text-sm text-gray-600"),b.disabled=h=r[6]===1||r[7],c(b,"class","px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"),c(v,"class","flex items-center space-x-1"),N.disabled=$=r[6]===r[11]()||r[7],c(N,"class","px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"),c(u,"class","flex items-center space-x-2"),c(t,"class","flex items-center justify-between"),c(e,"class","mt-6 pt-4 border-t border-gray-200")},m(F,V){x(F,e,V),o(e,t),o(t,l),o(l,s),o(l,n),o(l,i),o(l,d),o(t,a),o(t,u),o(u,b),R&&R.m(b,null),o(b,_),o(u,y),o(u,v);for(let B=0;B<L.length;B+=1)L[B]&&L[B].m(v,null);o(u,w),o(u,N),o(N,j),k&&k.m(N,null),M||(O=[le(b,"click",r[14]),le(N,"click",r[13])],M=!0)},p(F,V){if(V[0]&64&&W(n,F[6]),F[7]&&F[6]>1?R||(R=Ft(),R.c(),R.m(b,_)):R&&(R.d(1),R=null),V[0]&192&&h!==(h=F[6]===1||F[7])&&(b.disabled=h),V[0]&6336){I=ue(Array.from({length:Math.min(5,F[11]())},F[19]));let B;for(B=0;B<I.length;B+=1){const q=wt(F,I,B);L[B]?L[B].p(q,V):(L[B]=Bt(q),L[B].c(),L[B].m(v,null))}for(;B<L.length;B+=1)L[B].d(1);L.length=I.length}V[0]&192&&(J=F[7]&&F[6]<F[11]()),J?k||(k=jt(),k.c(),k.m(N,null)):k&&(k.d(1),k=null),V[0]&192&&$!==($=F[6]===F[11]()||F[7])&&(N.disabled=$)},d(F){F&&S(e),R&&R.d(),$e(L,F),k&&k.d(),M=!1,Se(O)}}}function Ft(r){let e;return{c(){e=p("span"),c(e,"class","loading-spinner mr-1 svelte-srpbru")},m(t,l){x(t,e,l)},d(t){t&&S(e)}}}function Bt(r){let e,t=r[24]+"",l,s,n,i,f;function d(){return r[20](r[24])}return{c(){e=p("button"),l=P(t),s=C(),e.disabled=r[7],c(e,"class",n="px-3 py-1 text-sm border rounded transition-colors duration-200 "+(r[6]===r[24]?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50")+" disabled:opacity-50 disabled:cursor-not-allowed")},m(a,u){x(a,e,u),o(e,l),o(e,s),i||(f=le(e,"click",d),i=!0)},p(a,u){r=a,u[0]&64&&t!==(t=r[24]+"")&&W(l,t),u[0]&128&&(e.disabled=r[7]),u[0]&64&&n!==(n="px-3 py-1 text-sm border rounded transition-colors duration-200 "+(r[6]===r[24]?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50")+" disabled:opacity-50 disabled:cursor-not-allowed")&&c(e,"class",n)},d(a){a&&S(e),i=!1,f()}}}function jt(r){let e;return{c(){e=p("span"),c(e,"class","loading-spinner ml-1 svelte-srpbru")},m(t,l){x(t,e,l)},d(t){t&&S(e)}}}function Cr(r){let e,t,l,s,n,i,f,d,a,u,b,_,h,y=(r[7]?"...":r[0].listMemberProfiles.length)+"",v,w,N=r[0].listMembers.length+"",j,J,$,M,O,R,I,L,k=r[0].listMemberProfiles.length+"",F,V,B=r[0].listMembers.length+"",q,ee,oe,X,ie,te;t=new hr({});let g=r[3].size>0&&xt(r),m=r[5].success.length>0&&Ct(r),T=r[5].errors.length>0&&Pt(r);function U(A,E){return A[1]?Lr:A[2]?wr:A[0].listMembers.length===0?kr:yr}let z=U(r),D=z(r);return ie=new fr({}),{c(){e=p("div"),ye(t.$$.fragment),l=C(),g&&g.c(),s=C(),m&&m.c(),n=C(),T&&T.c(),i=C(),f=p("div"),d=p("div"),a=p("div"),u=p("h3"),u.textContent="Latest List Members",b=C(),_=p("p"),h=P("Showing "),v=P(y),w=P(" of "),j=P(N),J=P(" total members"),$=C(),M=p("div"),O=p("div"),R=P("Debug: isLoadingMembers="),I=P(r[1]),L=P(", profiles="),F=P(k),V=P(", members="),q=P(B),ee=C(),D.c(),oe=C(),X=p("div"),ye(ie.$$.fragment),c(u,"class","text-lg font-semibold text-slate-800 mb-2"),c(_,"class","text-sm text-slate-600"),c(a,"class","p-6 border-b border-gray-200"),c(O,"class","text-xs text-gray-500 mb-2"),c(M,"class","p-6 flex flex-col flex-1"),c(d,"id","list-members-container"),c(d,"class","bg-white rounded-lg shadow-sm border border-gray-200 flex flex-col"),c(f,"class","grid grid-cols-1 lg:grid-cols-2 gap-6"),c(e,"class","space-y-6")},m(A,E){x(A,e,E),be(t,e,null),o(e,l),g&&g.m(e,null),o(e,s),m&&m.m(e,null),o(e,n),T&&T.m(e,null),o(e,i),o(e,f),o(f,d),o(d,a),o(a,u),o(a,b),o(a,_),o(_,h),o(_,v),o(_,w),o(_,j),o(_,J),o(d,$),o(d,M),o(M,O),o(O,R),o(O,I),o(O,L),o(O,F),o(O,V),o(O,q),o(M,ee),D.m(M,null),o(f,oe),o(f,X),be(ie,X,null),te=!0},p(A,E){A[3].size>0?g?g.p(A,E):(g=xt(A),g.c(),g.m(e,s)):g&&(g.d(1),g=null),A[5].success.length>0?m?m.p(A,E):(m=Ct(A),m.c(),m.m(e,n)):m&&(m.d(1),m=null),A[5].errors.length>0?T?T.p(A,E):(T=Pt(A),T.c(),T.m(e,i)):T&&(T.d(1),T=null),(!te||E[0]&129)&&y!==(y=(A[7]?"...":A[0].listMemberProfiles.length)+"")&&W(v,y),(!te||E[0]&1)&&N!==(N=A[0].listMembers.length+"")&&W(j,N),(!te||E[0]&2)&&W(I,A[1]),(!te||E[0]&1)&&k!==(k=A[0].listMemberProfiles.length+"")&&W(F,k),(!te||E[0]&1)&&B!==(B=A[0].listMembers.length+"")&&W(q,B),z===(z=U(A))&&D?D.p(A,E):(D.d(1),D=z(A),D&&(D.c(),D.m(M,null)))},i(A){te||(Q(t.$$.fragment,A),Q(ie.$$.fragment,A),te=!0)},o(A){ne(t.$$.fragment,A),ne(ie.$$.fragment,A),te=!1},d(A){A&&S(e),ge(t),g&&g.d(),m&&m.d(),T&&T.d(),D.d(),ge(ie)}}}const Be=25;function Pr(r,e,t){let l,s;ve(r,ce,L=>t(0,l=L)),ve(r,Ie,L=>t(17,s=L));let n=!1,i="",f=new Set,d=!1,a={success:[],errors:[]},u=1,b=!1,_=!1,h=0,y=null;async function v(){if(!(!l.selectedList||!s.session||_)){t(15,_=!0),t(1,n=!0),t(2,i=""),t(6,u=1);try{const L=await Me.getListMembers(s.session,l.selectedList.uri);console.log("Raw member DIDs:",L),ce.setListMembers(L),h=Math.ceil(L.length/Be),console.log("Total pages:",h),await w(1),ce.setListLoading(!1)}catch(L){console.error("Error loading list members:",L),t(2,i=L.message||"Failed to load list members"),ce.setListLoading(!1)}finally{console.log("Setting isLoadingMembers to false"),t(1,n=!1),t(15,_=!1),console.log("Final state - isLoadingMembers:",n,"isCurrentlyLoadingMembers:",_)}}}async function w(L){if(!(!s.session||!l.selectedList||!l.listMembers.length)){t(7,b=!0),t(6,u=L);try{const k=(L-1)*Be,F=k+Be,V=l.listMembers.slice(k,F);console.log(`Loading page ${L}: DIDs ${k+1}-${Math.min(F,l.listMembers.length)}`),console.log("Page DIDs:",V);const B=await Me.getProfiles(s.session,V);console.log(`Fetched ${B.length} profiles for page ${L}`),console.log("Profiles received:",B),B.length===0?(console.warn("No profiles returned from API for page",L),t(2,i="No profile data received from API")):t(2,i=""),console.log("Setting profiles in store:",B.length),ce.setListMemberProfiles(B),console.log("Profiles set in store, current count:",l.listMemberProfiles.length)}catch(k){console.error("Error loading members page:",k),t(2,i=k.message||"Failed to load page"),ce.setListMemberProfiles([])}finally{t(7,b=!1)}}}async function N(){if(f.size===0)return;t(4,d=!0),t(5,a={success:[],errors:[]});const L=Array.from(f);for(const k of L)try{await Me.addToList(s.session,k,l.selectedList.uri),a.success.push(k),await ce.fetchAndAddProfile(s.session,k)}catch(F){a.errors.push({did:k,error:F.message})}f.clear(),t(3,f),t(4,d=!1)}function j(){return Math.ceil(l.listMembers.length/Be)}async function J(L){L>=1&&L<=j()&&await w(L)}async function $(){u<j()&&await w(u+1)}async function M(){u>1&&await w(u-1)}const O=()=>w(u),R=(L,k)=>{let F;return j()<=5||u<=3?F=k+1:u>=j()-2?F=j()-4+k:F=u-2+k,F},I=L=>J(L);return r.$$.update=()=>{r.$$.dirty[0]&1&&l.refreshTrigger&&v(),r.$$.dirty[0]&1&&console.log("Profile count changed:",l.listMemberProfiles.length),r.$$.dirty[0]&229377&&l.selectedList&&s.session&&!_&&y!==l.selectedList.uri&&(console.log("List changed, loading members for:",l.selectedList.name),t(16,y=l.selectedList.uri),v())},[l,n,i,f,d,a,u,b,v,w,N,j,J,$,M,_,y,s,O,R,I]}class Tr extends we{constructor(e){super(),ke(this,e,Pr,Cr,he,{},null,[-1,-1])}}function Rt(r){let e,t,l,s,n,i,f,d;return{c(){e=p("div"),t=p("div"),l=p("div"),s=C(),n=p("h3"),n.textContent="Getting Ready",i=C(),f=p("p"),d=P(r[1]),c(l,"class","loading-spinner mx-auto mb-4 svelte-3t5r6s"),c(n,"class","text-lg font-semibold text-slate-800 mb-2"),c(f,"class","text-slate-600"),c(t,"class","bg-white rounded-lg p-8 shadow-xl max-w-md mx-4 text-center"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]")},m(a,u){x(a,e,u),o(e,t),o(t,l),o(t,s),o(t,n),o(t,i),o(t,f),o(f,d)},p(a,u){u&2&&W(d,a[1])},d(a){a&&S(e)}}}function Ir(r){let e,t=r[0]&&Rt(r);return{c(){t&&t.c(),e=Ee()},m(l,s){t&&t.m(l,s),x(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=Rt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(l){l&&S(e),t&&t.d(l)}}}function Er(r,e,t){let{isLoading:l=!1}=e,{message:s="Loading list data..."}=e;return r.$$set=n=>{"isLoading"in n&&t(0,l=n.isLoading),"message"in n&&t(1,s=n.message)},[l,s]}class Nr extends we{constructor(e){super(),ke(this,e,Er,Ir,he,{isLoading:0,message:1})}}function Dt(r){let e,t;return e=new Al({}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Ar(r){let e,t;return e=new Tr({}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Or(r){let e,t;return e=new $l({}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Fr(r){let e,t;return e=new Bl({}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},i(l){t||(Q(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){ge(e,l)}}}function Br(r){let e,t,l,s,n,i,f,d,a,u=r[1]!=="auth"&&Dt(),b=qe.isDevelopment;const _=[Fr,Or,Ar],h=[];function y(v,w){return v[1]==="auth"?0:v[1]==="list-selector"?1:v[1]==="manager"?2:-1}return~(n=y(r))&&(i=h[n]=_[n](r)),d=new Nr({props:{isLoading:r[0].isLoadingList,message:"Loading list data and members..."}}),{c(){e=p("main"),u&&u.c(),t=C(),l=p("div"),s=C(),i&&i.c(),f=C(),ye(d.$$.fragment),c(l,"class","max-w-6xl mx-auto p-6"),c(e,"class","min-h-screen bg-gray-50")},m(v,w){x(v,e,w),u&&u.m(e,null),o(e,t),o(e,l),o(l,s),~n&&h[n].m(l,null),o(e,f),be(d,e,null),a=!0},p(v,[w]){v[1]!=="auth"?u?w&2&&Q(u,1):(u=Dt(),u.c(),Q(u,1),u.m(e,t)):u&&(De(),ne(u,1,1,()=>{u=null}),Ue());let N=n;n=y(v),n!==N&&(i&&(De(),ne(h[N],1,1,()=>{h[N]=null}),Ue()),~n?(i=h[n],i||(i=h[n]=_[n](v),i.c()),Q(i,1),i.m(l,null)):i=null);const j={};w&1&&(j.isLoading=v[0].isLoadingList),d.$set(j)},i(v){a||(Q(u),Q(b),Q(i),Q(d.$$.fragment,v),a=!0)},o(v){ne(u),ne(b),ne(i),ne(d.$$.fragment,v),a=!1},d(v){v&&S(e),u&&u.d(),~n&&h[n].d(),ge(d)}}}function jr(r,e,t){let l,s;ve(r,ce,i=>t(0,l=i)),ve(r,Ie,i=>t(2,s=i));let n="auth";return qt(()=>{Ie.getSession()&&t(1,n="list-selector")}),r.$$.update=()=>{r.$$.dirty&5&&(s.session?l.selectedList?t(1,n="manager"):t(1,n="list-selector"):t(1,n="auth"))},[l,n,s]}class Rr extends we{constructor(e){super(),ke(this,e,jr,Br,he,{})}}new Rr({target:document.getElementById("app")})});export default Dr();
