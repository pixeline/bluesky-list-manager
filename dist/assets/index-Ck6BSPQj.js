var ll=Object.defineProperty;var rl=(r,e,t)=>e in r?ll(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var sl=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Ge=(r,e,t)=>rl(r,typeof e!="symbol"?e+"":e,t);var Rr=sl((Ur,We)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();function X(){}function Ut(r){return r()}function it(){return Object.create(null)}function Se(r){r.forEach(Ut)}function zt(r){return typeof r=="function"}function ge(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let Je;function je(r,e){return r===e?!0:(Je||(Je=document.createElement("a")),Je.href=e,r===Je.href)}function nl(r){return Object.keys(r).length===0}function il(r,...e){if(r==null){for(const l of e)l(void 0);return X}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ve(r,e,t){r.$$.on_destroy.push(il(e,t))}function o(r,e){r.appendChild(e)}function S(r,e,t){r.insertBefore(e,t||null)}function L(r){r.parentNode&&r.parentNode.removeChild(r)}function De(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function m(r){return document.createElement(r)}function E(r){return document.createTextNode(r)}function T(){return E(" ")}function Ee(){return E("")}function le(r,e,t,l){return r.addEventListener(e,t,l),()=>r.removeEventListener(e,t,l)}function Ht(r){return function(e){return e.preventDefault(),r.call(this,e)}}function ol(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function c(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function al(r){return Array.from(r.childNodes)}function V(r,e){e=""+e,r.data!==e&&(r.data=e)}function pe(r,e){r.value=e??""}function ot(r,e,t){for(let l=0;l<r.options.length;l+=1){const s=r.options[l];if(s.__value===e){s.selected=!0;return}}r.selectedIndex=-1}function cl(r,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:l})}let He;function Ue(r){He=r}function qt(){if(!He)throw new Error("Function called outside component initialization");return He}function tt(r){qt().$$.on_mount.push(r)}function dl(){const r=qt();return(e,t,{cancelable:l=!1}={})=>{const s=r.$$.callbacks[e];if(s){const n=cl(e,t,{cancelable:l});return s.slice().forEach(i=>{i.call(r,n)}),!n.defaultPrevented}return!0}}function ul(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Be=[],at=[];let Fe=[];const ct=[],fl=Promise.resolve();let Xe=!1;function ml(){Xe||(Xe=!0,fl.then(Wt))}function et(r){Fe.push(r)}const Ke=new Set;let Ne=0;function Wt(){if(Ne!==0)return;const r=He;do{try{for(;Ne<Be.length;){const e=Be[Ne];Ne++,Ue(e),pl(e.$$)}}catch(e){throw Be.length=0,Ne=0,e}for(Ue(null),Be.length=0,Ne=0;at.length;)at.pop()();for(let e=0;e<Fe.length;e+=1){const t=Fe[e];Ke.has(t)||(Ke.add(t),t())}Fe.length=0}while(Be.length);for(;ct.length;)ct.pop()();Xe=!1,Ke.clear(),Ue(r)}function pl(r){if(r.fragment!==null){r.update(),Se(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(et)}}function bl(r){const e=[],t=[];Fe.forEach(l=>r.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Fe=e}const Ve=new Set;let Pe;function $e(){Pe={r:0,c:[],p:Pe}}function Re(){Pe.r||Se(Pe.c),Pe=Pe.p}function te(r,e){r&&r.i&&(Ve.delete(r),r.i(e))}function ne(r,e,t,l){if(r&&r.o){if(Ve.has(r))return;Ve.add(r),Pe.c.push(()=>{Ve.delete(r),l&&(t&&r.d(1),l())}),r.o(e)}else l&&l()}function ue(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function ye(r){r&&r.c()}function be(r,e,t){const{fragment:l,after_update:s}=r.$$;l&&l.m(e,t),et(()=>{const n=r.$$.on_mount.map(Ut).filter(zt);r.$$.on_destroy?r.$$.on_destroy.push(...n):Se(n),r.$$.on_mount=[]}),s.forEach(et)}function he(r,e){const t=r.$$;t.fragment!==null&&(bl(t.after_update),Se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function hl(r,e){r.$$.dirty[0]===-1&&(Be.push(r),ml(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ke(r,e,t,l,s,n,i=null,f=[-1]){const d=He;Ue(r);const a=r.$$={fragment:null,ctx:[],props:n,update:X,not_equal:s,bound:it(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:it(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};i&&i(a.root);let u=!1;if(a.ctx=t?t(r,e.props||{},(b,v,...g)=>{const y=g.length?g[0]:v;return a.ctx&&s(a.ctx[b],a.ctx[b]=y)&&(!a.skip_bound&&a.bound[b]&&a.bound[b](y),u&&hl(r,b)),v}):[],a.update(),u=!0,Se(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const b=al(e.target);a.fragment&&a.fragment.l(b),b.forEach(L)}else a.fragment&&a.fragment.c();e.intro&&te(r.$$.fragment),be(r,e.target,e.anchor),Wt()}Ue(d)}class we{constructor(){Ge(this,"$$");Ge(this,"$$set")}$destroy(){he(this,1),this.$destroy=X}$on(e,t){if(!zt(t))return X;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const s=l.indexOf(t);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!nl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const gl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gl);const Ae=[];function Jt(r,e=X){let t;const l=new Set;function s(f){if(ge(r,f)&&(r=f,t)){const d=!Ae.length;for(const a of l)a[1](),Ae.push(a,r);if(d){for(let a=0;a<Ae.length;a+=2)Ae[a][0](Ae[a+1]);Ae.length=0}}}function n(f){s(f(r))}function i(f,d=X){const a=[f,d];return l.add(a),l.size===1&&(t=e(s,n)||X),f(r),()=>{l.delete(a),l.size===0&&t&&(t(),t=null)}}return{set:s,update:n,subscribe:i}}const Oe={SESSION:"bluesky_session"};function _l(){const{subscribe:r,set:e,update:t}=Jt({session:null,isLoading:!1,error:null});return{subscribe:r,setSession:l=>{l?localStorage.setItem(Oe.SESSION,JSON.stringify(l)):localStorage.removeItem(Oe.SESSION),e({session:l,isLoading:!1,error:null})},setLoading:l=>{t(s=>({...s,isLoading:l}))},setError:l=>{t(s=>({...s,error:l,isLoading:!1}))},getSession:()=>{const l=localStorage.getItem(Oe.SESSION);if(l)try{return JSON.parse(l)}catch{localStorage.removeItem(Oe.SESSION)}return null},clearSession:()=>{localStorage.removeItem(Oe.SESSION),e({session:null,isLoading:!1,error:null})},signOut:()=>{localStorage.removeItem(Oe.SESSION),e({session:null,isLoading:!1,error:null})}}}const Ie=_l(),vl=!0,qe={apiBase:"./api",staticBase:"static",isDevelopment:!1,isProduction:vl,buildTime:new Date().toISOString(),getAssetPath:r=>`./${r}`},xe=qe.apiBase;class yl{async signIn(e,t){const l=await fetch(`${xe}/auth.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handle:e,password:t})});if(!l.ok){const s=await l.json();throw new Error(s.message||"Failed to sign in")}return await l.json()}async getUserLists(e){const t=await fetch(`${xe}/lists.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e})});if(!t.ok)throw new Error("Failed to fetch user lists");return(await t.json()).lists||[]}async getListInfo(e,t){const l=await fetch(`${xe}/list-info.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,listUri:t})});if(!l.ok)throw new Error("Failed to fetch list info");return(await l.json()).value}async getListMembers(e,t){const l=await fetch(`${xe}/list-members.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,listUri:t})});if(!l.ok)throw new Error("Failed to fetch list members");return(await l.json()).members||[]}async getProfiles(e,t){if(!t||t.length===0)return[];const l=await fetch(`${xe}/profiles.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,dids:t})});if(!l.ok)throw new Error("Failed to fetch profiles");return(await l.json()).profiles||[]}async searchProfiles(e,t,l=25,s=null){const n=await fetch(`${xe}/search.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,query:t,limit:l,cursor:s})});if(!n.ok)throw new Error("Failed to search profiles");const i=await n.json();return{actors:i.actors||[],cursor:i.cursor}}async addToList(e,t,l){const s=await fetch(`${xe}/add-to-list.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session:e,userDid:t,listUri:l})});if(!s.ok){const n=await s.json();throw new Error(n.message||"Failed to add to list")}return await s.json()}async resolveHandle(e){const t=await fetch(`${xe}/resolve-handle.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({handle:e})});if(!t.ok)throw new Error("Failed to resolve handle");return(await t.json()).did}}const Me=new yl,Ce={SELECTED_LIST:"bluesky_selected_list",LISTS:"bluesky_lists"};function kl(){const{subscribe:r,update:e}=Jt({selectedList:null,userLists:[],listMembers:[],listMemberProfiles:[],isLoading:!1,error:null});let t=!1;return{subscribe:r,setSelectedList:l=>{l?localStorage.setItem(Ce.SELECTED_LIST,JSON.stringify(l)):localStorage.removeItem(Ce.SELECTED_LIST),e(s=>({...s,selectedList:l,isLoadingList:!1}))},setListLoading:l=>{e(s=>({...s,isLoadingList:l}))},setUserLists:l=>{localStorage.setItem(Ce.LISTS,JSON.stringify(l)),e(s=>({...s,userLists:l}))},setListMembers:l=>{e(s=>({...s,listMembers:l}))},setListMemberProfiles:l=>{e(s=>({...s,listMemberProfiles:l}))},addProfileToList:l=>{e(s=>{const n=s.listMembers.includes(l)?s.listMembers:[l,...s.listMembers];return{...s,listMembers:n}})},addProfileToDisplay:l=>{e(s=>{if(s.listMembers.indexOf(l.did)<25){const i=[l,...s.listMemberProfiles];return{...s,listMemberProfiles:i.slice(0,25)}}return s})},fetchAndAddProfile:(l,s)=>new Promise(async n=>{if(t){n();return}t=!0;try{const i=await Me.getProfiles(l,[s]);if(i.length>0){const f=i[0];e(d=>{const a=d.listMembers.includes(s)?d.listMembers:[s,...d.listMembers];if(a.indexOf(s)<25){const b=d.listMemberProfiles.filter(g=>g.did!==s),v=[f,...b];return{...d,listMembers:a,listMemberProfiles:v.slice(0,25)}}return{...d,listMembers:a}})}}catch(i){console.error("Failed to fetch profile data:",i),e(f=>{const d=f.listMembers.includes(s)?f.listMembers:[s,...f.listMembers];return{...f,listMembers:d}})}finally{t=!1}n()}),refreshListMembers:()=>{e(l=>({...l,refreshTrigger:Date.now()}))},setLoading:l=>{e(s=>({...s,isLoading:l}))},setError:l=>{e(s=>({...s,error:l,isLoading:!1}))},getSelectedList:()=>{const l=localStorage.getItem(Ce.SELECTED_LIST);if(l)try{return JSON.parse(l)}catch{localStorage.removeItem(Ce.SELECTED_LIST)}return null},getUserLists:()=>{const l=localStorage.getItem(Ce.LISTS);if(l)try{return JSON.parse(l)}catch{localStorage.removeItem(Ce.LISTS)}return[]},clearSelectedList:()=>{localStorage.removeItem(Ce.SELECTED_LIST),e(l=>({...l,selectedList:null}))}}}const oe=kl();function dt(r){let e,t,l;return{c(){e=m("div"),t=m("p"),l=E(r[3]),c(t,"class","text-red-700 text-sm"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-3")},m(s,n){S(s,e,n),o(e,t),o(t,l)},p(s,n){n&8&&V(l,s[3])},d(s){s&&L(e)}}}function wl(r){let e;return{c(){e=E("Sign In")},m(t,l){S(t,e,l)},d(t){t&&L(e)}}}function Ll(r){let e,t;return{c(){e=m("span"),t=E(`
              Signing in...`),c(e,"class","loading-spinner mr-2 svelte-pxijdq")},m(l,s){S(l,e,s),S(l,t,s)},d(l){l&&(L(e),L(t))}}}function Ml(r){let e,t,l,s,n,i,f,d,a,u,b,v,g,y,_,w,N,$,Y,P,A,C,I,M,x,k,O,z,j=r[3]&&dt(r);function H(G,de){return G[2]?Ll:wl}let Z=H(r),D=Z(r);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("h2"),s.textContent="Sign in to Bluesky",n=T(),i=m("button"),i.textContent="×",f=T(),d=m("form"),a=m("div"),u=m("div"),b=m("label"),b.textContent="Handle",v=T(),g=m("input"),y=T(),_=m("div"),w=m("label"),w.textContent="App Password",N=T(),$=m("input"),Y=T(),P=m("p"),P.textContent="Use an app password, not your main account password",A=T(),j&&j.c(),C=T(),I=m("div"),M=m("button"),M.textContent="Cancel",x=T(),k=m("button"),D.c(),c(s,"class","text-xl font-semibold text-slate-800"),c(i,"class","text-gray-400 hover:text-gray-600 text-2xl font-bold"),c(l,"class","flex items-center justify-between mb-4"),c(b,"for","handle"),c(b,"class","block text-sm font-medium text-gray-700 mb-1"),c(g,"id","handle"),c(g,"type","text"),c(g,"placeholder","your-handle.bsky.social"),c(g,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),g.required=!0,c(w,"for","password"),c(w,"class","block text-sm font-medium text-gray-700 mb-1"),c($,"id","password"),c($,"type","password"),c($,"placeholder","Your app password"),c($,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),$.required=!0,c(P,"class","text-xs text-gray-500 mt-1"),c(M,"type","button"),c(M,"class","flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200"),c(k,"type","submit"),k.disabled=r[2],c(k,"class","flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200"),c(I,"class","flex space-x-3 pt-2"),c(a,"class","space-y-4"),c(t,"class","bg-white rounded-lg shadow-xl max-w-md w-full p-6"),c(t,"role","document"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"),c(e,"role","dialog"),c(e,"aria-modal","true"),c(e,"tabindex","-1")},m(G,de){S(G,e,de),o(e,t),o(t,l),o(l,s),o(l,n),o(l,i),o(t,f),o(t,d),o(d,a),o(a,u),o(u,b),o(u,v),o(u,g),pe(g,r[0]),o(a,y),o(a,_),o(_,w),o(_,N),o(_,$),pe($,r[1]),o(_,Y),o(_,P),o(a,A),j&&j.m(a,null),o(a,C),o(a,I),o(I,M),o(I,x),o(I,k),D.m(k,null),O||(z=[le(i,"click",r[5]),le(g,"input",r[8]),le($,"input",r[9]),le(M,"click",r[5]),le(d,"submit",Ht(r[4])),le(t,"click",ol(r[7])),le(e,"click",r[6]),le(e,"keydown",r[10])],O=!0)},p(G,[de]){de&1&&g.value!==G[0]&&pe(g,G[0]),de&2&&$.value!==G[1]&&pe($,G[1]),G[3]?j?j.p(G,de):(j=dt(G),j.c(),j.m(a,C)):j&&(j.d(1),j=null),Z!==(Z=H(G))&&(D.d(1),D=Z(G),D&&(D.c(),D.m(k,null))),de&4&&(k.disabled=G[2])},i:X,o:X,d(G){G&&L(e),j&&j.d(),D.d(),O=!1,Se(z)}}}function Sl(r,e,t){const l=dl();let s="",n="",i=!1,f="";async function d(){if(!s||!n){t(3,f="Please enter both handle and password");return}t(2,i=!0),t(3,f="");try{const _=await Me.signIn(s,n);Ie.setSession(_),l("close")}catch(_){t(3,f=_.message||"Failed to sign in. Please check your credentials.")}finally{t(2,i=!1)}}function a(){l("close")}function u(){a()}function b(_){ul.call(this,r,_)}function v(){s=this.value,t(0,s)}function g(){n=this.value,t(1,n)}return[s,n,i,f,d,a,u,b,v,g,_=>_.key==="Escape"&&a()]}class Vt extends we{constructor(e){super(),ke(this,e,Sl,Ml,ge,{})}}function ut(r,e,t){const l=r.slice();return l[10]=e[t],l}function xl(r){let e,t,l;return{c(){e=m("button"),e.textContent="🔐 Sign in with Bluesky",c(e,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-5 py-2.5 rounded-lg text-sm font-medium cursor-pointer transition-colors duration-200")},m(s,n){S(s,e,n),t||(l=le(e,"click",r[6]),t=!0)},p:X,d(s){s&&L(e),t=!1,l()}}}function Cl(r){let e,t,l,s,n,i,f,d,a,u,b,v=r[1].session.handle+"",g,y,_,w,N;function $(C,I){return C[3]?Il:C[4]?Pl:Tl}let Y=$(r),P=Y(r),A=r[3]&&mt();return{c(){e=m("div"),t=m("label"),t.textContent="List:",l=T(),s=m("select"),n=m("option"),n.textContent="Select a list...",P.c(),f=T(),A&&A.c(),d=T(),a=m("div"),u=m("div"),b=E("@"),g=E(v),y=T(),_=m("button"),_.textContent="Sign out",c(t,"for","list-selector"),c(t,"class","text-sm font-medium text-slate-700 whitespace-nowrap"),n.__value="",pe(n,n.__value),c(s,"id","list-selector"),s.disabled=r[3],c(s,"class","bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm w-64 text-slate-800 focus:border-slate-500 focus:ring-1 focus:ring-slate-500 disabled:opacity-50 disabled:cursor-not-allowed"),c(e,"class","flex items-center space-x-3"),c(u,"class","text-sm text-slate-700"),c(_,"class","bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-300 px-3 py-1.5 rounded-lg text-xs cursor-pointer transition-colors duration-200 font-medium"),c(a,"class","text-right")},m(C,I){var M;S(C,e,I),o(e,t),o(e,l),o(e,s),o(s,n),P.m(s,null),ot(s,((M=r[0].selectedList)==null?void 0:M.uri)||""),o(e,f),A&&A.m(e,null),S(C,d,I),S(C,a,I),o(a,u),o(u,b),o(u,g),o(a,y),o(a,_),w||(N=[le(s,"change",r[5]),le(_,"click",r[8])],w=!0)},p(C,I){var M,x;Y===(Y=$(C))&&P?P.p(C,I):(P.d(1),P=Y(C),P&&(P.c(),P.m(s,null))),I&1&&i!==(i=((M=C[0].selectedList)==null?void 0:M.uri)||"")&&ot(s,((x=C[0].selectedList)==null?void 0:x.uri)||""),I&8&&(s.disabled=C[3]),C[3]?A||(A=mt(),A.c(),A.m(e,null)):A&&(A.d(1),A=null),I&2&&v!==(v=C[1].session.handle+"")&&V(g,v)},d(C){C&&(L(e),L(d),L(a)),P.d(),A&&A.d(),w=!1,Se(N)}}}function Tl(r){let e,t=ue(r[0].userLists),l=[];for(let s=0;s<t.length;s+=1)l[s]=ft(ut(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ee()},m(s,n){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(s,n);S(s,e,n)},p(s,n){if(n&1){t=ue(s[0].userLists);let i;for(i=0;i<t.length;i+=1){const f=ut(s,t,i);l[i]?l[i].p(f,n):(l[i]=ft(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){s&&L(e),De(l,s)}}}function Pl(r){let e;return{c(){e=m("option"),e.textContent="Error loading lists",e.disabled=!0,e.__value="Error loading lists",pe(e,e.__value)},m(t,l){S(t,e,l)},p:X,d(t){t&&L(e)}}}function Il(r){let e;return{c(){e=m("option"),e.textContent="Loading lists...",e.disabled=!0,e.__value="Loading lists...",pe(e,e.__value)},m(t,l){S(t,e,l)},p:X,d(t){t&&L(e)}}}function ft(r){var a;let e,t=r[10].name+"",l,s,n=(((a=r[0].selectedList)==null?void 0:a.uri)===r[10].uri?r[0].listMembers.length:r[10].memberCount)+"",i,f,d;return{c(){e=m("option"),l=E(t),s=E(" ("),i=E(n),f=E(` members)
									`),e.__value=d=r[10].uri,pe(e,e.__value)},m(u,b){S(u,e,b),o(e,l),o(e,s),o(e,i),o(e,f)},p(u,b){var v;b&1&&t!==(t=u[10].name+"")&&V(l,t),b&1&&n!==(n=(((v=u[0].selectedList)==null?void 0:v.uri)===u[10].uri?u[0].listMembers.length:u[10].memberCount)+"")&&V(i,n),b&1&&d!==(d=u[10].uri)&&(e.__value=d,pe(e,e.__value))},d(u){u&&L(e)}}}function mt(r){let e;return{c(){e=m("div"),c(e,"class","loading-spinner svelte-1myfg8v")},m(t,l){S(t,e,l)},d(t){t&&L(e)}}}function pt(r){let e,t;return e=new Vt({}),e.$on("close",r[7]),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},p:X,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function El(r){let e,t,l,s,n,i,f,d,a;function u(y,_){return y[1].session?Cl:xl}let b=u(r),v=b(r),g=r[2]&&pt(r);return{c(){e=m("header"),t=m("div"),l=m("div"),s=m("div"),s.innerHTML=`<h1 class="text-2xl font-bold m-0 text-slate-800 flex items-center gap-2"><img src="${qe.getAssetPath("static/Bluesky_Logo.svg")}" class="w-6 h-6" alt="Bluesky Logo"/>
					Bluesky List Manager</h1> <p class="text-sm text-slate-600 m-0 mt-1">Manage members in your Bluesky lists</p>`,n=T(),i=m("div"),v.c(),f=T(),g&&g.c(),d=Ee(),c(i,"class","flex items-center space-x-4"),c(l,"class","flex items-center justify-between mb-4"),c(t,"class","max-w-6xl mx-auto px-6 py-4"),c(e,"class","bg-white border-b border-gray-200 sticky top-0 z-50")},m(y,_){S(y,e,_),o(e,t),o(t,l),o(l,s),o(l,n),o(l,i),v.m(i,null),S(y,f,_),g&&g.m(y,_),S(y,d,_),a=!0},p(y,[_]){b===(b=u(y))&&v?v.p(y,_):(v.d(1),v=b(y),v&&(v.c(),v.m(i,null))),y[2]?g?(g.p(y,_),_&4&&te(g,1)):(g=pt(y),g.c(),te(g,1),g.m(d.parentNode,d)):g&&($e(),ne(g,1,1,()=>{g=null}),Re())},i(y){a||(te(g),a=!0)},o(y){ne(g),a=!1},d(y){y&&(L(e),L(f),L(d)),v.d(),g&&g.d(y)}}}function Nl(r,e,t){let l,s;ve(r,oe,g=>t(0,l=g)),ve(r,Ie,g=>t(1,s=g));let n=!1,i=!1,f="";tt(async()=>{s.session&&await d()});async function d(){if(s.session){t(3,i=!0),t(4,f="");try{const y=(await Me.getUserLists(s.session)).map(_=>({uri:_.uri,name:_.name,description:_.description||"",purpose:_.purpose||"app.bsky.graph.defs#modlist",createdAt:_.createdAt,memberCount:_.listItemCount||0})).sort((_,w)=>new Date(w.createdAt)-new Date(_.createdAt));oe.setUserLists(y)}catch(g){t(4,f=g.message||"Failed to load your lists")}finally{t(3,i=!1)}}}function a(g){const y=g.target.value;if(y){const _=l.userLists.find(w=>w.uri===y);_&&oe.setSelectedList(_)}else oe.setSelectedList(null)}function u(){t(2,n=!0)}function b(){t(2,n=!1)}function v(){Ie.signOut(),oe.setSelectedList(null)}return r.$$.update=()=>{r.$$.dirty&3&&s.session&&l.userLists.length===0&&d()},[l,s,n,i,f,a,u,b,v]}class Al extends we{constructor(e){super(),ke(this,e,Nl,El,ge,{})}}function bt(r){let e,t;return e=new Vt({}),e.$on("close",r[2]),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},p:X,i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Ol(r){let e,t,l,s,n,i,f,d,a,u,b,v,g,y,_,w=r[0]&&bt(r);return{c(){e=m("div"),t=m("div"),t.innerHTML=`<div class="text-6xl mb-4"><img src="${qe.getAssetPath("static/Bluesky_Logo.svg")}" class="w-16 h-16 mx-auto" alt="Bluesky Logo"/></div> <h2 class="text-3xl font-bold text-slate-800 mb-4">Welcome to Bluesky List Manager</h2> <p class="text-lg text-slate-600 mb-6">Find and manage profiles in your Bluesky lists with ease.</p>`,l=T(),s=m("div"),n=m("div"),n.innerHTML='<h3 class="text-lg font-semibold text-blue-800 mb-3">🔍 What you can do:</h3> <ul class="space-y-2 text-blue-700"><li class="flex items-start"><span class="text-blue-500 mr-2">•</span> <span><strong>Search profiles</strong> by keywords in their bio, display name, or handle</span></li> <li class="flex items-start"><span class="text-blue-500 mr-2">•</span> <span><strong>Check if profiles</strong> are already in your selected list</span></li> <li class="flex items-start"><span class="text-blue-500 mr-2">•</span> <span><strong>Add multiple profiles</strong> to your lists with one click</span></li> <li class="flex items-start"><span class="text-blue-500 mr-2">•</span> <span><strong>View and manage</strong> your existing list members</span></li></ul>',i=T(),f=m("div"),f.innerHTML=`<h3 class="text-lg font-semibold text-green-800 mb-3">🔐 Privacy &amp; Security</h3> <p class="text-green-700 mb-3">This app is a client-side application. Your Bluesky credentials are stored locally in your
				browser and are never sent to our servers. We only communicate directly with Bluesky&#39;s API
				using your authentication token.</p> <p class="text-sm text-green-600"><strong>Your data stays private and secure.</strong> Feel free to inspect the source code
				(and contribute!) on
				<a href="https://github.com/pixeline/bluesky-profile-catcher" class="text-green-600 hover:text-green-700 underline">GitHub</a>.</p>`,d=T(),a=m("div"),u=m("button"),u.textContent="🔐 Get Started - Sign in with Bluesky",b=T(),w&&w.c(),v=Ee(),c(t,"class","text-center mb-8"),c(n,"class","bg-blue-50 p-6 rounded-lg border border-blue-200"),c(f,"class","bg-green-50 p-6 rounded-lg border border-green-200"),c(u,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-8 py-3 rounded-lg text-lg font-medium cursor-pointer transition-colors duration-200"),c(a,"class","text-center"),c(s,"class","space-y-6"),c(e,"class","bg-white p-8 rounded-lg shadow-sm border border-gray-200 max-w-2xl mx-auto")},m(N,$){S(N,e,$),o(e,t),o(e,l),o(e,s),o(s,n),o(s,i),o(s,f),o(s,d),o(s,a),o(a,u),S(N,b,$),w&&w.m(N,$),S(N,v,$),g=!0,y||(_=le(u,"click",r[1]),y=!0)},p(N,[$]){N[0]?w?(w.p(N,$),$&1&&te(w,1)):(w=bt(N),w.c(),te(w,1),w.m(v.parentNode,v)):w&&($e(),ne(w,1,1,()=>{w=null}),Re())},i(N){g||(te(w),g=!0)},o(N){ne(w),g=!1},d(N){N&&(L(e),L(b),L(v)),w&&w.d(N),y=!1,_()}}}function Bl(r,e,t){let l=!1;function s(){t(0,l=!0)}function n(){t(0,l=!1)}return[l,s,n]}class Fl extends we{constructor(e){super(),ke(this,e,Bl,Ol,ge,{})}}function jl(r){let e,t,l;return{c(){e=m("h3"),e.textContent="Select a List",t=T(),l=m("p"),l.textContent="Choose a list from the dropdown above to get started.",c(e,"class","text-lg font-semibold text-slate-800 mb-2"),c(l,"class","text-slate-600")},m(s,n){S(s,e,n),S(s,t,n),S(s,l,n)},d(s){s&&(L(e),L(t),L(l))}}}function $l(r){let e,t,l;return{c(){e=m("h3"),e.textContent="No Lists Found",t=T(),l=m("p"),l.textContent="You don't have any lists yet. Create a list on Bluesky first!",c(e,"class","text-lg font-semibold text-slate-800 mb-2"),c(l,"class","text-slate-600")},m(s,n){S(s,e,n),S(s,t,n),S(s,l,n)},d(s){s&&(L(e),L(t),L(l))}}}function Rl(r){let e,t,l,s,n,i,f;function d(b,v){return b[0].userLists.length===0?$l:jl}let a=d(r),u=a(r);return{c(){e=m("div"),t=m("div"),l=m("div"),l.innerHTML='<h2 class="text-2xl font-bold text-slate-800 mb-2">Welcome to Bluesky List Manager</h2> <p class="text-slate-600">Select a list from the dropdown in the header above to start managing your Bluesky lists.</p>',s=T(),n=m("div"),i=m("div"),i.innerHTML=`<img src="${qe.getAssetPath("static/Bluesky_Logo.svg")}" class="w-16 h-16 mx-auto grayscale opacity-10" alt="Bluesky Logo"/>`,f=T(),u.c(),c(l,"class","text-center mb-8"),c(i,"class","text-4xl mb-4"),c(n,"class","text-center py-12"),c(t,"class","bg-white p-8 rounded-lg shadow-sm border border-gray-200"),c(e,"class","max-w-4xl mx-auto")},m(b,v){S(b,e,v),o(e,t),o(t,l),o(t,s),o(t,n),o(n,i),o(n,f),u.m(n,null)},p(b,[v]){a!==(a=d(b))&&(u.d(1),u=a(b),u&&(u.c(),u.m(n,null)))},i:X,o:X,d(b){b&&L(e),u.d()}}}function Dl(r,e,t){let l;return ve(r,oe,s=>t(0,l=s)),[l]}class Ul extends we{constructor(e){super(),ke(this,e,Dl,Rl,ge,{})}}function zl(r){let e,t,l,s,n,i,f,d,a,u,b,v=(r[0].displayName||r[0].handle)+"",g,y,_,w,N=r[0].handle+"",$,Y,P,A=r[0].description&&ht(r);function C(x,k){if(x[3]==="Already in list")return Jl;if(x[3]==="New candidate")return Wl;if(x[2])return ql}let I=C(r),M=I&&I(r);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("img"),d=T(),a=m("div"),u=m("div"),b=m("h3"),g=E(v),y=T(),_=m("span"),w=E("@"),$=E(N),Y=T(),A&&A.c(),P=T(),M&&M.c(),je(s.src,n=Ye(r[0]))||c(s,"src",n),c(s,"alt",i=r[0].displayName||r[0].handle),c(s,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(s,"onerror",f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(r[0].displayName||r[0].handle)+"&background=6366f1&color=fff&size=64'"),c(l,"class","flex-shrink-0"),c(b,"class","text-base font-semibold text-gray-900 truncate"),c(_,"class","text-sm text-gray-600 truncate"),c(u,"class","flex items-center space-x-2 mb-1"),c(a,"class","flex-1 min-w-0"),c(t,"class","flex items-start space-x-3"),c(e,"class","profile-card bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200")},m(x,k){S(x,e,k),o(e,t),o(t,l),o(l,s),o(t,d),o(t,a),o(a,u),o(u,b),o(b,g),o(u,y),o(u,_),o(_,w),o(_,$),o(a,Y),A&&A.m(a,null),o(a,P),M&&M.m(a,null)},p(x,k){k&1&&!je(s.src,n=Ye(x[0]))&&c(s,"src",n),k&1&&i!==(i=x[0].displayName||x[0].handle)&&c(s,"alt",i),k&1&&f!==(f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(x[0].displayName||x[0].handle)+"&background=6366f1&color=fff&size=64'")&&c(s,"onerror",f),k&1&&v!==(v=(x[0].displayName||x[0].handle)+"")&&V(g,v),k&1&&N!==(N=x[0].handle+"")&&V($,N),x[0].description?A?A.p(x,k):(A=ht(x),A.c(),A.m(a,P)):A&&(A.d(1),A=null),I===(I=C(x))&&M?M.p(x,k):(M&&M.d(1),M=I&&I(x),M&&(M.c(),M.m(a,null)))},d(x){x&&L(e),A&&A.d(),M&&M.d()}}}function Hl(r){let e,t,l,s,n,i,f,d,a,u,b,v=(r[0].displayName||r[0].handle)+"",g,y,_,w,N=r[0].handle+"",$,Y,P,A,C,I,M,x,k=r[0].description&&gt(r);function O(H,Z){if(H[3]==="Already in list")return Kl;if(H[3]==="New candidate")return Gl;if(H[2])return Zl}let z=O(r),j=z&&z(r);return{c(){e=m("a"),t=m("div"),l=m("div"),s=m("img"),d=T(),a=m("div"),u=m("div"),b=m("h3"),g=E(v),y=T(),_=m("span"),w=E("@"),$=E(N),Y=T(),k&&k.c(),P=T(),j&&j.c(),A=T(),C=m("div"),C.innerHTML='<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>',je(s.src,n=Ye(r[0]))||c(s,"src",n),c(s,"alt",i=r[0].displayName||r[0].handle),c(s,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(s,"onerror",f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(r[0].displayName||r[0].handle)+"&background=6366f1&color=fff&size=64'"),c(l,"class","flex-shrink-0"),c(b,"class","text-base font-semibold text-gray-900 truncate"),c(_,"class","text-sm text-gray-600 truncate"),c(u,"class","flex items-center space-x-2 mb-1"),c(a,"class","flex-1 min-w-0"),c(C,"class","flex-shrink-0"),c(t,"class","flex items-start space-x-3"),c(e,"href",I="https://bsky.app/profile/"+r[0].handle),c(e,"target","_blank"),c(e,"rel","noopener noreferrer"),c(e,"class","profile-card block bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md hover:border-gray-300 transition-all duration-200")},m(H,Z){S(H,e,Z),o(e,t),o(t,l),o(l,s),o(t,d),o(t,a),o(a,u),o(u,b),o(b,g),o(u,y),o(u,_),o(_,w),o(_,$),o(a,Y),k&&k.m(a,null),o(a,P),j&&j.m(a,null),o(t,A),o(t,C),M||(x=le(e,"click",r[8]),M=!0)},p(H,Z){Z&1&&!je(s.src,n=Ye(H[0]))&&c(s,"src",n),Z&1&&i!==(i=H[0].displayName||H[0].handle)&&c(s,"alt",i),Z&1&&f!==(f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(H[0].displayName||H[0].handle)+"&background=6366f1&color=fff&size=64'")&&c(s,"onerror",f),Z&1&&v!==(v=(H[0].displayName||H[0].handle)+"")&&V(g,v),Z&1&&N!==(N=H[0].handle+"")&&V($,N),H[0].description?k?k.p(H,Z):(k=gt(H),k.c(),k.m(a,P)):k&&(k.d(1),k=null),z===(z=O(H))&&j?j.p(H,Z):(j&&j.d(1),j=z&&z(H),j&&(j.c(),j.m(a,null))),Z&1&&I!==(I="https://bsky.app/profile/"+H[0].handle)&&c(e,"href",I)},d(H){H&&L(e),k&&k.d(),j&&j.d(),M=!1,x()}}}function ht(r){let e,t=r[0].description+"",l;return{c(){e=m("p"),l=E(t),c(e,"class","text-sm text-gray-700 mb-3 whitespace-pre-wrap")},m(s,n){S(s,e,n),o(e,l)},p(s,n){n&1&&t!==(t=s[0].description+"")&&V(l,t)},d(s){s&&L(e)}}}function ql(r){let e,t,l,s,n,i;return{c(){e=m("div"),t=m("input"),l=T(),s=m("span"),s.textContent="Select to add to list",c(t,"type","checkbox"),t.checked=r[1],c(t,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"),c(s,"class","text-sm text-gray-600"),c(e,"class","flex items-center space-x-2")},m(f,d){S(f,e,d),o(e,t),o(e,l),o(e,s),n||(i=le(t,"change",r[6]),n=!0)},p(f,d){d&2&&(t.checked=f[1])},d(f){f&&L(e),n=!1,i()}}}function Wl(r){let e,t,l,s,n,i,f;function d(b,v){return b[5]?Yl:Vl}let a=d(r),u=a(r);return{c(){e=m("div"),t=m("span"),l=E(r[3]),s=T(),n=m("button"),u.c(),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"),n.disabled=r[5],c(n,"class","inline-flex items-center px-3 py-1 rounded text-xs font-medium bg-slate-800 hover:bg-slate-700 text-white border-0 cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","flex items-center space-x-2")},m(b,v){S(b,e,v),o(e,t),o(t,l),o(e,s),o(e,n),u.m(n,null),i||(f=le(n,"click",r[7]),i=!0)},p(b,v){v&8&&V(l,b[3]),a!==(a=d(b))&&(u.d(1),u=a(b),u&&(u.c(),u.m(n,null))),v&32&&(n.disabled=b[5])},d(b){b&&L(e),u.d(),i=!1,f()}}}function Jl(r){let e,t,l;return{c(){e=m("div"),t=m("span"),l=E(r[3]),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"),c(e,"class","flex items-center space-x-2")},m(s,n){S(s,e,n),o(e,t),o(t,l)},p(s,n){n&8&&V(l,s[3])},d(s){s&&L(e)}}}function Vl(r){let e;return{c(){e=E("Add to list")},m(t,l){S(t,e,l)},d(t){t&&L(e)}}}function Yl(r){let e,t;return{c(){e=m("span"),t=E(`
                Adding...`),c(e,"class","loading-spinner mr-1")},m(l,s){S(l,e,s),S(l,t,s)},d(l){l&&(L(e),L(t))}}}function gt(r){let e,t=r[0].description+"",l;return{c(){e=m("p"),l=E(t),c(e,"class","text-sm text-gray-700 mb-3 whitespace-pre-wrap")},m(s,n){S(s,e,n),o(e,l)},p(s,n){n&1&&t!==(t=s[0].description+"")&&V(l,t)},d(s){s&&L(e)}}}function Zl(r){let e,t,l,s,n,i;return{c(){e=m("div"),t=m("input"),l=T(),s=m("span"),s.textContent="Select to add to list",c(t,"type","checkbox"),t.checked=r[1],c(t,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"),c(s,"class","text-sm text-gray-600"),c(e,"class","flex items-center space-x-2")},m(f,d){S(f,e,d),o(e,t),o(e,l),o(e,s),n||(i=le(t,"change",r[6]),n=!0)},p(f,d){d&2&&(t.checked=f[1])},d(f){f&&L(e),n=!1,i()}}}function Gl(r){let e,t,l,s,n,i,f;function d(b,v){return b[5]?Xl:Ql}let a=d(r),u=a(r);return{c(){e=m("div"),t=m("span"),l=E(r[3]),s=T(),n=m("button"),u.c(),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"),n.disabled=r[5],c(n,"class","inline-flex items-center px-3 py-1 rounded text-xs font-medium bg-slate-800 hover:bg-slate-700 text-white border-0 cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","flex items-center space-x-2")},m(b,v){S(b,e,v),o(e,t),o(t,l),o(e,s),o(e,n),u.m(n,null),i||(f=le(n,"click",r[7]),i=!0)},p(b,v){v&8&&V(l,b[3]),a!==(a=d(b))&&(u.d(1),u=a(b),u&&(u.c(),u.m(n,null))),v&32&&(n.disabled=b[5])},d(b){b&&L(e),u.d(),i=!1,f()}}}function Kl(r){let e,t,l;return{c(){e=m("div"),t=m("span"),l=E(r[3]),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"),c(e,"class","flex items-center space-x-2")},m(s,n){S(s,e,n),o(e,t),o(t,l)},p(s,n){n&8&&V(l,s[3])},d(s){s&&L(e)}}}function Ql(r){let e;return{c(){e=E("Add to list")},m(t,l){S(t,e,l)},d(t){t&&L(e)}}}function Xl(r){let e,t;return{c(){e=m("span"),t=E(`
                Adding...`),c(e,"class","loading-spinner mr-1")},m(l,s){S(l,e,s),S(l,t,s)},d(l){l&&(L(e),L(t))}}}function er(r){let e;function t(n,i){return n[4]?Hl:zl}let l=t(r),s=l(r);return{c(){s.c(),e=Ee()},m(n,i){s.m(n,i),S(n,e,i)},p(n,[i]){l===(l=t(n))&&s?s.p(n,i):(s.d(1),s=l(n),s&&(s.c(),s.m(e.parentNode,e)))},i:X,o:X,d(n){n&&L(e),s.d(n)}}}function Ye(r){return r.avatar?r.avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(r.displayName||r.handle)}&background=6366f1&color=fff&size=64`}function tr(r,e,t){let{profile:l}=e,{isSelected:s=!1}=e,{onSelect:n=()=>{}}=e,{showCheckbox:i=!0}=e,{statusTag:f=null}=e,{clickable:d=!1}=e,{onAddToList:a=()=>{}}=e,{isAddingToList:u=!1}=e;function b(){n(l)}function v(y){y.preventDefault(),y.stopPropagation(),a(l)}function g(y){d&&!i||d&&i&&(y.target.type==="checkbox"||y.target.closest('input[type="checkbox"]'))&&(y.preventDefault(),y.stopPropagation())}return r.$$set=y=>{"profile"in y&&t(0,l=y.profile),"isSelected"in y&&t(1,s=y.isSelected),"onSelect"in y&&t(9,n=y.onSelect),"showCheckbox"in y&&t(2,i=y.showCheckbox),"statusTag"in y&&t(3,f=y.statusTag),"clickable"in y&&t(4,d=y.clickable),"onAddToList"in y&&t(10,a=y.onAddToList),"isAddingToList"in y&&t(5,u=y.isAddingToList)},[l,s,i,f,d,u,b,v,g,n,a]}class lr extends we{constructor(e){super(),ke(this,e,tr,er,ge,{profile:0,isSelected:1,onSelect:9,showCheckbox:2,statusTag:3,clickable:4,onAddToList:10,isAddingToList:5})}}var We={};(function r(e,t,l,s){var n=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),i=typeof Path2D=="function"&&typeof DOMMatrix=="function",f=function(){if(!e.OffscreenCanvas)return!1;var h=new OffscreenCanvas(1,1),p=h.getContext("2d");p.fillRect(0,0,1,1);var F=h.transferToImageBitmap();try{p.createPattern(F,"no-repeat")}catch{return!1}return!0}();function d(){}function a(h){var p=t.exports.Promise,F=p!==void 0?p:e.Promise;return typeof F=="function"?new F(h):(h(d,d),null)}var u=function(h,p){return{transform:function(F){if(h)return F;if(p.has(F))return p.get(F);var R=new OffscreenCanvas(F.width,F.height),q=R.getContext("2d");return q.drawImage(F,0,0),p.set(F,R),R},clear:function(){p.clear()}}}(f,new Map),b=function(){var h=Math.floor(16.666666666666668),p,F,R={},q=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(p=function(W){var J=Math.random();return R[J]=requestAnimationFrame(function B(U){q===U||q+h-1<U?(q=U,delete R[J],W()):R[J]=requestAnimationFrame(B)}),J},F=function(W){R[W]&&cancelAnimationFrame(R[W])}):(p=function(W){return setTimeout(W,h)},F=function(W){return clearTimeout(W)}),{frame:p,cancel:F}}(),v=function(){var h,p,F={};function R(q){function W(J,B){q.postMessage({options:J||{},callback:B})}q.init=function(B){var U=B.transferControlToOffscreen();q.postMessage({canvas:U},[U])},q.fire=function(B,U,Q){if(p)return W(B,null),p;var re=Math.random().toString(36).slice(2);return p=a(function(ee){function se(ie){ie.data.callback===re&&(delete F[re],q.removeEventListener("message",se),p=null,u.clear(),Q(),ee())}q.addEventListener("message",se),W(B,re),F[re]=se.bind(null,{data:{callback:re}})}),p},q.reset=function(){q.postMessage({reset:!0});for(var B in F)F[B](),delete F[B]}}return function(){if(h)return h;if(!l&&n){var q=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{h=new Worker(URL.createObjectURL(new Blob([q])))}catch(W){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",W),null}R(h)}return h}}(),g={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function y(h,p){return p?p(h):h}function _(h){return h!=null}function w(h,p,F){return y(h&&_(h[p])?h[p]:g[p],F)}function N(h){return h<0?0:Math.floor(h)}function $(h,p){return Math.floor(Math.random()*(p-h))+h}function Y(h){return parseInt(h,16)}function P(h){return h.map(A)}function A(h){var p=String(h).replace(/[^0-9a-f]/gi,"");return p.length<6&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),{r:Y(p.substring(0,2)),g:Y(p.substring(2,4)),b:Y(p.substring(4,6))}}function C(h){var p=w(h,"origin",Object);return p.x=w(p,"x",Number),p.y=w(p,"y",Number),p}function I(h){h.width=document.documentElement.clientWidth,h.height=document.documentElement.clientHeight}function M(h){var p=h.getBoundingClientRect();h.width=p.width,h.height=p.height}function x(h){var p=document.createElement("canvas");return p.style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.pointerEvents="none",p.style.zIndex=h,p}function k(h,p,F,R,q,W,J,B,U){h.save(),h.translate(p,F),h.rotate(W),h.scale(R,q),h.arc(0,0,1,J,B,U),h.restore()}function O(h){var p=h.angle*(Math.PI/180),F=h.spread*(Math.PI/180);return{x:h.x,y:h.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:h.startVelocity*.5+Math.random()*h.startVelocity,angle2D:-p+(.5*F-Math.random()*F),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:h.color,shape:h.shape,tick:0,totalTicks:h.ticks,decay:h.decay,drift:h.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:h.gravity*3,ovalScalar:.6,scalar:h.scalar,flat:h.flat}}function z(h,p){p.x+=Math.cos(p.angle2D)*p.velocity+p.drift,p.y+=Math.sin(p.angle2D)*p.velocity+p.gravity,p.velocity*=p.decay,p.flat?(p.wobble=0,p.wobbleX=p.x+10*p.scalar,p.wobbleY=p.y+10*p.scalar,p.tiltSin=0,p.tiltCos=0,p.random=1):(p.wobble+=p.wobbleSpeed,p.wobbleX=p.x+10*p.scalar*Math.cos(p.wobble),p.wobbleY=p.y+10*p.scalar*Math.sin(p.wobble),p.tiltAngle+=.1,p.tiltSin=Math.sin(p.tiltAngle),p.tiltCos=Math.cos(p.tiltAngle),p.random=Math.random()+2);var F=p.tick++/p.totalTicks,R=p.x+p.random*p.tiltCos,q=p.y+p.random*p.tiltSin,W=p.wobbleX+p.random*p.tiltCos,J=p.wobbleY+p.random*p.tiltSin;if(h.fillStyle="rgba("+p.color.r+", "+p.color.g+", "+p.color.b+", "+(1-F)+")",h.beginPath(),i&&p.shape.type==="path"&&typeof p.shape.path=="string"&&Array.isArray(p.shape.matrix))h.fill(G(p.shape.path,p.shape.matrix,p.x,p.y,Math.abs(W-R)*.1,Math.abs(J-q)*.1,Math.PI/10*p.wobble));else if(p.shape.type==="bitmap"){var B=Math.PI/10*p.wobble,U=Math.abs(W-R)*.1,Q=Math.abs(J-q)*.1,re=p.shape.bitmap.width*p.scalar,ee=p.shape.bitmap.height*p.scalar,se=new DOMMatrix([Math.cos(B)*U,Math.sin(B)*U,-Math.sin(B)*Q,Math.cos(B)*Q,p.x,p.y]);se.multiplySelf(new DOMMatrix(p.shape.matrix));var ie=h.createPattern(u.transform(p.shape.bitmap),"no-repeat");ie.setTransform(se),h.globalAlpha=1-F,h.fillStyle=ie,h.fillRect(p.x-re/2,p.y-ee/2,re,ee),h.globalAlpha=1}else if(p.shape==="circle")h.ellipse?h.ellipse(p.x,p.y,Math.abs(W-R)*p.ovalScalar,Math.abs(J-q)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI):k(h,p.x,p.y,Math.abs(W-R)*p.ovalScalar,Math.abs(J-q)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI);else if(p.shape==="star")for(var K=Math.PI/2*3,ce=4*p.scalar,fe=8*p.scalar,me=p.x,Le=p.y,Te=5,_e=Math.PI/Te;Te--;)me=p.x+Math.cos(K)*fe,Le=p.y+Math.sin(K)*fe,h.lineTo(me,Le),K+=_e,me=p.x+Math.cos(K)*ce,Le=p.y+Math.sin(K)*ce,h.lineTo(me,Le),K+=_e;else h.moveTo(Math.floor(p.x),Math.floor(p.y)),h.lineTo(Math.floor(p.wobbleX),Math.floor(q)),h.lineTo(Math.floor(W),Math.floor(J)),h.lineTo(Math.floor(R),Math.floor(p.wobbleY));return h.closePath(),h.fill(),p.tick<p.totalTicks}function j(h,p,F,R,q){var W=p.slice(),J=h.getContext("2d"),B,U,Q=a(function(re){function ee(){B=U=null,J.clearRect(0,0,R.width,R.height),u.clear(),q(),re()}function se(){l&&!(R.width===s.width&&R.height===s.height)&&(R.width=h.width=s.width,R.height=h.height=s.height),!R.width&&!R.height&&(F(h),R.width=h.width,R.height=h.height),J.clearRect(0,0,R.width,R.height),W=W.filter(function(ie){return z(J,ie)}),W.length?B=b.frame(se):ee()}B=b.frame(se),U=ee});return{addFettis:function(re){return W=W.concat(re),Q},canvas:h,promise:Q,reset:function(){B&&b.cancel(B),U&&U()}}}function H(h,p){var F=!h,R=!!w(p||{},"resize"),q=!1,W=w(p,"disableForReducedMotion",Boolean),J=n&&!!w(p||{},"useWorker"),B=J?v():null,U=F?I:M,Q=h&&B?!!h.__confetti_initialized:!1,re=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ee;function se(K,ce,fe){for(var me=w(K,"particleCount",N),Le=w(K,"angle",Number),Te=w(K,"spread",Number),_e=w(K,"startVelocity",Number),Yt=w(K,"decay",Number),Zt=w(K,"gravity",Number),Gt=w(K,"drift",Number),lt=w(K,"colors",P),Kt=w(K,"ticks",Number),rt=w(K,"shapes"),Qt=w(K,"scalar"),Xt=!!w(K,"flat"),st=C(K),nt=me,Ze=[],el=h.width*st.x,tl=h.height*st.y;nt--;)Ze.push(O({x:el,y:tl,angle:Le,spread:Te,startVelocity:_e,color:lt[nt%lt.length],shape:rt[$(0,rt.length)],ticks:Kt,decay:Yt,gravity:Zt,drift:Gt,scalar:Qt,flat:Xt}));return ee?ee.addFettis(Ze):(ee=j(h,Ze,U,ce,fe),ee.promise)}function ie(K){var ce=W||w(K,"disableForReducedMotion",Boolean),fe=w(K,"zIndex",Number);if(ce&&re)return a(function(_e){_e()});F&&ee?h=ee.canvas:F&&!h&&(h=x(fe),document.body.appendChild(h)),R&&!Q&&U(h);var me={width:h.width,height:h.height};B&&!Q&&B.init(h),Q=!0,B&&(h.__confetti_initialized=!0);function Le(){if(B){var _e={getBoundingClientRect:function(){if(!F)return h.getBoundingClientRect()}};U(_e),B.postMessage({resize:{width:_e.width,height:_e.height}});return}me.width=me.height=null}function Te(){ee=null,R&&(q=!1,e.removeEventListener("resize",Le)),F&&h&&(document.body.contains(h)&&document.body.removeChild(h),h=null,Q=!1)}return R&&!q&&(q=!0,e.addEventListener("resize",Le,!1)),B?B.fire(K,me,Te):se(K,me,Te)}return ie.reset=function(){B&&B.reset(),ee&&ee.reset()},ie}var Z;function D(){return Z||(Z=H(null,{useWorker:!0,resize:!0})),Z}function G(h,p,F,R,q,W,J){var B=new Path2D(h),U=new Path2D;U.addPath(B,new DOMMatrix(p));var Q=new Path2D;return Q.addPath(U,new DOMMatrix([Math.cos(J)*q,Math.sin(J)*q,-Math.sin(J)*W,Math.cos(J)*W,F,R])),Q}function de(h){if(!i)throw new Error("path confetti are not supported in this browser");var p,F;typeof h=="string"?p=h:(p=h.path,F=h.matrix);var R=new Path2D(p),q=document.createElement("canvas"),W=q.getContext("2d");if(!F){for(var J=1e3,B=J,U=J,Q=0,re=0,ee,se,ie=0;ie<J;ie+=2)for(var K=0;K<J;K+=2)W.isPointInPath(R,ie,K,"nonzero")&&(B=Math.min(B,ie),U=Math.min(U,K),Q=Math.max(Q,ie),re=Math.max(re,K));ee=Q-B,se=re-U;var ce=10,fe=Math.min(ce/ee,ce/se);F=[fe,0,0,fe,-Math.round(ee/2+B)*fe,-Math.round(se/2+U)*fe]}return{type:"path",path:p,matrix:F}}function ae(h){var p,F=1,R="#000000",q='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof h=="string"?p=h:(p=h.text,F="scalar"in h?h.scalar:F,q="fontFamily"in h?h.fontFamily:q,R="color"in h?h.color:R);var W=10*F,J=""+W+"px "+q,B=new OffscreenCanvas(W,W),U=B.getContext("2d");U.font=J;var Q=U.measureText(p),re=Math.ceil(Q.actualBoundingBoxRight+Q.actualBoundingBoxLeft),ee=Math.ceil(Q.actualBoundingBoxAscent+Q.actualBoundingBoxDescent),se=2,ie=Q.actualBoundingBoxLeft+se,K=Q.actualBoundingBoxAscent+se;re+=se+se,ee+=se+se,B=new OffscreenCanvas(re,ee),U=B.getContext("2d"),U.font=J,U.fillStyle=R,U.fillText(p,ie,K);var ce=1/F;return{type:"bitmap",bitmap:B.transferToImageBitmap(),matrix:[ce,0,0,ce,-re*ce/2,-ee*ce/2]}}t.exports=function(){return D().apply(this,arguments)},t.exports.reset=function(){D().reset()},t.exports.create=H,t.exports.shapeFromPath=de,t.exports.shapeFromText=ae})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),We,!1);const Qe=We.exports;We.exports.create;function _t(r,e,t){const l=r.slice();return l[19]=e[t].profile,l[20]=e[t].status,l}function rr(r){let e;return{c(){e=E("🔍 Search")},m(t,l){S(t,e,l)},d(t){t&&L(e)}}}function sr(r){let e,t;return{c(){e=m("span"),t=E(`
            Searching...`),c(e,"class","loading-spinner svelte-pxijdq")},m(l,s){S(l,e,s),S(l,t,s)},d(l){l&&(L(e),L(t))}}}function vt(r){let e,t,l;return{c(){e=m("div"),t=m("p"),l=E(r[3]),c(t,"class","text-red-700"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4 mb-6")},m(s,n){S(s,e,n),o(e,t),o(t,l)},p(s,n){n&8&&V(l,s[3])},d(s){s&&L(e)}}}function nr(r){let e;return{c(){e=m("div"),e.innerHTML='<div><div class="text-4xl mb-4">🔍</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">Ready to Search</h3> <p class="text-slate-600">Enter keywords above to find profiles to add to your list.</p></div>',c(e,"class","text-center py-8")},m(t,l){S(t,e,l)},p:X,i:X,o:X,d(t){t&&L(e)}}}function ir(r){let e;return{c(){e=m("div"),e.innerHTML='<div><div class="text-4xl mb-4">🔍</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">No Results Found</h3> <p class="text-slate-600">Try different keywords or check your spelling.</p></div>',c(e,"class","text-center py-8")},m(t,l){S(t,e,l)},p:X,i:X,o:X,d(t){t&&L(e)}}}function or(r){let e,t,l,s=ue(r[7]),n=[];for(let d=0;d<s.length;d+=1)n[d]=yt(_t(r,s,d));const i=d=>ne(n[d],1,1,()=>{n[d]=null});let f=r[5]&&kt(r);return{c(){e=m("div");for(let d=0;d<n.length;d+=1)n[d].c();t=T(),f&&f.c(),c(e,"class","space-y-4")},m(d,a){S(d,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);o(e,t),f&&f.m(e,null),l=!0},p(d,a){if(a&3280){s=ue(d[7]);let u;for(u=0;u<s.length;u+=1){const b=_t(d,s,u);n[u]?(n[u].p(b,a),te(n[u],1)):(n[u]=yt(b),n[u].c(),te(n[u],1),n[u].m(e,t))}for($e(),u=s.length;u<n.length;u+=1)i(u);Re()}d[5]?f?f.p(d,a):(f=kt(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(d){if(!l){for(let a=0;a<s.length;a+=1)te(n[a]);l=!0}},o(d){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)ne(n[a]);l=!1},d(d){d&&L(e),De(n,d),f&&f.d()}}}function yt(r){let e,t;return e=new lr({props:{profile:r[19],isSelected:r[4].has(r[19].did),onSelect:r[10],statusTag:r[20],clickable:!0,onAddToList:r[11],isAddingToList:r[6].has(r[19].did)}}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},p(l,s){const n={};s&128&&(n.profile=l[19]),s&144&&(n.isSelected=l[4].has(l[19].did)),s&128&&(n.statusTag=l[20]),s&192&&(n.isAddingToList=l[6].has(l[19].did)),e.$set(n)},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function kt(r){let e,t,l,s;function n(d,a){return d[2]?cr:ar}let i=n(r),f=i(r);return{c(){e=m("div"),t=m("button"),f.c(),t.disabled=r[2],c(t,"class","bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-300 px-6 py-2.5 rounded-lg text-base font-medium cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","text-center pt-4 border-t border-gray-200")},m(d,a){S(d,e,a),o(e,t),f.m(t,null),l||(s=le(t,"click",r[9]),l=!0)},p(d,a){i!==(i=n(d))&&(f.d(1),f=i(d),f&&(f.c(),f.m(t,null))),a&4&&(t.disabled=d[2])},d(d){d&&L(e),f.d(),l=!1,s()}}}function ar(r){let e;return{c(){e=E("Load More Results")},m(t,l){S(t,e,l)},d(t){t&&L(e)}}}function cr(r){let e,t;return{c(){e=m("span"),t=E(`
                Loading...`),c(e,"class","loading-spinner mr-2 svelte-pxijdq")},m(l,s){S(l,e,s),S(l,t,s)},d(l){l&&(L(e),L(t))}}}function dr(r){let e,t,l,s,n,i,f,d,a,u,b,v,g,y,_,w,N,$;function Y(k,O){return k[2]?sr:rr}let P=Y(r),A=P(r),C=r[3]&&vt(r);const I=[or,ir,nr],M=[];function x(k,O){return k[0].length>0?0:k[1]&&!k[2]?1:k[1]?-1:2}return~(y=x(r))&&(_=M[y]=I[y](r)),{c(){e=m("div"),t=m("div"),t.innerHTML='<h3 class="text-lg font-semibold text-slate-800 mb-2">Search Profiles</h3> <p class="text-sm text-slate-600">Search for profiles by keywords in their bio, display name, or handle</p>',l=T(),s=m("div"),n=m("form"),i=m("div"),f=m("label"),f.textContent="Search for:",d=T(),a=m("input"),u=T(),b=m("button"),A.c(),v=T(),C&&C.c(),g=T(),_&&_.c(),c(t,"class","p-6 border-b border-gray-200"),c(f,"for","search-input"),c(f,"class","text-sm font-medium text-slate-700 whitespace-nowrap"),c(a,"id","search-input"),c(a,"type","text"),c(a,"placeholder","e.g., belge, artist, developer..."),c(a,"class","flex-1 min-w-48 px-4 py-2.5 border border-gray-300 rounded-lg text-base outline-none shadow-sm text-slate-800 placeholder-gray-400 focus:border-slate-500 focus:ring-1 focus:ring-slate-500"),a.required=!0,c(b,"type","submit"),b.disabled=r[2],c(b,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-6 py-2.5 rounded-lg text-base font-medium cursor-pointer transition-colors duration-200 whitespace-nowrap flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(i,"class","flex gap-4 items-center flex-wrap"),c(n,"class","mb-6"),c(s,"id","profile-search-container"),c(s,"class","p-6"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200")},m(k,O){S(k,e,O),o(e,t),o(e,l),o(e,s),o(s,n),o(n,i),o(i,f),o(i,d),o(i,a),pe(a,r[1]),o(i,u),o(i,b),A.m(b,null),o(s,v),C&&C.m(s,null),o(s,g),~y&&M[y].m(s,null),w=!0,N||($=[le(a,"input",r[13]),le(n,"submit",Ht(r[8]))],N=!0)},p(k,[O]){O&2&&a.value!==k[1]&&pe(a,k[1]),P!==(P=Y(k))&&(A.d(1),A=P(k),A&&(A.c(),A.m(b,null))),(!w||O&4)&&(b.disabled=k[2]),k[3]?C?C.p(k,O):(C=vt(k),C.c(),C.m(s,g)):C&&(C.d(1),C=null);let z=y;y=x(k),y===z?~y&&M[y].p(k,O):(_&&($e(),ne(M[z],1,1,()=>{M[z]=null}),Re()),~y?(_=M[y],_?_.p(k,O):(_=M[y]=I[y](k),_.c()),te(_,1),_.m(s,null)):_=null)},i(k){w||(te(_),w=!0)},o(k){ne(_),w=!1},d(k){k&&L(e),A.d(),C&&C.d(),~y&&M[y].d(),N=!1,Se($)}}}function ur(r,e,t){let l,s,n;ve(r,Ie,P=>t(15,s=P)),ve(r,oe,P=>t(12,n=P));let i="",f=[],d=!1,a="",u=new Set,b=null,v=!1,g=new Set;async function y(){if(!(!i.trim()||!s.session)){t(2,d=!0),t(3,a=""),t(0,f=[]),u.clear(),b=null,t(5,v=!1);try{const P=await Me.searchProfiles(s.session,i,25);t(0,f=P.actors||[]),b=P.cursor,t(5,v=!!P.cursor)}catch(P){t(3,a=P.message||"Failed to search profiles")}finally{t(2,d=!1)}}}async function _(){if(!(!v||d||!s.session)){t(2,d=!0),t(3,a="");try{const P=await Me.searchProfiles(s.session,i,25,b);t(0,f=[...f,...P.actors||[]]),b=P.cursor,t(5,v=!!P.cursor)}catch(P){t(3,a=P.message||"Failed to load more profiles")}finally{t(2,d=!1)}}}function w(P){u.has(P.did)?u.delete(P.did):u.add(P.did),t(4,u)}async function N(P){if(!(!s.session||!n.selectedList||g.has(P.did))){g.add(P.did),t(6,g);try{await Me.addToList(s.session,P.did,n.selectedList.uri),await oe.fetchAndAddProfile(s.session,P.did),$()}catch(A){console.error("Failed to add profile to list:",A)}finally{g.delete(P.did),t(6,g)}}}function $(){Qe({particleCount:50,spread:80,origin:{y:.6},colors:["#3b82f6","#1d4ed8","#1e40af","#60a5fa","#93c5fd"],scalar:1.5,ticks:300,gravity:.6,drift:.3,startVelocity:35,decay:.92,shapes:["circle","square"],zIndex:9999}),setTimeout(()=>{Qe({particleCount:30,spread:60,origin:{y:.7,x:.3},colors:["#3b82f6","#1d4ed8","#60a5fa"],scalar:1.2,ticks:200,gravity:.7,drift:-.2,startVelocity:25,decay:.94})},150),setTimeout(()=>{Qe({particleCount:30,spread:60,origin:{y:.7,x:.7},colors:["#1e40af","#3b82f6","#93c5fd"],scalar:1.2,ticks:200,gravity:.7,drift:.2,startVelocity:25,decay:.94})},300)}function Y(){i=this.value,t(1,i)}return r.$$.update=()=>{r.$$.dirty&4097&&t(7,l=f.map(P=>({profile:P,status:n.listMembers.includes(P.did)?"Already in list":"New candidate"})))},[f,i,d,a,u,v,g,l,y,_,w,N,n,Y]}class fr extends we{constructor(e){super(),ke(this,e,ur,dr,ge,{})}}function wt(r){let e,t=r[0].selectedList.description+"",l;return{c(){e=m("p"),l=E(t),c(e,"class","text-slate-600 mt-1")},m(s,n){S(s,e,n),o(e,l)},p(s,n){n&1&&t!==(t=s[0].selectedList.description+"")&&V(l,t)},d(s){s&&L(e)}}}function mr(r){let e;return{c(){e=E("Unknown")},m(t,l){S(t,e,l)},p:X,d(t){t&&L(e)}}}function pr(r){let e=new Date(r[0].selectedList.createdAt).toLocaleDateString()+"",t;return{c(){t=E(e)},m(l,s){S(l,t,s)},p(l,s){s&1&&e!==(e=new Date(l[0].selectedList.createdAt).toLocaleDateString()+"")&&V(t,e)},d(l){l&&L(t)}}}function br(r){var R,q,W,J;let e,t,l,s,n=(((R=r[0].selectedList)==null?void 0:R.name)||"List")+"",i,f,d,a,u,b=r[0].listMembers.length+"",v,g,y,_,w,N,$,Y,P,A=((q=r[0].selectedList)==null?void 0:q.purpose)==="app.bsky.graph.defs#modlist"?"Moderation List":"Curated List",C,I,M,x,k,O,z,j,H,Z,D,G=(((W=r[0].selectedList)==null?void 0:W.uri)||"Not available")+"",de,ae=((J=r[0].selectedList)==null?void 0:J.description)&&wt(r);function h(B,U){var Q;return(Q=B[0].selectedList)!=null&&Q.createdAt?pr:mr}let p=h(r),F=p(r);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("h2"),i=E(n),f=T(),ae&&ae.c(),d=T(),a=m("div"),u=m("div"),v=E(b),g=T(),y=m("div"),y.textContent="Total Members",_=T(),w=m("div"),N=m("div"),$=m("div"),$.textContent="📊 List Type",Y=T(),P=m("div"),C=E(A),I=T(),M=m("div"),x=m("div"),x.textContent="📅 Created",k=T(),O=m("div"),F.c(),z=T(),j=m("div"),H=m("div"),H.textContent="🔗 List URI",Z=T(),D=m("div"),de=E(G),c(s,"class","text-xl font-bold text-slate-800"),c(u,"class","text-2xl font-bold text-blue-600"),c(y,"class","text-sm text-slate-500"),c(a,"class","text-right"),c(t,"class","flex items-center justify-between mb-4"),c($,"class","text-blue-600 font-semibold"),c(P,"class","text-sm text-slate-600 mt-1"),c(N,"class","bg-blue-50 p-4 rounded-lg"),c(x,"class","text-green-600 font-semibold"),c(O,"class","text-sm text-slate-600 mt-1"),c(M,"class","bg-green-50 p-4 rounded-lg"),c(H,"class","text-purple-600 font-semibold"),c(D,"class","text-xs text-slate-600 mt-1 break-all"),c(j,"class","bg-purple-50 p-4 rounded-lg"),c(w,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6")},m(B,U){S(B,e,U),o(e,t),o(t,l),o(l,s),o(s,i),o(l,f),ae&&ae.m(l,null),o(t,d),o(t,a),o(a,u),o(u,v),o(a,g),o(a,y),o(e,_),o(e,w),o(w,N),o(N,$),o(N,Y),o(N,P),o(P,C),o(w,I),o(w,M),o(M,x),o(M,k),o(M,O),F.m(O,null),o(w,z),o(w,j),o(j,H),o(j,Z),o(j,D),o(D,de)},p(B,[U]){var Q,re,ee,se;U&1&&n!==(n=(((Q=B[0].selectedList)==null?void 0:Q.name)||"List")+"")&&V(i,n),(re=B[0].selectedList)!=null&&re.description?ae?ae.p(B,U):(ae=wt(B),ae.c(),ae.m(l,null)):ae&&(ae.d(1),ae=null),U&1&&b!==(b=B[0].listMembers.length+"")&&V(v,b),U&1&&A!==(A=((ee=B[0].selectedList)==null?void 0:ee.purpose)==="app.bsky.graph.defs#modlist"?"Moderation List":"Curated List")&&V(C,A),p===(p=h(B))&&F?F.p(B,U):(F.d(1),F=p(B),F&&(F.c(),F.m(O,null))),U&1&&G!==(G=(((se=B[0].selectedList)==null?void 0:se.uri)||"Not available")+"")&&V(de,G)},i:X,o:X,d(B){B&&L(e),ae&&ae.d(),F.d()}}}function hr(r,e,t){let l;return ve(r,oe,s=>t(0,l=s)),[l]}class gr extends we{constructor(e){super(),ke(this,e,hr,br,ge,{})}}function Lt(r,e,t){const l=r.slice();return l[21]=e[t],l}function Mt(r,e,t){const l=r.slice();return l[27]=e[t],l}function St(r,e,t){const l=r.slice();return l[24]=e[t],l}function xt(r,e,t){const l=r.slice();return l[30]=e[t],l}function Ct(r){let e,t,l,s,n,i,f=r[3].size+"",d,a,u,b;function v(_,w){return _[4]?vr:_r}let g=v(r),y=g(r);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("button"),y.c(),n=T(),i=m("div"),d=E(f),a=E(" profiles selected"),s.disabled=r[4],c(s,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-4 py-2.5 rounded-lg cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium text-sm"),c(l,"class","flex items-center gap-3"),c(i,"class","text-sm text-slate-600"),c(t,"class","flex items-center justify-between"),c(e,"class","sticky top-20 z-40 bg-white border border-gray-200 rounded-lg p-4 shadow-sm")},m(_,w){S(_,e,w),o(e,t),o(t,l),o(l,s),y.m(s,null),o(t,n),o(t,i),o(i,d),o(i,a),u||(b=le(s,"click",r[10]),u=!0)},p(_,w){g===(g=v(_))&&y?y.p(_,w):(y.d(1),y=g(_),y&&(y.c(),y.m(s,null))),w[0]&16&&(s.disabled=_[4]),w[0]&8&&f!==(f=_[3].size+"")&&V(d,f)},d(_){_&&L(e),y.d(),u=!1,b()}}}function _r(r){let e,t=r[3].size+"",l,s;return{c(){e=E("Add "),l=E(t),s=E(" to List")},m(n,i){S(n,e,i),S(n,l,i),S(n,s,i)},p(n,i){i[0]&8&&t!==(t=n[3].size+"")&&V(l,t)},d(n){n&&(L(e),L(l),L(s))}}}function vr(r){let e,t;return{c(){e=m("span"),t=E(`
							Adding...`),c(e,"class","loading-spinner mr-2 svelte-srpbru")},m(l,s){S(l,e,s),S(l,t,s)},p:X,d(l){l&&(L(e),L(t))}}}function Tt(r){let e,t,l,s=r[5].success.length+"",n,i;return{c(){e=m("div"),t=m("p"),l=E("✅ Successfully added "),n=E(s),i=E(" profiles to your list!"),c(t,"class","text-green-700 font-medium"),c(e,"class","bg-green-50 border border-green-200 rounded-lg p-4")},m(f,d){S(f,e,d),o(e,t),o(t,l),o(t,n),o(t,i)},p(f,d){d[0]&32&&s!==(s=f[5].success.length+"")&&V(n,s)},d(f){f&&L(e)}}}function Pt(r){let e,t,l,s=r[5].errors.length+"",n,i,f,d,a=ue(r[5].errors),u=[];for(let b=0;b<a.length;b+=1)u[b]=It(xt(r,a,b));return{c(){e=m("div"),t=m("p"),l=E("❌ Failed to add "),n=E(s),i=E(" profiles:"),f=T(),d=m("ul");for(let b=0;b<u.length;b+=1)u[b].c();c(t,"class","text-red-700 font-medium mb-2"),c(d,"class","text-red-600 text-sm space-y-1"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4")},m(b,v){S(b,e,v),o(e,t),o(t,l),o(t,n),o(t,i),o(e,f),o(e,d);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(d,null)},p(b,v){if(v[0]&32&&s!==(s=b[5].errors.length+"")&&V(n,s),v[0]&32){a=ue(b[5].errors);let g;for(g=0;g<a.length;g+=1){const y=xt(b,a,g);u[g]?u[g].p(y,v):(u[g]=It(y),u[g].c(),u[g].m(d,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=a.length}},d(b){b&&L(e),De(u,b)}}}function It(r){let e,t,l=r[30].error+"",s;return{c(){e=m("li"),t=E("• "),s=E(l)},m(n,i){S(n,e,i),o(e,t),o(e,s)},p(n,i){i[0]&32&&l!==(l=n[30].error+"")&&V(s,l)},d(n){n&&L(e)}}}function yr(r){let e,t,l;function s(d,a){return d[7]?xr:d[0].listMemberProfiles.length>0?Sr:Mr}let n=s(r),i=n(r),f=r[0].listMembers.length>ze&&Bt(r);return{c(){e=m("div"),t=m("div"),i.c(),l=T(),f&&f.c(),c(t,"class","space-y-4 flex-1 overflow-y-auto"),c(e,"class","flex flex-col flex-1")},m(d,a){S(d,e,a),o(e,t),i.m(t,null),o(e,l),f&&f.m(e,null)},p(d,a){n===(n=s(d))&&i?i.p(d,a):(i.d(1),i=n(d),i&&(i.c(),i.m(t,null))),d[0].listMembers.length>ze?f?f.p(d,a):(f=Bt(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(d){d&&L(e),i.d(),f&&f.d()}}}function kr(r){let e;return{c(){e=m("div"),e.innerHTML='<div><div class="text-4xl mb-4">📝</div> <h3 class="text-lg font-semibold text-slate-800 mb-2">No Members Yet</h3> <p class="text-slate-600">Your list is empty. Use the search to find and add profiles!</p></div>',c(e,"class","text-center py-12 flex-1 flex items-center justify-center")},m(t,l){S(t,e,l)},p:X,d(t){t&&L(e)}}}function wr(r){let e,t,l,s,n,i,f,d;return{c(){e=m("div"),t=m("div"),l=m("p"),s=E(r[2]),n=T(),i=m("button"),i.textContent="Try again",c(l,"class","text-red-700 mb-4"),c(i,"class","text-red-600 hover:text-red-800 underline"),c(t,"class","text-center"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4 flex-1 flex items-center justify-center")},m(a,u){S(a,e,u),o(e,t),o(t,l),o(l,s),o(t,n),o(t,i),f||(d=le(i,"click",r[8]),f=!0)},p(a,u){u[0]&4&&V(s,a[2])},d(a){a&&L(e),f=!1,d()}}}function Lr(r){let e;return{c(){e=m("div"),e.innerHTML='<div><div class="loading-spinner mx-auto mb-4 svelte-srpbru"></div> <p class="text-slate-600">Loading list members...</p></div>',c(e,"class","text-center py-12 flex-1 flex items-center justify-center")},m(t,l){S(t,e,l)},p:X,d(t){t&&L(e)}}}function Mr(r){let e,t,l=r[2]&&Et(r),s=ue(r[0].listMembers.slice(0,100)),n=[];for(let i=0;i<s.length;i+=1)n[i]=Nt(Mt(r,s,i));return{c(){l&&l.c(),e=T();for(let i=0;i<n.length;i+=1)n[i].c();t=Ee()},m(i,f){l&&l.m(i,f),S(i,e,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(i,f);S(i,t,f)},p(i,f){if(i[2]?l?l.p(i,f):(l=Et(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f[0]&1){s=ue(i[0].listMembers.slice(0,100));let d;for(d=0;d<s.length;d+=1){const a=Mt(i,s,d);n[d]?n[d].p(a,f):(n[d]=Nt(a),n[d].c(),n[d].m(t.parentNode,t))}for(;d<n.length;d+=1)n[d].d(1);n.length=s.length}},d(i){i&&(L(e),L(t)),l&&l.d(i),De(n,i)}}}function Sr(r){let e,t=ue(r[0].listMemberProfiles),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ot(St(r,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Ee()},m(s,n){for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(s,n);S(s,e,n)},p(s,n){if(n[0]&1){t=ue(s[0].listMemberProfiles);let i;for(i=0;i<t.length;i+=1){const f=St(s,t,i);l[i]?l[i].p(f,n):(l[i]=Ot(f),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(s){s&&L(e),De(l,s)}}}function xr(r){let e,t,l,s,n,i,f;return{c(){e=m("div"),t=m("div"),l=T(),s=m("p"),n=E("Loading page "),i=E(r[6]),f=E("..."),c(t,"class","loading-spinner mx-auto mb-4 svelte-srpbru"),c(s,"class","text-slate-600"),c(e,"class","text-center py-8")},m(d,a){S(d,e,a),o(e,t),o(e,l),o(e,s),o(s,n),o(s,i),o(s,f)},p(d,a){a[0]&64&&V(i,d[6])},d(d){d&&L(e)}}}function Et(r){let e,t,l,s,n,i,f,d,a,u,b;return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("p"),s.textContent="⚠️ Profile loading issue",n=T(),i=m("p"),f=E(r[2]),d=T(),a=m("button"),a.textContent="Retry",c(s,"class","text-yellow-800 font-medium"),c(i,"class","text-yellow-700 text-sm mt-1"),c(a,"class","bg-yellow-100 hover:bg-yellow-200 text-yellow-800 px-3 py-1 rounded text-sm font-medium transition-colors"),c(t,"class","flex items-center justify-between"),c(e,"class","bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4")},m(v,g){S(v,e,g),o(e,t),o(t,l),o(l,s),o(l,n),o(l,i),o(i,f),o(t,d),o(t,a),u||(b=le(a,"click",r[15]),u=!0)},p(v,g){g[0]&4&&V(f,v[2])},d(v){v&&L(e),u=!1,b()}}}function Nt(r){let e,t,l,s,n,i,f=r[27]+"",d,a,u,b;return{c(){e=m("div"),t=m("div"),l=m("div"),l.innerHTML='<span class="text-gray-600 font-medium">?</span>',s=T(),n=m("div"),i=m("div"),d=E(f),a=T(),u=m("div"),u.textContent="Member of list",b=T(),c(l,"class","w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center"),c(i,"class","text-sm text-gray-600 font-mono text-xs break-all"),c(u,"class","text-xs text-gray-500"),c(n,"class","flex-1"),c(t,"class","flex items-center space-x-3"),c(e,"class","bg-gray-50 border border-gray-200 rounded-lg p-4")},m(v,g){S(v,e,g),o(e,t),o(t,l),o(t,s),o(t,n),o(n,i),o(i,d),o(n,a),o(n,u),o(e,b)},p(v,g){g[0]&1&&f!==(f=v[27]+"")&&V(d,f)},d(v){v&&L(e)}}}function At(r){let e,t=r[24].description+"",l;return{c(){e=m("p"),l=E(t),c(e,"class","text-xs text-gray-600 line-clamp-2 svelte-srpbru")},m(s,n){S(s,e,n),o(e,l)},p(s,n){n[0]&1&&t!==(t=s[24].description+"")&&V(l,t)},d(s){s&&L(e)}}}function Ot(r){let e,t,l,s,n,i,f,d,a,u,b,v=(r[24].displayName||r[24].handle)+"",g,y,_,w,N=r[24].handle+"",$,Y,P,A,C,I,M=r[24].description&&At(r);return{c(){e=m("a"),t=m("div"),l=m("div"),s=m("img"),d=T(),a=m("div"),u=m("div"),b=m("h4"),g=E(v),y=T(),_=m("span"),w=E("@"),$=E(N),Y=T(),M&&M.c(),P=T(),A=m("div"),A.innerHTML='<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>',C=T(),je(s.src,n=r[24].avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(r[24].displayName||r[24].handle)}&background=6366f1&color=fff&size=64`)||c(s,"src",n),c(s,"alt",i=r[24].displayName||r[24].handle),c(s,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(s,"onerror",f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(r[24].displayName||r[24].handle)+"&background=6366f1&color=fff&size=64'"),c(l,"class","flex-shrink-0"),c(b,"class","text-sm font-semibold text-gray-900 truncate"),c(_,"class","text-xs text-gray-600 truncate"),c(u,"class","flex items-center space-x-2 mb-1"),c(a,"class","flex-1 min-w-0"),c(A,"class","flex-shrink-0"),c(t,"class","flex items-center space-x-3"),c(e,"href",I="https://bsky.app/profile/"+r[24].handle),c(e,"target","_blank"),c(e,"rel","noopener noreferrer"),c(e,"class","block bg-gray-50 border border-gray-200 rounded-lg p-4 hover:bg-gray-100 hover:border-gray-300 transition-colors duration-200 cursor-pointer")},m(x,k){S(x,e,k),o(e,t),o(t,l),o(l,s),o(t,d),o(t,a),o(a,u),o(u,b),o(b,g),o(u,y),o(u,_),o(_,w),o(_,$),o(a,Y),M&&M.m(a,null),o(t,P),o(t,A),o(e,C)},p(x,k){k[0]&1&&!je(s.src,n=x[24].avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(x[24].displayName||x[24].handle)}&background=6366f1&color=fff&size=64`)&&c(s,"src",n),k[0]&1&&i!==(i=x[24].displayName||x[24].handle)&&c(s,"alt",i),k[0]&1&&f!==(f="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(x[24].displayName||x[24].handle)+"&background=6366f1&color=fff&size=64'")&&c(s,"onerror",f),k[0]&1&&v!==(v=(x[24].displayName||x[24].handle)+"")&&V(g,v),k[0]&1&&N!==(N=x[24].handle+"")&&V($,N),x[24].description?M?M.p(x,k):(M=At(x),M.c(),M.m(a,null)):M&&(M.d(1),M=null),k[0]&1&&I!==(I="https://bsky.app/profile/"+x[24].handle)&&c(e,"href",I)},d(x){x&&L(e),M&&M.d()}}}function Bt(r){let e,t,l,s,n,i,f=r[11]()+"",d,a,u,b,v,g,y,_,w,N,$,Y=r[7]&&r[6]<r[11](),P,A,C,I=r[7]&&r[6]>1&&Ft(),M=ue(Array.from({length:Math.min(5,r[11]())},r[16])),x=[];for(let O=0;O<M.length;O+=1)x[O]=jt(Lt(r,M,O));let k=Y&&$t();return{c(){e=m("div"),t=m("div"),l=m("div"),s=E("Page "),n=E(r[6]),i=E(" of "),d=E(f),a=T(),u=m("div"),b=m("button"),I&&I.c(),v=E(`
											Previous`),y=T(),_=m("div");for(let O=0;O<x.length;O+=1)x[O].c();w=T(),N=m("button"),$=E(`Next
											`),k&&k.c(),c(l,"class","text-sm text-gray-600"),b.disabled=g=r[6]===1||r[7],c(b,"class","px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"),c(_,"class","flex items-center space-x-1"),N.disabled=P=r[6]===r[11]()||r[7],c(N,"class","px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"),c(u,"class","flex items-center space-x-2"),c(t,"class","flex items-center justify-between"),c(e,"class","mt-6 pt-4 border-t border-gray-200")},m(O,z){S(O,e,z),o(e,t),o(t,l),o(l,s),o(l,n),o(l,i),o(l,d),o(t,a),o(t,u),o(u,b),I&&I.m(b,null),o(b,v),o(u,y),o(u,_);for(let j=0;j<x.length;j+=1)x[j]&&x[j].m(_,null);o(u,w),o(u,N),o(N,$),k&&k.m(N,null),A||(C=[le(b,"click",r[14]),le(N,"click",r[13])],A=!0)},p(O,z){if(z[0]&64&&V(n,O[6]),O[7]&&O[6]>1?I||(I=Ft(),I.c(),I.m(b,v)):I&&(I.d(1),I=null),z[0]&192&&g!==(g=O[6]===1||O[7])&&(b.disabled=g),z[0]&6336){M=ue(Array.from({length:Math.min(5,O[11]())},O[16]));let j;for(j=0;j<M.length;j+=1){const H=Lt(O,M,j);x[j]?x[j].p(H,z):(x[j]=jt(H),x[j].c(),x[j].m(_,null))}for(;j<x.length;j+=1)x[j].d(1);x.length=M.length}z[0]&192&&(Y=O[7]&&O[6]<O[11]()),Y?k||(k=$t(),k.c(),k.m(N,null)):k&&(k.d(1),k=null),z[0]&192&&P!==(P=O[6]===O[11]()||O[7])&&(N.disabled=P)},d(O){O&&L(e),I&&I.d(),De(x,O),k&&k.d(),A=!1,Se(C)}}}function Ft(r){let e;return{c(){e=m("span"),c(e,"class","loading-spinner mr-1 svelte-srpbru")},m(t,l){S(t,e,l)},d(t){t&&L(e)}}}function jt(r){let e,t=r[21]+"",l,s,n,i,f;function d(){return r[17](r[21])}return{c(){e=m("button"),l=E(t),s=T(),e.disabled=r[7],c(e,"class",n="px-3 py-1 text-sm border rounded transition-colors duration-200 "+(r[6]===r[21]?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50")+" disabled:opacity-50 disabled:cursor-not-allowed")},m(a,u){S(a,e,u),o(e,l),o(e,s),i||(f=le(e,"click",d),i=!0)},p(a,u){r=a,u[0]&64&&t!==(t=r[21]+"")&&V(l,t),u[0]&128&&(e.disabled=r[7]),u[0]&64&&n!==(n="px-3 py-1 text-sm border rounded transition-colors duration-200 "+(r[6]===r[21]?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50")+" disabled:opacity-50 disabled:cursor-not-allowed")&&c(e,"class",n)},d(a){a&&L(e),i=!1,f()}}}function $t(r){let e;return{c(){e=m("span"),c(e,"class","loading-spinner ml-1 svelte-srpbru")},m(t,l){S(t,e,l)},d(t){t&&L(e)}}}function Cr(r){let e,t,l,s,n,i,f,d,a,u,b,v,g,y=(r[7]?"...":r[0].listMemberProfiles.length)+"",_,w,N=r[0].listMembers.length+"",$,Y,P,A,C,I,M,x;t=new gr({});let k=r[3].size>0&&Ct(r),O=r[5].success.length>0&&Tt(r),z=r[5].errors.length>0&&Pt(r);function j(D,G){return D[1]?Lr:D[2]?wr:D[0].listMembers.length===0?kr:yr}let H=j(r),Z=H(r);return M=new fr({}),{c(){e=m("div"),ye(t.$$.fragment),l=T(),k&&k.c(),s=T(),O&&O.c(),n=T(),z&&z.c(),i=T(),f=m("div"),d=m("div"),a=m("div"),u=m("h3"),u.textContent="Latest List Members",b=T(),v=m("p"),g=E("Showing "),_=E(y),w=E(" of "),$=E(N),Y=E(" total members"),P=T(),A=m("div"),Z.c(),C=T(),I=m("div"),ye(M.$$.fragment),c(u,"class","text-lg font-semibold text-slate-800 mb-2"),c(v,"class","text-sm text-slate-600"),c(a,"class","p-6 border-b border-gray-200"),c(A,"class","p-6 flex flex-col flex-1"),c(d,"id","list-members-container"),c(d,"class","bg-white rounded-lg shadow-sm border border-gray-200 flex flex-col"),c(f,"class","grid grid-cols-1 lg:grid-cols-2 gap-6"),c(e,"class","space-y-6")},m(D,G){S(D,e,G),be(t,e,null),o(e,l),k&&k.m(e,null),o(e,s),O&&O.m(e,null),o(e,n),z&&z.m(e,null),o(e,i),o(e,f),o(f,d),o(d,a),o(a,u),o(a,b),o(a,v),o(v,g),o(v,_),o(v,w),o(v,$),o(v,Y),o(d,P),o(d,A),Z.m(A,null),o(f,C),o(f,I),be(M,I,null),x=!0},p(D,G){D[3].size>0?k?k.p(D,G):(k=Ct(D),k.c(),k.m(e,s)):k&&(k.d(1),k=null),D[5].success.length>0?O?O.p(D,G):(O=Tt(D),O.c(),O.m(e,n)):O&&(O.d(1),O=null),D[5].errors.length>0?z?z.p(D,G):(z=Pt(D),z.c(),z.m(e,i)):z&&(z.d(1),z=null),(!x||G[0]&129)&&y!==(y=(D[7]?"...":D[0].listMemberProfiles.length)+"")&&V(_,y),(!x||G[0]&1)&&N!==(N=D[0].listMembers.length+"")&&V($,N),H===(H=j(D))&&Z?Z.p(D,G):(Z.d(1),Z=H(D),Z&&(Z.c(),Z.m(A,null)))},i(D){x||(te(t.$$.fragment,D),te(M.$$.fragment,D),x=!0)},o(D){ne(t.$$.fragment,D),ne(M.$$.fragment,D),x=!1},d(D){D&&L(e),he(t),k&&k.d(),O&&O.d(),z&&z.d(),Z.d(),he(M)}}}const ze=25;function Tr(r,e,t){let l,s;ve(r,oe,C=>t(0,l=C)),ve(r,Ie,C=>t(18,s=C));let n=!0,i="",f=new Set,d=!1,a={success:[],errors:[]},u=1,b=!1;tt(async()=>{await v()});async function v(){if(!(!l.selectedList||!s.session)){t(1,n=!0),t(2,i="");try{const C=await Me.getListMembers(s.session,l.selectedList.uri);console.log("Raw member DIDs:",C),oe.setListMembers(C),await g(1),oe.setListLoading(!1)}catch(C){console.error("Error loading list members:",C),t(2,i=C.message||"Failed to load list members"),oe.setListLoading(!1)}finally{t(1,n=!1)}}}async function g(C){if(!(!s.session||!l.selectedList||!l.listMembers.length)){t(7,b=!0),t(6,u=C);try{const I=(C-1)*ze,M=I+ze,x=l.listMembers.slice(I,M);console.log(`Loading page ${C}: DIDs ${I+1}-${Math.min(M,l.listMembers.length)}`),console.log("Page DIDs:",x);const k=await Me.getProfiles(s.session,x);console.log(`Fetched ${k.length} profiles for page ${C}`),console.log("Profiles received:",k),k.length===0?(console.warn("No profiles returned from API for page",C),t(2,i="No profile data received from API")):t(2,i=""),oe.setListMemberProfiles(k)}catch(I){console.error("Error loading members page:",I),t(2,i=I.message||"Failed to load page"),oe.setListMemberProfiles([])}finally{t(7,b=!1)}}}async function y(){if(f.size===0)return;t(4,d=!0),t(5,a={success:[],errors:[]});const C=Array.from(f);for(const I of C)try{await Me.addToList(s.session,I,l.selectedList.uri),a.success.push(I),await oe.fetchAndAddProfile(s.session,I)}catch(M){a.errors.push({did:I,error:M.message})}f.clear(),t(3,f),t(4,d=!1)}function _(){return Math.ceil(l.listMembers.length/ze)}async function w(C){C>=1&&C<=_()&&await g(C)}async function N(){u<_()&&await g(u+1)}async function $(){u>1&&await g(u-1)}const Y=()=>g(u),P=(C,I)=>{let M;return _()<=5||u<=3?M=I+1:u>=_()-2?M=_()-4+I:M=u-2+I,M},A=C=>w(C);return r.$$.update=()=>{r.$$.dirty[0]&1&&l.refreshTrigger&&v()},[l,n,i,f,d,a,u,b,v,g,y,_,w,N,$,Y,P,A]}class Pr extends we{constructor(e){super(),ke(this,e,Tr,Cr,ge,{},null,[-1,-1])}}function Rt(r){let e,t,l,s,n,i,f,d;return{c(){e=m("div"),t=m("div"),l=m("div"),s=T(),n=m("h3"),n.textContent="Getting Ready",i=T(),f=m("p"),d=E(r[1]),c(l,"class","loading-spinner mx-auto mb-4 svelte-3t5r6s"),c(n,"class","text-lg font-semibold text-slate-800 mb-2"),c(f,"class","text-slate-600"),c(t,"class","bg-white rounded-lg p-8 shadow-xl max-w-md mx-4 text-center"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]")},m(a,u){S(a,e,u),o(e,t),o(t,l),o(t,s),o(t,n),o(t,i),o(t,f),o(f,d)},p(a,u){u&2&&V(d,a[1])},d(a){a&&L(e)}}}function Ir(r){let e,t=r[0]&&Rt(r);return{c(){t&&t.c(),e=Ee()},m(l,s){t&&t.m(l,s),S(l,e,s)},p(l,[s]){l[0]?t?t.p(l,s):(t=Rt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:X,o:X,d(l){l&&L(e),t&&t.d(l)}}}function Er(r,e,t){let{isLoading:l=!1}=e,{message:s="Loading list data..."}=e;return r.$$set=n=>{"isLoading"in n&&t(0,l=n.isLoading),"message"in n&&t(1,s=n.message)},[l,s]}class Nr extends we{constructor(e){super(),ke(this,e,Er,Ir,ge,{isLoading:0,message:1})}}function Dt(r){let e,t;return e=new Al({}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Ar(r){let e,t;return e=new Pr({}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Or(r){let e,t;return e=new Ul({}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Br(r){let e,t;return e=new Fl({}),{c(){ye(e.$$.fragment)},m(l,s){be(e,l,s),t=!0},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){he(e,l)}}}function Fr(r){let e,t,l,s,n,i,f,d,a,u=r[1]!=="auth"&&Dt(),b=qe.isDevelopment;const v=[Br,Or,Ar],g=[];function y(_,w){return _[1]==="auth"?0:_[1]==="list-selector"?1:_[1]==="manager"?2:-1}return~(n=y(r))&&(i=g[n]=v[n](r)),d=new Nr({props:{isLoading:r[0].isLoadingList,message:"Loading list data and members..."}}),{c(){e=m("main"),u&&u.c(),t=T(),l=m("div"),s=T(),i&&i.c(),f=T(),ye(d.$$.fragment),c(l,"class","max-w-6xl mx-auto p-6"),c(e,"class","min-h-screen bg-gray-50")},m(_,w){S(_,e,w),u&&u.m(e,null),o(e,t),o(e,l),o(l,s),~n&&g[n].m(l,null),o(e,f),be(d,e,null),a=!0},p(_,[w]){_[1]!=="auth"?u?w&2&&te(u,1):(u=Dt(),u.c(),te(u,1),u.m(e,t)):u&&($e(),ne(u,1,1,()=>{u=null}),Re());let N=n;n=y(_),n!==N&&(i&&($e(),ne(g[N],1,1,()=>{g[N]=null}),Re()),~n?(i=g[n],i||(i=g[n]=v[n](_),i.c()),te(i,1),i.m(l,null)):i=null);const $={};w&1&&($.isLoading=_[0].isLoadingList),d.$set($)},i(_){a||(te(u),te(b),te(i),te(d.$$.fragment,_),a=!0)},o(_){ne(u),ne(b),ne(i),ne(d.$$.fragment,_),a=!1},d(_){_&&L(e),u&&u.d(),~n&&g[n].d(),he(d)}}}function jr(r,e,t){let l,s;ve(r,oe,i=>t(0,l=i)),ve(r,Ie,i=>t(2,s=i));let n="auth";return tt(()=>{Ie.getSession()&&t(1,n="list-selector")}),r.$$.update=()=>{r.$$.dirty&5&&(s.session?l.selectedList?t(1,n="manager"):t(1,n="list-selector"):t(1,n="auth"))},[l,n,s]}class $r extends we{constructor(e){super(),ke(this,e,jr,Fr,ge,{})}}new $r({target:document.getElementById("app")})});export default Rr();
