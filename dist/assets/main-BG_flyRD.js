var Qn=Object.defineProperty;var Ar=s=>{throw TypeError(s)};var el=(s,e,t)=>e in s?Qn(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Be=(s,e,t)=>el(s,typeof e!="symbol"?e+"":e,t),Pr=(s,e,t)=>e.has(s)||Ar("Cannot "+t);var re=(s,e,t)=>(Pr(s,e,"read from private field"),t?t.call(s):e.get(s)),Xe=(s,e,t)=>e.has(s)?Ar("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),Qe=(s,e,t,r)=>(Pr(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=t(n);fetch(n.href,l)}})();function ne(){}function En(s){return s()}function Er(){return Object.create(null)}function Me(s){s.forEach(En)}function Tn(s){return typeof s=="function"}function Ae(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}let ps;function st(s,e){return s===e?!0:(ps||(ps=document.createElement("a")),ps.href=e,s===ps.href)}function tl(s){return Object.keys(s).length===0}function sl(s,...e){if(s==null){for(const r of e)r(void 0);return ne}const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Ie(s,e,t){s.$$.on_destroy.push(sl(e,t))}function i(s,e){s.appendChild(e)}function P(s,e,t){s.insertBefore(e,t||null)}function A(s){s.parentNode&&s.parentNode.removeChild(s)}function $e(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function m(s){return document.createElement(s)}function ws(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function C(s){return document.createTextNode(s)}function w(){return C(" ")}function rt(){return C("")}function ie(s,e,t,r){return s.addEventListener(e,t,r),()=>s.removeEventListener(e,t,r)}function Js(s){return function(e){return e.preventDefault(),s.call(this,e)}}function c(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function In(s){let e;return{p(...t){e=t,e.forEach(r=>s.push(r))},r(){e.forEach(t=>s.splice(s.indexOf(t),1))}}}function rl(s){return Array.from(s.childNodes)}function q(s,e){e=""+e,s.data!==e&&(s.data=e)}function be(s,e){s.value=e??""}function fe(s,e,t,r){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,"")}function Tr(s,e,t){for(let r=0;r<s.options.length;r+=1){const n=s.options[r];if(n.__value===e){n.selected=!0;return}}s.selectedIndex=-1}function nl(s,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:r})}let jt;function Jt(s){jt=s}function js(){if(!jt)throw new Error("Function called outside component initialization");return jt}function xs(s){js().$$.on_mount.push(s)}function Rn(s){js().$$.on_destroy.push(s)}function Dn(){const s=js();return(e,t,{cancelable:r=!1}={})=>{const n=s.$$.callbacks[e];if(n){const l=nl(e,t,{cancelable:r});return n.slice().forEach(o=>{o.call(s,l)}),!l.defaultPrevented}return!0}}const Pt=[],Ss=[];let Dt=[];const Ir=[],ll=Promise.resolve();let Ws=!1;function il(){Ws||(Ws=!0,ll.then(On))}function Hs(s){Dt.push(s)}const Os=new Set;let Ct=0;function On(){if(Ct!==0)return;const s=jt;do{try{for(;Ct<Pt.length;){const e=Pt[Ct];Ct++,Jt(e),ol(e.$$)}}catch(e){throw Pt.length=0,Ct=0,e}for(Jt(null),Pt.length=0,Ct=0;Ss.length;)Ss.pop()();for(let e=0;e<Dt.length;e+=1){const t=Dt[e];Os.has(t)||(Os.add(t),t())}Dt.length=0}while(Pt.length);for(;Ir.length;)Ir.pop()();Ws=!1,Os.clear(),Jt(s)}function ol(s){if(s.fragment!==null){s.update(),Me(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Hs)}}function al(s){const e=[],t=[];Dt.forEach(r=>s.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Dt=e}const bs=new Set;let dt;function ft(){dt={r:0,c:[],p:dt}}function mt(){dt.r||Me(dt.c),dt=dt.p}function ae(s,e){s&&s.i&&(bs.delete(s),s.i(e))}function de(s,e,t,r){if(s&&s.o){if(bs.has(s))return;bs.add(s),dt.c.push(()=>{bs.delete(s),r&&(t&&s.d(1),r())}),s.o(e)}else r&&r()}function ge(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function cl(s,e){s.d(1),e.delete(s.key)}function ul(s,e,t,r,n,l,o,a,d,u,f,p){let h=s.length,b=l.length,_=h;const y={};for(;_--;)y[s[_].key]=_;const S=[],E=new Map,x=new Map,I=[];for(_=b;_--;){const B=p(n,l,_),M=t(B);let U=o.get(M);U?I.push(()=>U.p(B,e)):(U=u(M,B),U.c()),E.set(M,S[_]=U),M in y&&x.set(M,Math.abs(_-y[M]))}const O=new Set,K=new Set;function D(B){ae(B,1),B.m(a,f),o.set(B.key,B),f=B.first,b--}for(;h&&b;){const B=S[b-1],M=s[h-1],U=B.key,L=M.key;B===M?(f=B.first,h--,b--):E.has(L)?!o.has(U)||O.has(U)?D(B):K.has(L)?h--:x.get(U)>x.get(L)?(K.add(U),D(B)):(O.add(L),h--):(d(M,o),h--)}for(;h--;){const B=s[h];E.has(B.key)||d(B,o)}for(;b;)D(S[b-1]);return Me(I),S}function Re(s){s&&s.c()}function Ce(s,e,t){const{fragment:r,after_update:n}=s.$$;r&&r.m(e,t),Hs(()=>{const l=s.$$.on_mount.map(En).filter(Tn);s.$$.on_destroy?s.$$.on_destroy.push(...l):Me(l),s.$$.on_mount=[]}),n.forEach(Hs)}function xe(s,e){const t=s.$$;t.fragment!==null&&(al(t.after_update),Me(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function dl(s,e){s.$$.dirty[0]===-1&&(Pt.push(s),il(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function De(s,e,t,r,n,l,o=null,a=[-1]){const d=jt;Jt(s);const u=s.$$={fragment:null,ctx:[],props:l,update:ne,not_equal:n,bound:Er(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:Er(),dirty:a,skip_bound:!1,root:e.target||d.$$.root};o&&o(u.root);let f=!1;if(u.ctx=t?t(s,e.props||{},(p,h,...b)=>{const _=b.length?b[0]:h;return u.ctx&&n(u.ctx[p],u.ctx[p]=_)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](_),f&&dl(s,p)),h}):[],u.update(),f=!0,Me(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const p=rl(e.target);u.fragment&&u.fragment.l(p),p.forEach(A)}else u.fragment&&u.fragment.c();e.intro&&ae(s.$$.fragment),Ce(s,e.target,e.anchor),On()}Jt(d)}class Oe{constructor(){Be(this,"$$");Be(this,"$$set")}$destroy(){xe(this,1),this.$destroy=ne}$on(e,t){if(!Tn(t))return ne;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!tl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fl);const xt=[];function qs(s,e=ne){let t;const r=new Set;function n(a){if(Ae(s,a)&&(s=a,t)){const d=!xt.length;for(const u of r)u[1](),xt.push(u,s);if(d){for(let u=0;u<xt.length;u+=2)xt[u][0](xt[u+1]);xt.length=0}}}function l(a){n(a(s))}function o(a,d=ne){const u=[a,d];return r.add(u),r.size===1&&(t=e(n,l)||ne),a(s),()=>{r.delete(u),r.size===0&&t&&(t(),t=null)}}return{set:n,update:l,subscribe:o}}const Rt=new TextEncoder,ks=new TextDecoder;function ml(...s){const e=s.reduce((n,{length:l})=>n+l,0),t=new Uint8Array(e);let r=0;for(const n of s)t.set(n,r),r+=n.length;return t}function pl(s){if(Uint8Array.prototype.toBase64)return s.toBase64();const e=32768,t=[];for(let r=0;r<s.length;r+=e)t.push(String.fromCharCode.apply(null,s.subarray(r,r+e)));return btoa(t.join(""))}function hl(s){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(s);const e=atob(s),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function Kn(s){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof s=="string"?s:ks.decode(s),{alphabet:"base64url"});let e=s;e instanceof Uint8Array&&(e=ks.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return hl(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function Ks(s){let e=s;return typeof e=="string"&&(e=Rt.encode(e)),Uint8Array.prototype.toBase64?e.toBase64({alphabet:"base64url",omitPadding:!0}):pl(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class Ms extends Error{constructor(t,r){var n;super(t,r);Be(this,"code","ERR_JOSE_GENERIC");this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}Be(Ms,"code","ERR_JOSE_GENERIC");class qe extends Ms{constructor(){super(...arguments);Be(this,"code","ERR_JOSE_NOT_SUPPORTED")}}Be(qe,"code","ERR_JOSE_NOT_SUPPORTED");class Et extends Ms{constructor(){super(...arguments);Be(this,"code","ERR_JWS_INVALID")}}Be(Et,"code","ERR_JWS_INVALID");class Nn extends Ms{constructor(){super(...arguments);Be(this,"code","ERR_JWT_INVALID")}}Be(Nn,"code","ERR_JWT_INVALID");function Je(s,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${s}`)}function Mt(s,e){return s.name===e}function Ns(s){return parseInt(s.name.slice(4),10)}function gl(s){switch(s){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function bl(s,e){if(!s.usages.includes(e))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${e}.`)}function yl(s,e,t){switch(e){case"HS256":case"HS384":case"HS512":{if(!Mt(s.algorithm,"HMAC"))throw Je("HMAC");const r=parseInt(e.slice(2),10);if(Ns(s.algorithm.hash)!==r)throw Je(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Mt(s.algorithm,"RSASSA-PKCS1-v1_5"))throw Je("RSASSA-PKCS1-v1_5");const r=parseInt(e.slice(2),10);if(Ns(s.algorithm.hash)!==r)throw Je(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Mt(s.algorithm,"RSA-PSS"))throw Je("RSA-PSS");const r=parseInt(e.slice(2),10);if(Ns(s.algorithm.hash)!==r)throw Je(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!Mt(s.algorithm,"Ed25519"))throw Je("Ed25519");break}case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":{if(!Mt(s.algorithm,e))throw Je(e);break}case"ES256":case"ES384":case"ES512":{if(!Mt(s.algorithm,"ECDSA"))throw Je("ECDSA");const r=gl(e);if(s.algorithm.namedCurve!==r)throw Je(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}bl(s,t)}function Bn(s,e,...t){var r;if(t=t.filter(Boolean),t.length>2){const n=t.pop();s+=`one of type ${t.join(", ")}, or ${n}.`}else t.length===2?s+=`one of type ${t[0]} or ${t[1]}.`:s+=`of type ${t[0]}.`;return e==null?s+=` Received ${e}`:typeof e=="function"&&e.name?s+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(r=e.constructor)!=null&&r.name&&(s+=` Received an instance of ${e.constructor.name}`),s}const vl=(s,...e)=>Bn("Key must be ",s,...e);function Un(s,e,...t){return Bn(`Key for the ${s} algorithm must be `,e,...t)}function Wn(s){return(s==null?void 0:s[Symbol.toStringTag])==="CryptoKey"}function Hn(s){return(s==null?void 0:s[Symbol.toStringTag])==="KeyObject"}const zn=s=>Wn(s)||Hn(s),_l=(...s)=>{const e=s.filter(Boolean);if(e.length===0||e.length===1)return!0;let t;for(const r of e){const n=Object.keys(r);if(!t||t.size===0){t=new Set(n);continue}for(const l of n){if(t.has(l))return!1;t.add(l)}}return!0};function wl(s){return typeof s=="object"&&s!==null}const $s=s=>{if(!wl(s)||Object.prototype.toString.call(s)!=="[object Object]")return!1;if(Object.getPrototypeOf(s)===null)return!0;let e=s;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(s)===e},Sl=(s,e)=>{if(s.startsWith("RS")||s.startsWith("PS")){const{modulusLength:t}=e.algorithm;if(typeof t!="number"||t<2048)throw new TypeError(`${s} requires key modulusLength to be 2048 bits or larger`)}};function kl(s){let e,t;switch(s.kty){case"AKP":{switch(s.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":e={name:s.alg},t=s.priv?["sign"]:["verify"];break;default:throw new qe('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(s.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${s.alg.slice(-3)}`},t=s.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${s.alg.slice(-3)}`},t=s.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(s.alg.slice(-3),10)||1}`},t=s.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new qe('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(s.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},t=s.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},t=s.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},t=s.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:s.crv},t=s.d?["deriveBits"]:[];break;default:throw new qe('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(s.alg){case"Ed25519":case"EdDSA":e={name:"Ed25519"},t=s.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:s.crv},t=s.d?["deriveBits"]:[];break;default:throw new qe('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new qe('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:t}}const ys=async s=>{if(!s.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:t}=kl(s),r={...s};return r.kty!=="AKP"&&delete r.alg,delete r.use,crypto.subtle.importKey("jwk",r,e,s.ext??!(s.d||s.priv),s.key_ops??t)};async function Ll(s,e,t){if(!$s(s))throw new TypeError("JWK must be an object");let r;switch(e??(e=s.alg),r??(r=s.ext),s.kty){case"oct":if(typeof s.k!="string"||!s.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Kn(s.k);case"RSA":if("oth"in s&&s.oth!==void 0)throw new qe('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return ys({...s,alg:e,ext:r});case"AKP":{if(typeof s.alg!="string"||!s.alg)throw new TypeError('missing "alg" (Algorithm) Parameter value');if(e!==void 0&&e!==s.alg)throw new TypeError("JWK alg and alg option value mismatch");return ys({...s,ext:r})}case"EC":case"OKP":return ys({...s,alg:e,ext:r});default:throw new qe('Unsupported "kty" (Key Type) Parameter value')}}const Cl=(s,e,t,r,n)=>{if(n.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new s('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new s('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let l;t!==void 0?l=new Map([...Object.entries(t),...e.entries()]):l=e;for(const o of r.crit){if(!l.has(o))throw new qe(`Extension Header Parameter "${o}" is not recognized`);if(n[o]===void 0)throw new s(`Extension Header Parameter "${o}" is missing`);if(l.get(o)&&r[o]===void 0)throw new s(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)};function Vs(s){return $s(s)&&typeof s.kty=="string"}function xl(s){return s.kty!=="oct"&&(s.kty==="AKP"&&typeof s.priv=="string"||typeof s.d=="string")}function Ml(s){return s.kty!=="oct"&&typeof s.d>"u"&&typeof s.priv>"u"}function Al(s){return s.kty==="oct"&&typeof s.k=="string"}let Ot;const Rr=async(s,e,t,r=!1)=>{Ot||(Ot=new WeakMap);let n=Ot.get(s);if(n!=null&&n[t])return n[t];const l=await ys({...e,alg:t});return r&&Object.freeze(s),n?n[t]=l:Ot.set(s,{[t]:l}),l},Pl=(s,e)=>{var o;Ot||(Ot=new WeakMap);let t=Ot.get(s);if(t!=null&&t[e])return t[e];const r=s.type==="public",n=!!r;let l;if(s.asymmetricKeyType==="x25519"){switch(e){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}l=s.toCryptoKey(s.asymmetricKeyType,n,r?[]:["deriveBits"])}if(s.asymmetricKeyType==="ed25519"){if(e!=="EdDSA"&&e!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");l=s.toCryptoKey(s.asymmetricKeyType,n,[r?"verify":"sign"])}switch(s.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":{if(e!==s.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");l=s.toCryptoKey(s.asymmetricKeyType,n,[r?"verify":"sign"])}}if(s.asymmetricKeyType==="rsa"){let a;switch(e){case"RSA-OAEP":a="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":a="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":a="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":a="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(e.startsWith("RSA-OAEP"))return s.toCryptoKey({name:"RSA-OAEP",hash:a},n,r?["encrypt"]:["decrypt"]);l=s.toCryptoKey({name:e.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:a},n,[r?"verify":"sign"])}if(s.asymmetricKeyType==="ec"){const d=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get((o=s.asymmetricKeyDetails)==null?void 0:o.namedCurve);if(!d)throw new TypeError("given KeyObject instance cannot be used for this algorithm");e==="ES256"&&d==="P-256"&&(l=s.toCryptoKey({name:"ECDSA",namedCurve:d},n,[r?"verify":"sign"])),e==="ES384"&&d==="P-384"&&(l=s.toCryptoKey({name:"ECDSA",namedCurve:d},n,[r?"verify":"sign"])),e==="ES512"&&d==="P-521"&&(l=s.toCryptoKey({name:"ECDSA",namedCurve:d},n,[r?"verify":"sign"])),e.startsWith("ECDH-ES")&&(l=s.toCryptoKey({name:"ECDH",namedCurve:d},n,r?[]:["deriveBits"]))}if(!l)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return t?t[e]=l:Ot.set(s,{[e]:l}),l},El=async(s,e)=>{if(s instanceof Uint8Array||Wn(s))return s;if(Hn(s)){if(s.type==="secret")return s.export();if("toCryptoKey"in s&&typeof s.toCryptoKey=="function")try{return Pl(s,e)}catch(r){if(r instanceof TypeError)throw r}let t=s.export({format:"jwk"});return Rr(s,t,e)}if(Vs(s))return s.k?Kn(s.k):Rr(s,s,e,!0);throw new Error("unreachable")},Tt=s=>s==null?void 0:s[Symbol.toStringTag],zs=(s,e,t)=>{var r,n;if(e.use!==void 0){let l;switch(t){case"sign":case"verify":l="sig";break;case"encrypt":case"decrypt":l="enc";break}if(e.use!==l)throw new TypeError(`Invalid key for this operation, its "use" must be "${l}" when present`)}if(e.alg!==void 0&&e.alg!==s)throw new TypeError(`Invalid key for this operation, its "alg" must be "${s}" when present`);if(Array.isArray(e.key_ops)){let l;switch(!0){case t==="sign":case s==="dir":case s.includes("CBC-HS"):l=t;break;case s.startsWith("PBES2"):l="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(s):!s.includes("GCM")&&s.endsWith("KW")?l="unwrapKey":l=t;break;case t==="encrypt":l="wrapKey";break;case t==="decrypt":l=s.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(l&&((n=(r=e.key_ops)==null?void 0:r.includes)==null?void 0:n.call(r,l))===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${l}" when present`)}return!0},Tl=(s,e,t)=>{if(!(e instanceof Uint8Array)){if(Vs(e)){if(Al(e)&&zs(s,e,t))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!zn(e))throw new TypeError(Un(s,e,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(e.type!=="secret")throw new TypeError(`${Tt(e)} instances for symmetric algorithms must be of type "secret"`)}},Il=(s,e,t)=>{if(Vs(e))switch(t){case"decrypt":case"sign":if(xl(e)&&zs(s,e,t))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(Ml(e)&&zs(s,e,t))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!zn(e))throw new TypeError(Un(s,e,"CryptoKey","KeyObject","JSON Web Key"));if(e.type==="secret")throw new TypeError(`${Tt(e)} instances for asymmetric algorithms must not be of type "secret"`);if(e.type==="public")switch(t){case"sign":throw new TypeError(`${Tt(e)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${Tt(e)} instances for asymmetric algorithm decryption must be of type "private"`)}if(e.type==="private")switch(t){case"verify":throw new TypeError(`${Tt(e)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${Tt(e)} instances for asymmetric algorithm encryption must be of type "public"`)}},Rl=(s,e,t)=>{s.startsWith("HS")||s==="dir"||s.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(s)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(s)?Tl(s,e,t):Il(s,e,t)},Dl=(s,e)=>{const t=`SHA-${s.slice(-3)}`;switch(s){case"HS256":case"HS384":case"HS512":return{hash:t,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:t,name:"RSA-PSS",saltLength:parseInt(s.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:t,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:t,name:"ECDSA",namedCurve:e.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:s};default:throw new qe(`alg ${s} is not supported either by JOSE or your javascript runtime`)}},Ol=async(s,e,t)=>{if(e instanceof Uint8Array){if(!s.startsWith("HS"))throw new TypeError(vl(e,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",e,{hash:`SHA-${s.slice(-3)}`,name:"HMAC"},!1,[t])}return yl(e,s,t),e},ct=s=>Math.floor(s.getTime()/1e3),Fn=60,Jn=Fn*60,Ys=Jn*24,Kl=Ys*7,Nl=Ys*365.25,Bl=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Bs=s=>{const e=Bl.exec(s);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const t=parseFloat(e[2]),r=e[3].toLowerCase();let n;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(t);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(t*Fn);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(t*Jn);break;case"day":case"days":case"d":n=Math.round(t*Ys);break;case"week":case"weeks":case"w":n=Math.round(t*Kl);break;default:n=Math.round(t*Nl);break}return e[1]==="-"||e[4]==="ago"?-n:n};function ut(s,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${s} input`);return e}var he;class Ul{constructor(e){Xe(this,he);if(!$s(e))throw new TypeError("JWT Claims Set MUST be an object");Qe(this,he,structuredClone(e))}data(){return Rt.encode(JSON.stringify(re(this,he)))}get iss(){return re(this,he).iss}set iss(e){re(this,he).iss=e}get sub(){return re(this,he).sub}set sub(e){re(this,he).sub=e}get aud(){return re(this,he).aud}set aud(e){re(this,he).aud=e}set jti(e){re(this,he).jti=e}set nbf(e){typeof e=="number"?re(this,he).nbf=ut("setNotBefore",e):e instanceof Date?re(this,he).nbf=ut("setNotBefore",ct(e)):re(this,he).nbf=ct(new Date)+Bs(e)}set exp(e){typeof e=="number"?re(this,he).exp=ut("setExpirationTime",e):e instanceof Date?re(this,he).exp=ut("setExpirationTime",ct(e)):re(this,he).exp=ct(new Date)+Bs(e)}set iat(e){typeof e>"u"?re(this,he).iat=ct(new Date):e instanceof Date?re(this,he).iat=ut("setIssuedAt",ct(e)):typeof e=="string"?re(this,he).iat=ut("setIssuedAt",ct(new Date)+Bs(e)):re(this,he).iat=ut("setIssuedAt",e)}}he=new WeakMap;const Wl=async(s,e,t)=>{const r=await Ol(s,e,"sign");Sl(s,r);const n=await crypto.subtle.sign(Dl(s,r.algorithm),r,t);return new Uint8Array(n)};var qt,Te,je;class Hl{constructor(e){Xe(this,qt);Xe(this,Te);Xe(this,je);if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");Qe(this,qt,e)}setProtectedHeader(e){if(re(this,Te))throw new TypeError("setProtectedHeader can only be called once");return Qe(this,Te,e),this}setUnprotectedHeader(e){if(re(this,je))throw new TypeError("setUnprotectedHeader can only be called once");return Qe(this,je,e),this}async sign(e,t){if(!re(this,Te)&&!re(this,je))throw new Et("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!_l(re(this,Te),re(this,je)))throw new Et("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...re(this,Te),...re(this,je)},n=Cl(Et,new Map([["b64",!0]]),t==null?void 0:t.crit,re(this,Te),r);let l=!0;if(n.has("b64")&&(l=re(this,Te).b64,typeof l!="boolean"))throw new Et('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new Et('JWS "alg" (Algorithm) Header Parameter missing or invalid');Rl(o,e,"sign");let a=re(this,qt);l&&(a=Rt.encode(Ks(a)));let d;re(this,Te)?d=Rt.encode(Ks(JSON.stringify(re(this,Te)))):d=Rt.encode("");const u=ml(d,Rt.encode("."),a),f=await El(e,o),p=await Wl(o,f,u),h={signature:Ks(p),payload:""};return l&&(h.payload=ks.decode(a)),re(this,je)&&(h.header=re(this,je)),re(this,Te)&&(h.protected=ks.decode(d)),h}}qt=new WeakMap,Te=new WeakMap,je=new WeakMap;var Kt;class zl{constructor(e){Xe(this,Kt);Qe(this,Kt,new Hl(e))}setProtectedHeader(e){return re(this,Kt).setProtectedHeader(e),this}async sign(e,t){const r=await re(this,Kt).sign(e,t);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}Kt=new WeakMap;var tt,Ke;class Fl{constructor(e={}){Xe(this,tt);Xe(this,Ke);Qe(this,Ke,new Ul(e))}setIssuer(e){return re(this,Ke).iss=e,this}setSubject(e){return re(this,Ke).sub=e,this}setAudience(e){return re(this,Ke).aud=e,this}setJti(e){return re(this,Ke).jti=e,this}setNotBefore(e){return re(this,Ke).nbf=e,this}setExpirationTime(e){return re(this,Ke).exp=e,this}setIssuedAt(e){return re(this,Ke).iat=e,this}setProtectedHeader(e){return Qe(this,tt,e),this}async sign(e,t){var n;const r=new zl(re(this,Ke).data());if(r.setProtectedHeader(re(this,tt)),Array.isArray((n=re(this,tt))==null?void 0:n.crit)&&re(this,tt).crit.includes("b64")&&re(this,tt).b64===!1)throw new Nn("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}tt=new WeakMap,Ke=new WeakMap;const Ft="bluesky_oauth_session",jn="bluesky_code_verifier",qn="bluesky_oauth_state",$n="bluesky_server_url";function Vn(s=128){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let t="";const r=new Uint8Array(s);crypto.getRandomValues(r);for(let n=0;n<s;n++)t+=e[r[n]%e.length];return t}async function Yn(s){const t=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",t);return Gn(r)}function Gn(s){return btoa(String.fromCharCode(...new Uint8Array(s))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jl(s,e,t,r,n){try{const l=await crypto.subtle.exportKey("jwk",s.publicKey),o={jti:crypto.randomUUID(),htm:e,htu:t,iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+120};if(r&&(o.nonce=r),n){const f=new TextEncoder().encode(n),p=await crypto.subtle.digest("SHA-256",f);o.ath=Gn(p)}const a=await Ll(await crypto.subtle.exportKey("jwk",s.privateKey),"ES256");return await new Fl(o).setProtectedHeader({alg:"ES256",typ:"dpop+jwt",jwk:{kty:l.kty,crv:l.crv,x:l.x,y:l.y}}).sign(a)}catch(l){throw console.error("Error creating DPoP JWT:",l),l}}async function Zn(s="https://bsky.social"){try{const e=Vn();localStorage.setItem(jn,e);const t=await Yn(e),r=crypto.randomUUID();localStorage.setItem(qn,r),localStorage.setItem($n,s);const n=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",l="https://pixeline.be/bluesky-list-manager/.well-known/oauth-client-metadata.json",a=window.location.pathname.includes("/bluesky-list-manager")?"/bluesky-list-manager":"",d=`${window.location.origin}${a}/oauth-callback-standalone.html`,u=new URL(`${s}/oauth/authorize`);u.searchParams.append("client_id",l),u.searchParams.append("response_type","code"),u.searchParams.append("redirect_uri",d),u.searchParams.append("scope","atproto transition:generic repo:app.bsky.graph.list?action=create&action=update&action=delete repo:app.bsky.graph.listitem?action=create&action=delete"),u.searchParams.append("state",r),u.searchParams.append("code_challenge",t),u.searchParams.append("code_challenge_method","S256");try{console.log("OAuth authorize params:",{serverUrl:s,redirectUri:d,scope:"atproto transition:generic repo:app.bsky.graph.list?action=create&action=update&action=delete repo:app.bsky.graph.listitem?action=create&action=delete"})}catch{}window.location.href=u.toString()}catch(e){throw console.error("Failed to start OAuth flow:",e),e}}async function et(){console.log("getStoredOAuthSession: Looking for key:",Ft);const s=localStorage.getItem(Ft);if(console.log("getStoredOAuthSession: Raw stored data:",s),s)try{const e=JSON.parse(s);if(console.log("Retrieved stored OAuth session:",{hasAccessToken:!!e.accessToken,hasSub:!!e.sub,hasDpopKeypair:!!e.dpopKeypair,timestamp:e.timestamp}),e.dpopKeypair&&e.dpopKeypair.privateKey&&e.dpopKeypair.publicKey)try{if(!e.dpopKeypair.privateKey.kty||!e.dpopKeypair.publicKey.kty)throw console.error("Invalid JWK structure in stored DPoP keypair"),new Error("Invalid JWK structure");const t=await crypto.subtle.importKey("jwk",e.dpopKeypair.privateKey,{name:"ECDSA",namedCurve:"P-256"},!0,["sign"]),r=await crypto.subtle.importKey("jwk",e.dpopKeypair.publicKey,{name:"ECDSA",namedCurve:"P-256"},!0,["verify"]);e.dpopKeypair={privateKey:t,publicKey:r},console.log("Successfully imported DPoP keypair")}catch(t){return console.error("Failed to import DPoP keypair:",t),localStorage.removeItem(Ft),null}else console.warn("No DPoP keypair found in stored session");return e}catch(e){console.error("Failed to parse stored OAuth session:",e),localStorage.removeItem(Ft)}return null}function Fs(){localStorage.removeItem(Ft),localStorage.removeItem(jn),localStorage.removeItem(qn),localStorage.removeItem($n)}const jl=Object.freeze(Object.defineProperty({__proto__:null,clearOAuthSession:Fs,createDpopJwt:Jl,generateCodeChallenge:Yn,generateCodeVerifier:Vn,getStoredOAuthSession:et,startOAuthFlow:Zn},Symbol.toStringTag,{value:"Module"})),Ee={SESSION:"bluesky_session",AUTH_TYPE:"bluesky_auth_type"},It={OAUTH:"oauth",APP_PASSWORD:"app_password"};function ql(){const{subscribe:s,set:e,update:t}=qs({session:null,authType:null,isLoading:!1,error:null});return{subscribe:s,setSession:(r,n=It.APP_PASSWORD)=>{r?(localStorage.setItem(Ee.SESSION,JSON.stringify(r)),localStorage.setItem(Ee.AUTH_TYPE,n)):(localStorage.removeItem(Ee.SESSION),localStorage.removeItem(Ee.AUTH_TYPE)),e({session:r,authType:n,isLoading:!1,error:null})},setLoading:r=>{t(n=>({...n,isLoading:r}))},setError:r=>{t(n=>({...n,error:r,isLoading:!1}))},getSession:()=>{const r=localStorage.getItem(Ee.SESSION),n=localStorage.getItem(Ee.AUTH_TYPE)||It.APP_PASSWORD;if(r)try{return{session:JSON.parse(r),authType:n}}catch{localStorage.removeItem(Ee.SESSION),localStorage.removeItem(Ee.AUTH_TYPE)}return{session:null,authType:null}},clearSession:()=>{localStorage.removeItem(Ee.SESSION),localStorage.removeItem(Ee.AUTH_TYPE),Fs(),e({session:null,authType:null,isLoading:!1,error:null})},signOut:()=>{localStorage.removeItem(Ee.SESSION),localStorage.removeItem(Ee.AUTH_TYPE),Fs(),e({session:null,authType:null,isLoading:!1,error:null})},initializeSession:async()=>{console.log("Initializing session from storage...");const r=await et();if(console.log("OAuth session found:",r),console.log("All localStorage keys:",Object.keys(localStorage)),console.log("bluesky_oauth_session:",localStorage.getItem("bluesky_oauth_session")),console.log("bluesky_session:",localStorage.getItem("bluesky_session")),console.log("bluesky_auth_type:",localStorage.getItem("bluesky_auth_type")),r&&r.accessToken){console.log("Converting OAuth session to compatible format...");let o=r.handle;if(!o||o.startsWith("did:")){console.log("OAuth session missing handle or has DID, attempting to resolve...");try{const d=`https://public.api.bsky.app/xrpc/app.bsky.actor.getProfile?actor=${r.sub}`;console.log("Fetching profile from public API:",d);const u=await fetch(d,{method:"GET"});if(u.ok){const f=await u.json();f!=null&&f.handle&&!f.handle.startsWith("did:")&&(o=f.handle,console.log("Successfully resolved handle from profile:",o),r.handle=o,console.log("Updated OAuth session handle in memory (not in localStorage to preserve DPoP keypair)"))}}catch(d){console.error("Failed to resolve handle from profile:",d)}}const a={accessJwt:r.accessToken,refreshJwt:r.refreshToken,handle:o||r.sub,did:r.sub,email:null};return console.log("Converted OAuth session:",a),e({session:a,authType:It.OAUTH,isLoading:!1,error:null}),{session:a,authType:It.OAUTH}}const{session:n,authType:l}=Ue.getSession();return n?(console.log("Using app password session:",n),e({session:n,authType:l,isLoading:!1,error:null}),{session:n,authType:l}):(console.log("No session found"),{session:null,authType:null})},isOAuthSession:()=>localStorage.getItem(Ee.AUTH_TYPE)===It.OAUTH}}const Ue=ql(),$l="modulepreload",Vl=function(s,e){return new URL(s,e).href},Dr={},Yl=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),d=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(t.map(u=>{if(u=Vl(u,r),u in Dr)return;Dr[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(!!r)for(let _=o.length-1;_>=0;_--){const y=o[_];if(y.href===u&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${p}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":$l,f||(b.as="script"),b.crossOrigin="",b.href=u,d&&b.setAttribute("nonce",d),document.head.appendChild(b),f)return new Promise((_,y)=>{b.addEventListener("load",_),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&l(a.reason);return e().catch(l)})},Or="https://bsky.social/xrpc";class Gl{async signIn(e,t){const r=await fetch(`${Or}/com.atproto.server.createSession`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:e,password:t})});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to sign in")}return await r.json()}async getAuthHeaders(e,t="app_password",r="GET",n="",l=null,o=null){if(t==="oauth"){const a=await et();if(!(a!=null&&a.accessToken))throw new Error("No OAuth access token found");const d={};try{const{createDpopJwt:u}=await Yl(async()=>{const{createDpopJwt:p}=await Promise.resolve().then(()=>jl);return{createDpopJwt:p}},void 0,import.meta.url);let f=a.dpopKeypair;if(f&&f.privateKey&&f.publicKey&&!f.privateKey.type){const p=await crypto.subtle.importKey("jwk",f.privateKey,{name:"ECDSA",namedCurve:"P-256"},!0,["sign"]),h=await crypto.subtle.importKey("jwk",f.publicKey,{name:"ECDSA",namedCurve:"P-256"},!0,["verify"]);f={privateKey:p,publicKey:h}}if(f){const p=await u(f,r,n,o||a.serverNonce,a.accessToken);d.Authorization=`DPoP ${a.accessToken}`,d.DPoP=p,(o||a.serverNonce)&&(d["DPoP-Nonce"]=o||a.serverNonce)}else d.Authorization=`DPoP ${a.accessToken}`}catch(u){console.warn("Failed to prepare DPoP headers for OAuth request:",u),d.Authorization=`DPoP ${a.accessToken}`}return d}else return{Authorization:`Bearer ${e.accessJwt}`}}async makeBlueskyRequest(e,t,r="app_password",n="GET",l=null){const o=u=>{try{if(!u)return;const f=localStorage.getItem("bluesky_oauth_session");if(!f)return;const p=JSON.parse(f);p.serverNonce=u,localStorage.setItem("bluesky_oauth_session",JSON.stringify(p))}catch{}};let a;if(r==="oauth")if(e.includes("app.bsky.actor.getProfile")||e.includes("app.bsky.actor.searchActors")||e.includes("com.atproto.identity.resolveHandle")||e.includes("app.bsky.graph.getLists")||e.includes("app.bsky.graph.getList"))a="https://public.api.bsky.app/xrpc",console.log(`Using public API for endpoint: ${e}`);else{let f="https://bsky.social";try{const p=await et(),b=((p==null?void 0:p.accessToken)||"").split(".");if(b.length>=2){const _=b[1].replace(/-/g,"+").replace(/_/g,"/"),y=atob(_),S=JSON.parse(y),E=(S==null?void 0:S.aud)||"";if(typeof E=="string"&&E.startsWith("did:web:")){const I=decodeURIComponent(E.substring(8)).split(":")[0];I&&(f=`https://${I}`)}}}catch(p){console.warn("Failed to derive PDS origin from OAuth token, falling back to bsky.social",p)}a=`${f.replace(/\/$/,"")}/xrpc`,console.log(`Using PDS for authenticated endpoint via ${a}: ${e}`)}else a=Or;const d=`${a}/${e}`;console.log(`makeBlueskyRequest: ${n} ${d} (authType: ${r})`);try{let u={};r==="oauth"?u=await this.getAuthHeaders(t,r,n,d,l):r==="app_password"&&(u=await this.getAuthHeaders(t,r,n,d,l)),console.log("Request headers:",u),l&&n!=="GET"&&(u["Content-Type"]="application/json");let f=await fetch(d,{method:n,headers:u,body:l?JSON.stringify(l):void 0});console.log(`Response status: ${f.status} ${f.statusText}`);const p=f.headers.get("DPoP-Nonce");if(p&&o(p),!f.ok){let h=await f.json().catch(()=>({}));console.log("Response error:",h);const b=f.headers.get("DPoP-Nonce");if(r==="oauth"&&(h==null?void 0:h.error)==="use_dpop_nonce"&&b)try{const _=await this.getAuthHeaders(t,r,n,d,l,b);f=await fetch(d,{method:n,headers:_,body:l?JSON.stringify(l):void 0});const y=f.headers.get("DPoP-Nonce");if(y&&o(y),!f.ok){const S=await f.json().catch(()=>({}));throw new Error(S.error_description||S.error||`Request failed after nonce retry: ${f.status}`)}return await f.json()}catch(_){throw _}throw new Error(h.error_description||h.error||h.message||`Request failed: ${f.status}`)}return await f.json()}catch(u){throw console.error(`Bluesky API request failed for ${e}:`,u),u}}async getUserLists(e,t="app_password"){if(console.log("getUserLists called with authType:",t),t==="oauth"){const r=await et();if(console.log("OAuth session for getUserLists:",r),!(r!=null&&r.sub))throw console.error("OAuth session missing or invalid:",{hasSession:!!r,hasSub:!!(r!=null&&r.sub),sessionKeys:r?Object.keys(r):"null"}),new Error("No user DID found in OAuth session");const n=r.handle||r.sub;console.log("Using actor for getUserLists:",n);try{const l=await this.makeBlueskyRequest(`app.bsky.graph.getLists?actor=${encodeURIComponent(n)}`,e,t);return console.log("getUserLists OAuth response:",l),l.lists||[]}catch(l){throw console.error("Failed to fetch user lists via OAuth:",l),l}}else return(await this.makeBlueskyRequest(`app.bsky.graph.getLists?actor=${encodeURIComponent(e.handle)}`,e,t)).lists||[]}async getListInfo(e,t,r="app_password"){return(await this.makeBlueskyRequest(`app.bsky.graph.getList?list=${encodeURIComponent(t)}`,e,r)).list}async getListMembers(e,t,r="app_password",n=25,l=null){var p;let o=`app.bsky.graph.getList?list=${encodeURIComponent(t)}&limit=${n}`;l&&(o+=`&cursor=${encodeURIComponent(l)}`);const a=await this.makeBlueskyRequest(o,e,r),d=a.items||[],u=d.map(h=>h.subject.did),f=d.map(h=>h.subject);return{members:u,profiles:f,cursor:a.cursor,totalCount:((p=a.list)==null?void 0:p.listItemCount)||0}}async getListMembersCount(e,t,r="app_password"){return(await this.getListInfo(e,t,r)).listItemCount||0}async getProfiles(e,t,r="app_password"){if(!t||t.length===0)return[];const n=[];for(const l of t)try{const o=await this.makeBlueskyRequest(`app.bsky.actor.getProfile?actor=${encodeURIComponent(l)}`,e,r);n.push(o)}catch(o){console.error(`Failed to fetch profile for ${l}:`,o),n.push({did:l,handle:"unknown",displayName:"Unknown User",avatar:null,description:null})}return n}async searchProfiles(e,t,r="app_password",n=25,l=null){let o=`app.bsky.actor.searchActors?term=${encodeURIComponent(t)}&limit=${n}`;l&&(o+=`&cursor=${encodeURIComponent(l)}`);const a=await this.makeBlueskyRequest(o,e,r);return{actors:a.actors||[],cursor:a.cursor}}async addToList(e,t,r,n="app_password"){let l;return n==="oauth"?l=(await et()).sub:l=e.did,await this.makeBlueskyRequest("com.atproto.repo.createRecord",e,n,"POST",{repo:l,collection:"app.bsky.graph.listitem",record:{$type:"app.bsky.graph.listitem",subject:t,list:r,createdAt:new Date().toISOString()}})}async createList(e,{name:t,description:r="",purpose:n="app.bsky.graph.defs#curatelist"},l="app_password"){if(!t||typeof t!="string"||t.trim().length===0)throw new Error("List name is required");let o;if(l==="oauth"){const u=await et();o=u==null?void 0:u.sub}else o=e==null?void 0:e.did;if(!o)throw new Error("Unable to determine user DID for list creation");const a={$type:"app.bsky.graph.list",name:t.trim(),createdAt:new Date().toISOString()};return r&&typeof r=="string"&&(a.description=r.trim()),n&&typeof n=="string"&&(a.purpose=n),await this.makeBlueskyRequest("com.atproto.repo.createRecord",e,l,"POST",{repo:o,collection:"app.bsky.graph.list",record:a})}async removeFromList(e,t,r,n="app_password"){var p;let l;n==="oauth"?l=(await et()).sub:l=e.did,console.log("removeFromList: Searching for DID:",t,"in list:",r,"for user:",l);let o=null,a=null,d=0;do{const h=await this.makeBlueskyRequest(`com.atproto.repo.listRecords?repo=${l}&collection=app.bsky.graph.listitem&limit=100${o?`&cursor=${encodeURIComponent(o)}`:""}`,e,n);if(console.log("removeFromList: Found",((p=h.records)==null?void 0:p.length)||0,"records in this batch"),a=h.records.find(b=>{d++;const _=b.value.subject===t&&b.value.list===r;return _&&console.log("removeFromList: Found matching record:",b),_}),a){console.log("removeFromList: Found record with rkey:",a.rkey);break}o=h.cursor}while(o&&!a);if(console.log("removeFromList: Total records checked:",d),!a)throw new Error("List item not found");const u=a.uri.split("/").pop();if(!u)throw console.error("removeFromList: Could not extract rkey from URI:",a.uri),new Error("Could not extract rkey from URI");console.log("removeFromList: Deleting record with rkey:",u);const f=await this.makeBlueskyRequest("com.atproto.repo.deleteRecord",e,n,"POST",{repo:l,collection:"app.bsky.graph.listitem",rkey:u});return console.log("removeFromList: Delete successful"),f}async resolveHandle(e,t,r="app_password"){return(await this.makeBlueskyRequest(`com.atproto.identity.resolveHandle?handle=${encodeURIComponent(t)}`,e,r)).did}}const Le=new Gl,ke={SELECTED_LIST:"bluesky_selected_list",LISTS:"bluesky_lists"};function Zl(){const{subscribe:s,update:e}=qs({selectedList:null,userLists:[],listMembers:[],listMemberProfiles:[],isLoading:!1,error:null});let t=!1,r=new Map;return{subscribe:s,setSelectedList:n=>{n?localStorage.setItem(ke.SELECTED_LIST,JSON.stringify(n)):localStorage.removeItem(ke.SELECTED_LIST),e(l=>({...l,selectedList:n,isLoadingList:!!n,listMembers:[],listMemberProfiles:[]})),r.clear()},setListLoading:n=>{e(l=>({...l,isLoadingList:n}))},setUserLists:n=>{localStorage.setItem(ke.LISTS,JSON.stringify(n)),e(l=>({...l,userLists:n}))},insertNewList:(n,l=!0)=>{!n||!n.uri||(e(o=>{const a=[n,...o.userLists];return localStorage.setItem(ke.LISTS,JSON.stringify(a)),l&&localStorage.setItem(ke.SELECTED_LIST,JSON.stringify(n)),{...o,userLists:a,selectedList:l?n:o.selectedList,isLoadingList:!!l}}),r.clear())},setListMembers:n=>{e(l=>({...l,listMembers:n}))},isProfileInCurrentList:n=>{let l=!1;return e(o=>(l=o.listMembers.includes(n),o)),l},async isProfileInEntireList(n,l,o="app_password"){var u;let a;e(f=>(a=f,f));const d=`${(u=a.selectedList)==null?void 0:u.uri}-${l}`;if(r.has(d))return r.get(d);if(a.listMembers.includes(l))return r.set(d,!0),!0;try{let f=null;const p=100;do{const h=await Le.getListMembers(n,a.selectedList.uri,o,p,f);if(h.members.includes(l))return r.set(d,!0),!0;f=h.cursor}while(f);return r.set(d,!1),!1}catch(f){console.error("Error checking profile membership:",f);const p=a.listMembers.includes(l);return r.set(d,p),p}},setListMemberProfiles:n=>{e(l=>({...l,listMemberProfiles:n}))},addProfileToList:n=>{e(l=>{const o=l.listMembers.includes(n)?l.listMembers:[n,...l.listMembers];return{...l,listMembers:o}})},addProfileToDisplay:n=>{e(l=>{if(l.listMembers.indexOf(n.did)<25){const a=[n,...l.listMemberProfiles];return{...l,listMemberProfiles:a.slice(0,25)}}return l})},fetchAndAddProfile:(n,l,o="oauth")=>t?Promise.resolve():(t=!0,new Promise(async a=>{try{const d=await Le.getProfiles(n,[l],o);if(d.length>0){const u=d[0];e(f=>{const p=f.listMembers.includes(l)?f.listMembers:[l,...f.listMembers];if(p.indexOf(l)<25){const b=f.listMemberProfiles.filter(y=>y.did!==l),_=[u,...b];return{...f,listMembers:p,listMemberProfiles:_.slice(0,25)}}return{...f,listMembers:p}}),e(f=>{console.log("Updating member count for DID:",l),console.log("Current selectedList:",f.selectedList),console.log("Current userLists:",f.userLists),console.log("Incrementing member count for successfully added profile");const p=f.selectedList?{...f.selectedList,listItemCount:(f.selectedList.listItemCount||0)+1}:null,h=f.userLists.map(b=>{var _;return b.uri===((_=f.selectedList)==null?void 0:_.uri)?{...b,memberCount:(b.memberCount||0)+1}:b});return console.log("Updated selectedList:",p),console.log("Updated userLists:",h),p&&localStorage.setItem(ke.SELECTED_LIST,JSON.stringify(p)),localStorage.setItem(ke.LISTS,JSON.stringify(h)),{...f,selectedList:p,userLists:h}})}}catch(d){console.error("Failed to fetch profile data:",d),e(u=>{const f=u.listMembers.includes(l)?u.listMembers:[l,...u.listMembers];return{...u,listMembers:f}}),e(u=>{console.log("Updating member count for DID (error case):",l),console.log("Incrementing member count for profile (error case)");const f=u.selectedList?{...u.selectedList,listItemCount:(u.selectedList.listItemCount||0)+1}:null,p=u.userLists.map(h=>{var b;return h.uri===((b=u.selectedList)==null?void 0:b.uri)?{...h,memberCount:(h.memberCount||0)+1}:h});return f&&localStorage.setItem(ke.SELECTED_LIST,JSON.stringify(f)),localStorage.setItem(ke.LISTS,JSON.stringify(p)),{...u,selectedList:f,userLists:p}})}finally{t=!1}a()})),refreshListMembers:()=>{e(n=>({...n,refreshTrigger:Date.now()}))},setLoading:n=>{e(l=>({...l,isLoading:n}))},setError:n=>{e(l=>({...l,error:n,isLoading:!1}))},getSelectedList:()=>{const n=localStorage.getItem(ke.SELECTED_LIST);if(n)try{return JSON.parse(n)}catch{localStorage.removeItem(ke.SELECTED_LIST)}return null},getUserLists:()=>{const n=localStorage.getItem(ke.LISTS);if(n)try{return JSON.parse(n)}catch{localStorage.removeItem(ke.LISTS)}return[]},clearSelectedList:()=>{localStorage.removeItem(ke.SELECTED_LIST),e(n=>({...n,selectedList:null}))},async getAllListMemberDids(n,l="app_password"){let o;if(e(d=>(o=d,d)),!o.selectedList)return new Set;const a=`${o.selectedList.uri}-all-dids`;if(r.has(a))return r.get(a);try{let d=new Set,u=null;const f=100;do{const p=await Le.getListMembers(n,o.selectedList.uri,l,f,u);p.members.forEach(h=>d.add(h)),u=p.cursor}while(u);return r.set(a,d),d}catch(d){console.error("Error getting all list member DIDs:",d);const u=new Set(o.listMembers);return r.set(a,u),u}}}}const pe=Zl();function Xl(s){let e,t,r,n,l,o,a,d,u,f,p,h,b;return{c(){e=m("div"),t=m("label"),t.textContent="Handle",r=w(),n=m("input"),l=w(),o=m("div"),a=m("label"),a.textContent="App Password",d=w(),u=m("input"),f=w(),p=m("p"),p.textContent="Use an app password, not your main account password",c(t,"for","handle"),c(t,"class","block text-sm font-medium text-gray-700 mb-1"),c(n,"id","handle"),c(n,"type","text"),c(n,"placeholder","your-handle.bsky.social"),c(n,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),n.required=!0,c(a,"for","password"),c(a,"class","block text-sm font-medium text-gray-700 mb-1"),c(u,"id","password"),c(u,"type","password"),c(u,"placeholder","Your app password"),c(u,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),u.required=!0,c(p,"class","text-xs text-gray-500 mt-1")},m(_,y){P(_,e,y),i(e,t),i(e,r),i(e,n),be(n,s[0]),P(_,l,y),P(_,o,y),i(o,a),i(o,d),i(o,u),be(u,s[1]),i(o,f),i(o,p),h||(b=[ie(n,"input",s[11]),ie(u,"input",s[12])],h=!0)},p(_,y){y&1&&n.value!==_[0]&&be(n,_[0]),y&2&&u.value!==_[1]&&be(u,_[1])},d(_){_&&(A(e),A(l),A(o)),h=!1,Me(b)}}}function Ql(s){let e;return{c(){e=m("div"),e.innerHTML=`<div class="flex items-start"><div class="flex-shrink-0"><svg class="h-5 w-5 text-blue-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-blue-800">Secure OAuth Login</h3> <div class="mt-2 text-sm text-blue-700"><p>You&#39;ll be redirected to Bluesky to sign in securely. No passwords are stored on
										this site.</p></div></div></div>`,c(e,"class","bg-blue-50 border-2 border-blue-200 rounded-lg p-4")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function Kr(s){let e,t,r;return{c(){e=m("div"),t=m("p"),r=C(s[3]),c(t,"class","text-red-700 text-sm"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-3")},m(n,l){P(n,e,l),i(e,t),i(t,r)},p(n,l){l&8&&q(r,n[3])},d(n){n&&A(e)}}}function ei(s){let e;return{c(){e=C("Sign In")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function ti(s){let e;return{c(){e=C("Sign in with Bluesky")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function si(s){let e,t,r;function n(a,d){return a[4]==="oauth"?ni:ri}let l=n(s),o=l(s);return{c(){e=m("span"),t=w(),o.c(),r=rt(),c(e,"class","loading-spinner mr-2 svelte-165a6uh")},m(a,d){P(a,e,d),P(a,t,d),o.m(a,d),P(a,r,d)},p(a,d){l!==(l=n(a))&&(o.d(1),o=l(a),o&&(o.c(),o.m(r.parentNode,r)))},d(a){a&&(A(e),A(t),A(r)),o.d(a)}}}function ri(s){let e;return{c(){e=C("Signing in...")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function ni(s){let e;return{c(){e=C("Connecting...")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function li(s){let e,t,r,n,l,o,a,d,u,f,p,h,b,_,y,S,E,x,I,O,K,D,B,M,U,L,R,N,te,T,W,J,G,ue,Z,v,g,z,k,F,$,se;function V(j,ce){return j[4]==="oauth"?Ql:Xl}let Y=V(s),H=Y(s),X=s[3]&&Kr(s);function oe(j,ce){return j[2]?si:j[4]==="oauth"?ti:ei}let le=oe(s),ee=le(s);return F=In(s[9][0]),{c(){e=m("div"),t=m("button"),r=w(),n=m("div"),l=m("div"),o=m("h2"),o.textContent="Sign in to Bluesky",a=w(),d=m("button"),d.textContent="",u=w(),f=m("form"),p=m("div"),h=m("div"),b=m("fieldset"),_=m("legend"),_.textContent="Sign in with:",y=w(),S=m("div"),E=m("div"),x=m("label"),I=m("input"),O=w(),K=m("span"),K.textContent="OAuth",D=w(),B=m("span"),B.textContent="Recommended",M=w(),U=m("p"),U.textContent="Secure OAuth login with Bluesky. No passwords stored on this site.",L=w(),R=m("label"),N=m("input"),te=w(),T=m("span"),T.textContent="App Password",W=w(),J=m("p"),J.textContent="Traditional login using your Bluesky handle and app password.",G=w(),H.c(),ue=w(),X&&X.c(),Z=w(),v=m("div"),g=m("button"),g.textContent="Cancel",z=w(),k=m("button"),ee.c(),c(t,"class","absolute inset-0 w-full h-full bg-transparent border-0 cursor-default"),c(t,"aria-label","Close modal"),c(t,"type","button"),c(o,"class","text-xl font-semibold text-slate-800"),c(d,"class","text-gray-400 hover:text-gray-600 text-2xl font-bold"),c(l,"class","flex items-center justify-between mb-4"),c(_,"class","block text-sm font-medium text-gray-700 mb-2"),c(I,"type","radio"),I.__value="oauth",be(I,I.__value),c(I,"class","mr-2"),c(K,"class","text-sm font-medium"),c(B,"class","ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"),c(x,"class","flex items-center"),c(U,"class","text-xs text-gray-500 ml-6 mt-1"),c(E,"class","mb-4"),c(N,"type","radio"),N.__value="app_password",be(N,N.__value),c(N,"class","mr-2"),c(T,"class","text-sm"),c(J,"class","text-xs text-gray-500 ml-6 mt-1"),c(R,"class","flex items-center"),c(S,"class","space-y-2"),c(g,"type","button"),c(g,"class","flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200"),c(k,"type","submit"),k.disabled=s[2],c(k,"class","flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200"),c(v,"class","flex space-x-3 pt-2"),c(p,"class","space-y-4"),c(n,"class","bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative z-10"),c(n,"role","document"),c(n,"id","sign-in-modal-content"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"),c(e,"role","dialog"),c(e,"aria-modal","true"),c(e,"tabindex","-1"),c(e,"id","sign-in-modal"),F.p(I,N)},m(j,ce){P(j,e,ce),i(e,t),i(e,r),i(e,n),i(n,l),i(l,o),i(l,a),i(l,d),i(n,u),i(n,f),i(f,p),i(p,h),i(h,b),i(b,_),i(b,y),i(b,S),i(S,E),i(E,x),i(x,I),I.checked=I.__value===s[4],i(x,O),i(x,K),i(x,D),i(x,B),i(E,M),i(E,U),i(S,L),i(S,R),i(R,N),N.checked=N.__value===s[4],i(R,te),i(R,T),i(R,W),i(R,J),i(p,G),H.m(p,null),i(p,ue),X&&X.m(p,null),i(p,Z),i(p,v),i(v,g),i(v,z),i(v,k),ee.m(k,null),$||(se=[ie(t,"click",s[7]),ie(d,"click",s[6]),ie(I,"change",s[8]),ie(N,"change",s[10]),ie(g,"click",s[6]),ie(f,"submit",Js(s[5])),ie(e,"keydown",s[13])],$=!0)},p(j,[ce]){ce&16&&(I.checked=I.__value===j[4]),ce&16&&(N.checked=N.__value===j[4]),Y===(Y=V(j))&&H?H.p(j,ce):(H.d(1),H=Y(j),H&&(H.c(),H.m(p,ue))),j[3]?X?X.p(j,ce):(X=Kr(j),X.c(),X.m(p,Z)):X&&(X.d(1),X=null),le===(le=oe(j))&&ee?ee.p(j,ce):(ee.d(1),ee=le(j),ee&&(ee.c(),ee.m(k,null))),ce&4&&(k.disabled=j[2])},i:ne,o:ne,d(j){j&&A(e),H.d(),X&&X.d(),ee.d(),F.r(),$=!1,Me(se)}}}function ii(s,e,t){const r=Dn();let n="",l="",o=!1,a="",d="oauth";async function u(){t(2,o=!0),t(3,a="");try{await Zn()}catch(O){t(3,a=O.message||"Failed to start OAuth flow"),t(2,o=!1)}}async function f(){if(!n||!l){t(3,a="Please enter both handle and password");return}t(2,o=!0),t(3,a="");try{const O=await Le.signIn(n,l);Ue.setSession(O,It.APP_PASSWORD),r("close")}catch(O){t(3,a=O.message||"Failed to sign in. Please check your credentials.")}finally{t(2,o=!1)}}async function p(){d==="oauth"?await u():await f()}function h(){r("close")}function b(){h()}const _=[[]];function y(){d=this.__value,t(4,d)}function S(){d=this.__value,t(4,d)}function E(){n=this.value,t(0,n)}function x(){l=this.value,t(1,l)}return[n,l,o,a,d,p,h,b,y,_,S,E,x,O=>O.key==="Escape"&&h()]}class Xn extends Oe{constructor(e){super(),De(this,e,ii,li,Ae,{})}}function Nr(s){let e,t;return{c(){e=m("div"),t=C(s[4]),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700")},m(r,n){P(r,e,n),i(e,t)},p(r,n){n&16&&q(t,r[4])},d(r){r&&A(e)}}}function oi(s){let e;return{c(){e=C("Create")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function ai(s){let e;return{c(){e=C("Creating...")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function ci(s){let e,t,r,n,l,o,a,d,u,f,p,h,b,_,y,S,E,x,I,O,K,D,B,M,U,L,R,N,te,T,W,J,G,ue,Z,v,g,z,k,F,$,se,V,Y,H=s[4]&&Nr(s);function X(ee,j){return ee[3]?ai:oi}let oe=X(s),le=oe(s);return se=In(s[10][0]),{c(){e=m("div"),t=m("button"),r=w(),n=m("div"),l=m("div"),o=m("h2"),o.textContent="Create New List",a=w(),d=m("button"),d.textContent="",u=w(),f=m("form"),p=m("div"),h=m("div"),b=m("label"),b.textContent="Name",_=w(),y=m("input"),S=w(),E=m("div"),x=m("label"),x.textContent="Description (optional)",I=w(),O=m("textarea"),K=w(),D=m("div"),B=m("fieldset"),M=m("legend"),M.textContent="Purpose",U=w(),L=m("div"),R=m("label"),N=m("input"),te=w(),T=m("span"),T.textContent="Curated list",W=w(),J=m("label"),G=m("input"),ue=w(),Z=m("span"),Z.textContent="Moderation list",v=w(),H&&H.c(),g=w(),z=m("div"),k=m("button"),k.textContent="Cancel",F=w(),$=m("button"),le.c(),c(t,"class","absolute inset-0 w-full h-full bg-transparent border-0"),c(t,"aria-label","Close"),c(o,"class","text-xl font-semibold text-slate-800"),c(d,"class","text-gray-400 hover:text-gray-600 text-2xl font-bold"),c(l,"class","flex items-center justify-between mb-4"),c(b,"class","block text-sm font-medium text-gray-700 mb-1"),c(b,"for","list-name"),c(y,"id","list-name"),c(y,"type","text"),y.required=!0,c(y,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),c(x,"class","block text-sm font-medium text-gray-700 mb-1"),c(x,"for","list-description"),c(O,"id","list-description"),c(O,"rows","3"),c(O,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"),c(M,"class","block text-sm font-medium text-gray-700 mb-2"),c(N,"type","radio"),c(N,"name","purpose"),N.__value="app.bsky.graph.defs#curatelist",be(N,N.__value),c(N,"class","mr-2"),c(T,"class","text-sm"),c(R,"class","flex items-center"),c(G,"type","radio"),c(G,"name","purpose"),G.__value="app.bsky.graph.defs#modlist",be(G,G.__value),c(G,"class","mr-2"),c(Z,"class","text-sm"),c(J,"class","flex items-center"),c(L,"class","space-y-2"),c(k,"type","button"),c(k,"class","flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200"),c($,"type","submit"),$.disabled=s[3],c($,"class","flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-200"),c(z,"class","flex space-x-3 pt-2"),c(p,"class","space-y-4"),c(n,"class","bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative z-10"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"),c(e,"role","dialog"),c(e,"aria-modal","true"),se.p(N,G)},m(ee,j){P(ee,e,j),i(e,t),i(e,r),i(e,n),i(n,l),i(l,o),i(l,a),i(l,d),i(n,u),i(n,f),i(f,p),i(p,h),i(h,b),i(h,_),i(h,y),be(y,s[0]),i(p,S),i(p,E),i(E,x),i(E,I),i(E,O),be(O,s[1]),i(p,K),i(p,D),i(D,B),i(B,M),i(B,U),i(B,L),i(L,R),i(R,N),N.checked=N.__value===s[2],i(R,te),i(R,T),i(L,W),i(L,J),i(J,G),G.checked=G.__value===s[2],i(J,ue),i(J,Z),i(p,v),H&&H.m(p,null),i(p,g),i(p,z),i(z,k),i(z,F),i(z,$),le.m($,null),V||(Y=[ie(t,"click",s[5]),ie(d,"click",s[5]),ie(y,"input",s[7]),ie(O,"input",s[8]),ie(N,"change",s[9]),ie(G,"change",s[11]),ie(k,"click",s[5]),ie(f,"submit",Js(s[6]))],V=!0)},p(ee,[j]){j&1&&y.value!==ee[0]&&be(y,ee[0]),j&2&&be(O,ee[1]),j&4&&(N.checked=N.__value===ee[2]),j&4&&(G.checked=G.__value===ee[2]),ee[4]?H?H.p(ee,j):(H=Nr(ee),H.c(),H.m(p,g)):H&&(H.d(1),H=null),oe!==(oe=X(ee))&&(le.d(1),le=oe(ee),le&&(le.c(),le.m($,null))),j&8&&($.disabled=ee[3])},i:ne,o:ne,d(ee){ee&&A(e),H&&H.d(),le.d(),se.r(),V=!1,Me(Y)}}}function ui(s,e,t){let r;Ie(s,Ue,E=>t(12,r=E));const n=Dn();let l="",o="",a="app.bsky.graph.defs#curatelist",d=!1,u="";function f(){n("close")}async function p(){var E;if(t(4,u=""),!l||l.trim().length===0){t(4,u="Please enter a list name");return}t(3,d=!0);try{const x=await Le.createList(r.session,{name:l.trim(),description:o.trim(),purpose:a},r.authType),I=(x==null?void 0:x.uri)||((E=x==null?void 0:x.cid)==null?void 0:E.uri)||null,O=new Date().toISOString(),K={uri:I,name:l.trim(),description:o.trim()||"",purpose:a,createdAt:O,memberCount:0};n("success",K),n("close")}catch(x){t(4,u=(x==null?void 0:x.message)||"Failed to create list")}finally{t(3,d=!1)}}const h=[[]];function b(){l=this.value,t(0,l)}function _(){o=this.value,t(1,o)}function y(){a=this.__value,t(2,a)}function S(){a=this.__value,t(2,a)}return[l,o,a,d,u,f,p,b,_,y,h,S]}class di extends Oe{constructor(e){super(),De(this,e,ui,ci,Ae,{})}}const fi=!0,Ls={staticBase:"static",isDevelopment:!1,isProduction:fi,buildTime:new Date().toISOString(),getAssetPath:s=>`./${s.replace("static/","")}`};function Br(s,e,t){const r=s.slice();return r[15]=e[t],r}function mi(s){let e,t,r;return{c(){e=m("button"),e.textContent=" Sign in with Bluesky",c(e,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-5 py-2.5 rounded-lg text-sm font-medium cursor-pointer transition-colors duration-200"),c(e,"id","sign-in-button")},m(n,l){P(n,e,l),t||(r=ie(e,"click",s[7]),t=!0)},p:ne,d(n){n&&A(e),t=!1,r()}}}function pi(s){let e,t,r,n,l,o,a,d,u,f,p,h,b,_=s[1].session.handle+"",y,S,E,x,I,O,K;function D(L,R){return L[4]?bi:L[5]?gi:hi}let B=D(s),M=B(s),U=s[5]&&Wr(s);return{c(){e=m("div"),t=m("label"),t.textContent="List:",r=w(),n=m("select"),l=m("option"),l.textContent="Select a list...",M.c(),a=w(),U&&U.c(),d=w(),u=m("button"),u.textContent="+ New List",f=w(),p=m("div"),h=m("div"),b=C("@"),y=C(_),S=w(),E=m("button"),E.textContent="Sign out",x=w(),I=m("button"),I.textContent=" Refresh",c(t,"for","list-selector"),c(t,"class","block text-sm font-medium text-gray-700 mb-1 sr-only"),l.__value="",be(l,l.__value),c(n,"id","list-selector"),c(n,"class","w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"),n.disabled=s[4],c(e,"class","flex-1"),c(u,"class","bg-white hover:bg-gray-50 text-slate-700 border border-gray-300 px-3 py-1.5 rounded-lg text-xs cursor-pointer transition-colors duration-200 font-medium"),c(u,"id","new-list-button"),c(u,"title","Create a new list"),c(h,"class","text-sm text-slate-700"),c(E,"class","bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-300 px-3 py-1.5 rounded-lg text-xs cursor-pointer transition-colors duration-200 font-medium"),c(E,"id","sign-out-button"),c(I,"class","bg-blue-100 hover:bg-blue-200 text-slate-700 border border-blue-300 px-3 py-1.5 rounded-lg text-xs cursor-pointer transition-colors duration-200 font-medium ml-2"),c(I,"id","refresh-session-button"),c(p,"class","text-right"),c(p,"id","user-info")},m(L,R){var N;P(L,e,R),i(e,t),i(e,r),i(e,n),i(n,l),M.m(n,null),Tr(n,((N=s[0].selectedList)==null?void 0:N.uri)||""),i(e,a),U&&U.m(e,null),P(L,d,R),P(L,u,R),P(L,f,R),P(L,p,R),i(p,h),i(h,b),i(h,y),i(p,S),i(p,E),i(p,x),i(p,I),O||(K=[ie(n,"change",s[6]),ie(u,"click",s[8]),ie(E,"click",s[12]),ie(I,"click",s[13])],O=!0)},p(L,R){var N,te;B===(B=D(L))&&M?M.p(L,R):(M.d(1),M=B(L),M&&(M.c(),M.m(n,null))),R&1&&o!==(o=((N=L[0].selectedList)==null?void 0:N.uri)||"")&&Tr(n,((te=L[0].selectedList)==null?void 0:te.uri)||""),R&16&&(n.disabled=L[4]),L[5]?U?U.p(L,R):(U=Wr(L),U.c(),U.m(e,null)):U&&(U.d(1),U=null),R&2&&_!==(_=L[1].session.handle+"")&&q(y,_)},d(L){L&&(A(e),A(d),A(u),A(f),A(p)),M.d(),U&&U.d(),O=!1,Me(K)}}}function hi(s){let e,t=ge(s[0].userLists),r=[];for(let n=0;n<t.length;n+=1)r[n]=Ur(Br(s,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=rt()},m(n,l){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(n,l);P(n,e,l)},p(n,l){if(l&1){t=ge(n[0].userLists);let o;for(o=0;o<t.length;o+=1){const a=Br(n,t,o);r[o]?r[o].p(a,l):(r[o]=Ur(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(n){n&&A(e),$e(r,n)}}}function gi(s){let e;return{c(){e=m("option"),e.textContent="Error loading lists",e.disabled=!0,e.__value="Error loading lists",be(e,e.__value)},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function bi(s){let e;return{c(){e=m("option"),e.textContent="Loading lists...",e.disabled=!0,e.__value="Loading lists...",be(e,e.__value)},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function Ur(s){let e,t=s[15].name+"",r,n,l=s[15].memberCount.toLocaleString()+"",o,a,d;return{c(){e=m("option"),r=C(t),n=C(" ("),o=C(l),a=C(` members)
									`),e.__value=d=s[15].uri,be(e,e.__value)},m(u,f){P(u,e,f),i(e,r),i(e,n),i(e,o),i(e,a)},p(u,f){f&1&&t!==(t=u[15].name+"")&&q(r,t),f&1&&l!==(l=u[15].memberCount.toLocaleString()+"")&&q(o,l),f&1&&d!==(d=u[15].uri)&&(e.__value=d,be(e,e.__value))},d(u){u&&A(e)}}}function Wr(s){let e,t;return{c(){e=m("p"),t=C(s[5]),c(e,"class","text-sm text-red-600 mt-1")},m(r,n){P(r,e,n),i(e,t)},p(r,n){n&32&&q(t,r[5])},d(r){r&&A(e)}}}function Hr(s){let e,t;return e=new Xn({}),e.$on("close",s[11]),{c(){Re(e.$$.fragment)},m(r,n){Ce(e,r,n),t=!0},p:ne,i(r){t||(ae(e.$$.fragment,r),t=!0)},o(r){de(e.$$.fragment,r),t=!1},d(r){xe(e,r)}}}function zr(s){let e,t;return e=new di({}),e.$on("close",s[9]),e.$on("success",s[10]),{c(){Re(e.$$.fragment)},m(r,n){Ce(e,r,n),t=!0},p:ne,i(r){t||(ae(e.$$.fragment,r),t=!0)},o(r){de(e.$$.fragment,r),t=!1},d(r){xe(e,r)}}}function yi(s){let e,t,r,n,l,o,a,d,u,f;function p(S,E){return S[1].session?pi:mi}let h=p(s),b=h(s),_=s[2]&&Hr(s),y=s[3]&&zr(s);return{c(){e=m("header"),t=m("div"),r=m("div"),n=m("div"),n.innerHTML=`<h1 class="text-2xl font-bold m-0 text-slate-800 flex items-center gap-2"><img src="${Ls.getAssetPath("static/Bluesky_Logo.svg")}" class="w-6 h-6" alt="Bluesky Logo"/>
					Bluesky List Manager</h1> <p class="text-sm text-slate-600 m-0 mt-1">Manage members in your Bluesky lists</p>`,l=w(),o=m("div"),b.c(),a=w(),_&&_.c(),d=w(),y&&y.c(),u=rt(),c(o,"class","flex items-center space-x-4"),c(r,"class","flex items-center justify-between mb-4"),c(t,"class","max-w-6xl mx-auto px-6 py-4"),c(e,"class","bg-white border-b border-gray-200 sticky top-0 z-50"),c(e,"id","app-header")},m(S,E){P(S,e,E),i(e,t),i(t,r),i(r,n),i(r,l),i(r,o),b.m(o,null),P(S,a,E),_&&_.m(S,E),P(S,d,E),y&&y.m(S,E),P(S,u,E),f=!0},p(S,[E]){h===(h=p(S))&&b?b.p(S,E):(b.d(1),b=h(S),b&&(b.c(),b.m(o,null))),S[2]?_?(_.p(S,E),E&4&&ae(_,1)):(_=Hr(S),_.c(),ae(_,1),_.m(d.parentNode,d)):_&&(ft(),de(_,1,1,()=>{_=null}),mt()),S[3]?y?(y.p(S,E),E&8&&ae(y,1)):(y=zr(S),y.c(),ae(y,1),y.m(u.parentNode,u)):y&&(ft(),de(y,1,1,()=>{y=null}),mt())},i(S){f||(ae(_),ae(y),f=!0)},o(S){de(_),de(y),f=!1},d(S){S&&(A(e),A(a),A(d),A(u)),b.d(),_&&_.d(S),y&&y.d(S)}}}function vi(s,e,t){let r,n;Ie(s,pe,x=>t(0,r=x)),Ie(s,Ue,x=>t(1,n=x));let l=!1,o=!1,a=!1,d="";xs(async()=>{n.session&&await u()});async function u(){if(n.session)try{t(4,a=!0),t(5,d="");const I=(await Le.getUserLists(n.session,n.authType)).map(O=>({uri:O.uri,name:O.name,description:O.description||"",purpose:O.purpose||"app.bsky.graph.defs#modlist",createdAt:O.createdAt,memberCount:O.listItemCount||0})).sort((O,K)=>new Date(K.createdAt)-new Date(O.createdAt));pe.setUserLists(I)}catch(x){console.error("Failed to load user lists:",x),t(5,d=x.message||"Failed to load lists")}finally{t(4,a=!1)}}function f(x){const I=x.target.value;if(I){const O=r.userLists.find(K=>K.uri===I);O&&pe.setSelectedList(O)}else pe.setSelectedList(null)}function p(){t(2,l=!0)}function h(){t(3,o=!0)}function b(){t(3,o=!1)}async function _(x){const I=x.detail;pe.insertNewList(I,!0)}function y(){t(2,l=!1)}function S(){Ue.signOut(),pe.setSelectedList(null)}async function E(){console.log("Manually refreshing session...");const{session:x,authType:I}=await Ue.initializeSession();console.log("Session refresh result:",{session:x,authType:I})}return s.$$.update=()=>{s.$$.dirty&3&&n.session&&r.userLists.length===0&&u(),s.$$.dirty&1&&r.userLists.length>0&&console.log("Header: userLists updated:",r.userLists)},[r,n,l,o,a,d,f,p,h,b,_,y,S,E]}class _i extends Oe{constructor(e){super(),De(this,e,vi,yi,Ae,{})}}function vs(s){s.preventDefault()}var wi=new Set(["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]);function Si(s){if(wi.has(s.key))return vs(s),!1}var _s=new AbortController,hs=_s.signal;function ki(){window.addEventListener("DOMMouseScroll",vs,{signal:hs}),window.addEventListener("wheel",vs,{passive:!1,signal:hs}),window.addEventListener("touchmove",vs,{passive:!1,signal:hs}),window.addEventListener("keydown",Si,{signal:hs})}function Li(){_s==null||_s.abort()}function Ci(s){if(!s)throw new Error("Please specify a container for the zoom image");const e=s.querySelector("img");if(!e)throw new Error("Please place an image inside the container");return e}var xi=50,Mi=()=>({createZoomImage:(e,t,r)=>{if(e.src===t)return;e.src=t;let n=!1;e.onload=()=>{n=!0,r.setState({zoomedImgStatus:"loaded"})},e.onerror=()=>{n=!0,r.setState({zoomedImgStatus:"error"})},setTimeout(()=>{n||r.setState({zoomedImgStatus:"loading"})},xi)}}),Ai=Mi();function Pi(s){let e=new Set,t=!1,r=s,n,l=(a={})=>{n={...n,...a},o()},o=()=>{if(t)return;let a=!1;if(n){for(let d in n)if(r[d]!==n[d]){a=!0;break}}a&&(r={...r,...n},e.forEach(d=>d({state:r,updatedProperties:n})),n=void 0)};return{subscribe:a=>(e.add(a),()=>{e.delete(a)}),cleanup:()=>e.clear(),getState:()=>r,setState:l,batch:a=>{t=!0,a(),t=!1,o()}}}function Ei(s,e={}){var I,O;let t=null;const r=Ci(s),n={zoomFactor:e.zoomFactor??4,zoomImageSource:e.zoomImageSource??r.src,disabledContextMenu:e.disabledContextMenu??!1},{disabledContextMenu:l,zoomFactor:o,zoomImageSource:a}=n,d=Pi({zoomedImgStatus:"idle"}),u=document.createElement("img");(I=e.zoomImageProps)!=null&&I.alt&&(u.alt=e.zoomImageProps.alt),(O=e.zoomImageProps)!=null&&O.className&&(u.className=e.zoomImageProps.className),u.style.maxWidth="none",u.style.position="absolute",u.style.top="0",u.style.left="0",l&&(u.style["-webkit-user-select"]="none",u.style["-webkit-touch-callout"]="none",u.oncontextmenu=()=>!1);const f=K=>t&&K.pointerId===t;function p(K){if(t===null){t=K.pointerId,s.appendChild(u),u.style.display="block";const D=r.clientWidth*o,B=r.clientHeight*o;u.style.width=`${D}px`,u.style.height=`${B}px`,Ai.createZoomImage(u,a,d),S(K),K.pointerType!=="mouse"&&ki()}}function h(K){f(K)&&S(K)}function b(K){f(K)&&(s.contains(u)&&s.removeChild(u),u.style.display="none",u.style.transform="none",Li(),t=null)}const _=K=>{const D=s.clientWidth;return K>0?0:K+D*o<D?-D*(o-1):K},y=K=>{const D=s.clientHeight;return K>0?0:K+D*o<D?-D*(o-1):K};function S(K){u.style.display="block";const D=s.getBoundingClientRect(),B=K.clientX-D.left,M=K.clientY-D.top,U=_(-B*o+B),L=y(-M*o+M);u.style.transform=`translate(${U}px, ${L}px)`}const E=new AbortController,{signal:x}=E;return s.addEventListener("pointerenter",p,{signal:x}),s.addEventListener("pointermove",h,{signal:x}),s.addEventListener("pointerleave",b,{signal:x}),s.addEventListener("touchstart",K=>{l&&K.preventDefault()},{signal:x}),{cleanup:()=>{E.abort(),s.contains(u)&&s.removeChild(u),d.cleanup()},subscribe:d.subscribe,getState:d.getState}}function Ti(){let s;const{set:e,subscribe:t}=qs({zoomedImgStatus:"idle"}),r=(...n)=>{s==null||s.cleanup(),s=Ei(...n),e(s.getState()),s.subscribe(({state:l})=>{e(l)})};return Rn(()=>{s==null||s.cleanup()}),{createZoomImage:r,zoomImageState:{subscribe:t}}}function Ii(s){let e,t,r,n;return{c(){e=m("div"),t=m("img"),st(t.src,r=s[0])||c(t,"src",r),c(t,"alt",s[1]),c(t,"class","base-image svelte-6dnnuj"),fe(t,"width","100%"),fe(t,"height","100%"),fe(t,"object-fit","cover"),c(e,"class",n="zoom-image-container "+s[4]+" svelte-6dnnuj"),fe(e,"width",s[2]),fe(e,"height",s[3]),fe(e,"overflow","hidden"),fe(e,"position","relative"),c(e,"id","zoomable-image-"+Math.random().toString(36).substr(2,9))},m(l,o){P(l,e,o),i(e,t),s[7](e)},p(l,[o]){o&1&&!st(t.src,r=l[0])&&c(t,"src",r),o&2&&c(t,"alt",l[1]),o&16&&n!==(n="zoom-image-container "+l[4]+" svelte-6dnnuj")&&c(e,"class",n),o&4&&fe(e,"width",l[2]),o&8&&fe(e,"height",l[3])},i:ne,o:ne,d(l){l&&A(e),s[7](null)}}}function Ri(s,e,t){let{src:r=""}=e,{alt:n=""}=e,{width:l="auto"}=e,{height:o="auto"}=e,{className:a=""}=e,{zoomFactor:d=2}=e,u,f;const{createZoomImage:p}=Ti();xs(()=>{u&&(f=p(u,{zoomFactor:d,zoomImageSource:r,zoomImageProps:{alt:n,className:"zoom-image"}}))}),Rn(()=>{f&&f.cleanup&&f.cleanup()});function h(b){Ss[b?"unshift":"push"](()=>{u=b,t(5,u)})}return s.$$set=b=>{"src"in b&&t(0,r=b.src),"alt"in b&&t(1,n=b.alt),"width"in b&&t(2,l=b.width),"height"in b&&t(3,o=b.height),"className"in b&&t(4,a=b.className),"zoomFactor"in b&&t(6,d=b.zoomFactor)},[r,n,l,o,a,u,d,h]}class Di extends Oe{constructor(e){super(),De(this,e,Ri,Ii,Ae,{src:0,alt:1,width:2,height:3,className:4,zoomFactor:6})}}function Fr(s){let e,t;return e=new Xn({}),e.$on("close",s[2]),{c(){Re(e.$$.fragment)},m(r,n){Ce(e,r,n),t=!0},p:ne,i(r){t||(ae(e.$$.fragment,r),t=!0)},o(r){de(e.$$.fragment,r),t=!1},d(r){xe(e,r)}}}function Oi(s){let e,t,r,n,l,o,a,d,u,f,p,h,b,_,y,S,E,x,I,O,K,D,B,M,U,L,R,N,te,T,W,J,G,ue;h=new Di({props:{src:Ls.getAssetPath("static/screencapture.png"),alt:"Bluesky List Manager Preview - Showing list statistics and member management interface",width:"100%",height:"auto",className:"screenshot-zoom-image",zoomFactor:3}});let Z=s[0]&&Fr(s);return{c(){e=m("div"),t=m("div"),t.innerHTML=`<div class="text-6xl mb-4"><img src="${Ls.getAssetPath("static/Bluesky_Logo.svg")}" class="w-16 h-16 mx-auto" alt="Bluesky Logo"/></div> <h2 class="text-4xl font-bold text-slate-800 mb-4">Bluesky List Manager</h2> <p class="text-xl text-slate-600 mb-2">Manage your lists like a pro.</p> <p class="text-xl text-slate-600 mb-6"><strong class="text-blue-600">Get insights and powerful tools to grow your curated lists.</strong></p>`,r=w(),n=m("div"),l=m("button"),l.textContent=" Sign in with Bluesky to manage your lists",o=w(),a=m("p"),a.textContent="100% free  No registration required  Works instantly  Zero data stored on our servers",d=w(),u=m("div"),f=m("div"),p=m("div"),Re(h.$$.fragment),b=w(),_=m("div"),_.innerHTML='<div class="zoom-hint svelte-1yo3qq9"> Move mouse to zoom and explore the interface</div>',y=w(),S=m("p"),S.textContent="See your list insights and manage members with powerful analytics",E=w(),x=m("div"),x.innerHTML='<div class="bg-red-50 p-6 rounded-lg border border-red-200"><h3 class="text-lg font-semibold text-red-800 mb-3"> The Manual Way (Slow &amp; Painful)</h3> <ul class="space-y-2 text-red-700"><li class="flex items-start"><span class="text-red-500 mr-2"></span> <span>Search one profile at a time</span></li> <li class="flex items-start"><span class="text-red-500 mr-2"></span> <span>Forget who you&#39;ve already added</span></li> <li class="flex items-start"><span class="text-red-500 mr-2"></span> <span>Hours of repetitive clicking</span></li></ul></div> <div class="bg-green-50 p-6 rounded-lg border border-green-200"><h3 class="text-lg font-semibold text-green-800 mb-3"> The Smart Way (Fast &amp; Easy)</h3> <ul class="space-y-2 text-green-700"><li class="flex items-start"><span class="text-green-500 mr-2"></span> <span><strong>Bulk search</strong> by keywords, bio, or handle</span></li> <li class="flex items-start"><span class="text-green-500 mr-2"></span> <span><strong>Instant filtering</strong> - see who&#39;s already in your list</span></li> <li class="flex items-start"><span class="text-green-500 mr-2"></span> <span><strong>Minutes instead of hours</strong></span></li></ul></div>',I=w(),O=m("div"),O.innerHTML='<h3 class="text-lg font-semibold text-blue-800 mb-4"> Perfect for:</h3> <div class="grid md:grid-cols-3 gap-4 text-blue-700"><div class="text-center"><div class="text-2xl mb-2"></div> <div class="font-medium">Community Builders</div> <div class="text-sm">Grow your curated lists quickly</div></div> <div class="text-center"><div class="text-2xl mb-2"></div> <div class="font-medium">Content Creators</div> <div class="text-sm">Find your target audience</div></div> <div class="text-center"><div class="text-2xl mb-2"></div> <div class="font-medium">List Managers</div> <div class="text-sm">Maintain and expand your lists</div></div></div>',K=w(),D=m("div"),D.innerHTML='<h3 class="text-lg font-semibold text-purple-800 mb-3"> Key Features</h3> <div class="grid md:grid-cols-2 gap-4 text-purple-700"><div><div class="font-medium mb-1"> Smart Search</div> <div class="text-sm">Search across bios, display names, and handles with powerful filters</div></div> <div><div class="font-medium mb-1"> Real-time Stats</div> <div class="text-sm">See engagement rates, verification status, and growth metrics</div></div> <div><div class="font-medium mb-1"> Privacy First</div> <div class="text-sm">Client-side app - your data never leaves your browser</div></div></div>',B=w(),M=m("div"),M.innerHTML=`<h3 class="text-lg font-semibold text-gray-800 mb-3"> Privacy &amp; Security</h3> <p class="text-gray-700 mb-3">This is a <strong>client-side application</strong>. Your Bluesky credentials are stored
			locally in your browser and are never sent to our servers. We only communicate directly with
			Bluesky&#39;s API using your authentication token.</p> <p class="text-sm text-gray-600"><strong>Your data stays private and secure.</strong> Feel free to inspect the source code (and
			contribute!) on
			<a href="https://github.com/pixeline/bluesky-profile-catcher" class="text-gray-600 hover:text-gray-700 underline">GitHub</a>.</p>`,U=w(),L=m("div"),R=m("button"),R.textContent=" Start Building Better Lists - Sign in with Bluesky",N=w(),te=m("p"),te.textContent="100% free  No registration required  Works instantly  Zero data stored on our servers",T=w(),Z&&Z.c(),W=rt(),c(t,"class","text-center mb-8"),c(l,"class","bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0 px-8 py-4 rounded-lg text-xl font-medium cursor-pointer transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"),c(l,"id","auth-sign-in-button"),c(a,"class","text-sm text-gray-500 mt-3"),c(n,"class","text-center mb-8"),c(n,"id","auth-cta"),c(_,"class","zoom-overlay svelte-1yo3qq9"),c(p,"class","screenshot-container svelte-1yo3qq9"),c(S,"class","text-sm text-gray-600 mt-4"),c(f,"class","bg-gray-50 p-6 rounded-lg border border-gray-200"),c(u,"class","mb-8 text-center"),c(x,"class","grid md:grid-cols-2 gap-8 mb-8"),c(O,"class","bg-blue-50 p-6 rounded-lg border border-blue-200 mb-8"),c(D,"class","bg-purple-50 p-6 rounded-lg border border-purple-200 mb-8"),c(M,"class","bg-gray-50 p-6 rounded-lg border border-gray-200 mb-8"),c(R,"class","bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0 px-8 py-4 rounded-lg text-xl font-medium cursor-pointer transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"),c(te,"class","text-sm text-gray-500 mt-3"),c(L,"class","text-center"),c(e,"class","bg-white p-8 rounded-lg shadow-sm border border-gray-200 max-w-4xl mx-auto relative z-100"),c(e,"id","auth-instructions")},m(v,g){P(v,e,g),i(e,t),i(e,r),i(e,n),i(n,l),i(n,o),i(n,a),i(e,d),i(e,u),i(u,f),i(f,p),Ce(h,p,null),i(p,b),i(p,_),i(f,y),i(f,S),i(e,E),i(e,x),i(e,I),i(e,O),i(e,K),i(e,D),i(e,B),i(e,M),i(e,U),i(e,L),i(L,R),i(L,N),i(L,te),P(v,T,g),Z&&Z.m(v,g),P(v,W,g),J=!0,G||(ue=[ie(l,"click",s[1]),ie(R,"click",s[1])],G=!0)},p(v,[g]){v[0]?Z?(Z.p(v,g),g&1&&ae(Z,1)):(Z=Fr(v),Z.c(),ae(Z,1),Z.m(W.parentNode,W)):Z&&(ft(),de(Z,1,1,()=>{Z=null}),mt())},i(v){J||(ae(h.$$.fragment,v),ae(Z),J=!0)},o(v){de(h.$$.fragment,v),de(Z),J=!1},d(v){v&&(A(e),A(T),A(W)),xe(h),Z&&Z.d(v),G=!1,Me(ue)}}}function Ki(s,e,t){let r=!1;function n(){t(0,r=!0)}function l(){t(0,r=!1)}return[r,n,l]}class Ni extends Oe{constructor(e){super(),De(this,e,Ki,Oi,Ae,{})}}function Bi(s){let e,t,r;return{c(){e=m("h3"),e.textContent="Select a List",t=w(),r=m("p"),r.textContent="Choose a list from the dropdown above to get started.",c(e,"class","text-lg font-semibold text-slate-800 mb-2"),c(r,"class","text-slate-600")},m(n,l){P(n,e,l),P(n,t,l),P(n,r,l)},d(n){n&&(A(e),A(t),A(r))}}}function Ui(s){let e,t,r;return{c(){e=m("h3"),e.textContent="No Lists Found",t=w(),r=m("p"),r.textContent="You don't have any lists yet. Create a list on Bluesky first!",c(e,"class","text-lg font-semibold text-slate-800 mb-2"),c(r,"class","text-slate-600")},m(n,l){P(n,e,l),P(n,t,l),P(n,r,l)},d(n){n&&(A(e),A(t),A(r))}}}function Wi(s){let e,t,r,n,l,o,a;function d(p,h){return p[0].userLists.length===0?Ui:Bi}let u=d(s),f=u(s);return{c(){e=m("div"),t=m("div"),r=m("div"),r.innerHTML='<h2 class="text-2xl font-bold text-slate-800 mb-2">Welcome to Bluesky List Manager</h2> <p class="text-slate-600">Select a list from the dropdown in the header above to start managing your Bluesky lists.</p>',n=w(),l=m("div"),o=m("div"),o.innerHTML=`<img src="${Ls.getAssetPath("static/Bluesky_Logo.svg")}" class="w-16 h-16 mx-auto grayscale opacity-10" alt="Bluesky Logo"/>`,a=w(),f.c(),c(r,"class","text-center mb-8"),c(o,"class","text-4xl mb-4"),c(l,"class","text-center py-12"),c(t,"class","bg-white p-8 rounded-lg shadow-sm border border-gray-200"),c(t,"id","list-selector-content"),c(e,"class","max-w-4xl mx-auto"),c(e,"id","list-selector")},m(p,h){P(p,e,h),i(e,t),i(t,r),i(t,n),i(t,l),i(l,o),i(l,a),f.m(l,null)},p(p,[h]){u!==(u=d(p))&&(f.d(1),f=u(p),f&&(f.c(),f.m(l,null)))},i:ne,o:ne,d(p){p&&A(e),f.d()}}}function Hi(s,e,t){let r;return Ie(s,pe,n=>t(0,r=n)),[r]}class zi extends Oe{constructor(e){super(),De(this,e,Hi,Wi,Ae,{})}}function Fi(s){let e,t,r,n,l,o,a,d,u,f,p,h=(s[0].displayName||s[0].handle)+"",b,_,y,S,E=s[0].handle+"",x,I,O,K,D=s[0].description&&Jr(s);function B(L,R){if(L[3]==="Already in list")return Vi;if(L[3]==="New candidate")return $i;if(L[6])return qi;if(L[2])return ji}let M=B(s),U=M&&M(s);return{c(){e=m("div"),t=m("div"),r=m("div"),n=m("img"),d=w(),u=m("div"),f=m("div"),p=m("h3"),b=C(h),_=w(),y=m("span"),S=C("@"),x=C(E),I=w(),D&&D.c(),O=w(),U&&U.c(),st(n.src,l=Cs(s[0]))||c(n,"src",l),c(n,"alt",o=s[0].displayName||s[0].handle),c(n,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(n,"onerror",a="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(s[0].displayName||s[0].handle)+"&background=6366f1&color=fff&size=64'"),c(r,"class","flex-shrink-0"),c(p,"class","text-base font-semibold text-gray-900 truncate"),c(y,"class","text-sm text-gray-600 truncate"),c(f,"class","flex items-center space-x-2 mb-1"),c(u,"class","flex-1 min-w-0"),c(t,"class","flex items-start space-x-3"),c(e,"class","profile-card bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200"),c(e,"id",K="profile-card-"+s[0].did)},m(L,R){P(L,e,R),i(e,t),i(t,r),i(r,n),i(t,d),i(t,u),i(u,f),i(f,p),i(p,b),i(f,_),i(f,y),i(y,S),i(y,x),i(u,I),D&&D.m(u,null),i(u,O),U&&U.m(u,null)},p(L,R){R&1&&!st(n.src,l=Cs(L[0]))&&c(n,"src",l),R&1&&o!==(o=L[0].displayName||L[0].handle)&&c(n,"alt",o),R&1&&a!==(a="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(L[0].displayName||L[0].handle)+"&background=6366f1&color=fff&size=64'")&&c(n,"onerror",a),R&1&&h!==(h=(L[0].displayName||L[0].handle)+"")&&q(b,h),R&1&&E!==(E=L[0].handle+"")&&q(x,E),L[0].description?D?D.p(L,R):(D=Jr(L),D.c(),D.m(u,O)):D&&(D.d(1),D=null),M===(M=B(L))&&U?U.p(L,R):(U&&U.d(1),U=M&&M(L),U&&(U.c(),U.m(u,null))),R&1&&K!==(K="profile-card-"+L[0].did)&&c(e,"id",K)},d(L){L&&A(e),D&&D.d(),U&&U.d()}}}function Ji(s){let e,t,r,n,l,o,a,d,u,f,p,h=(s[0].displayName||s[0].handle)+"",b,_,y,S,E=s[0].handle+"",x,I,O,K,D,B,M,U,L,R=s[0].description&&jr(s);function N(W,J){if(W[3]==="Already in list")return eo;if(W[3]==="New candidate")return Qi;if(W[6])return Xi;if(W[2])return Zi}let te=N(s),T=te&&te(s);return{c(){e=m("a"),t=m("div"),r=m("div"),n=m("img"),d=w(),u=m("div"),f=m("div"),p=m("h3"),b=C(h),_=w(),y=m("span"),S=C("@"),x=C(E),I=w(),R&&R.c(),O=w(),T&&T.c(),K=w(),D=m("div"),D.innerHTML='<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>',st(n.src,l=Cs(s[0]))||c(n,"src",l),c(n,"alt",o=s[0].displayName||s[0].handle),c(n,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(n,"onerror",a="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(s[0].displayName||s[0].handle)+"&background=6366f1&color=fff&size=64'"),c(r,"class","flex-shrink-0"),c(p,"class","text-base font-semibold text-gray-900 truncate"),c(y,"class","text-sm text-gray-600 truncate"),c(f,"class","flex items-center space-x-2 mb-1"),c(u,"class","flex-1 min-w-0"),c(D,"class","flex-shrink-0"),c(t,"class","flex items-start space-x-3"),c(e,"href",B="https://bsky.app/profile/"+s[0].handle),c(e,"target","_blank"),c(e,"rel","noopener noreferrer"),c(e,"class","profile-card block bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md hover:border-gray-300 transition-all duration-200"),c(e,"id",M="profile-card-"+s[0].did)},m(W,J){P(W,e,J),i(e,t),i(t,r),i(r,n),i(t,d),i(t,u),i(u,f),i(f,p),i(p,b),i(f,_),i(f,y),i(y,S),i(y,x),i(u,I),R&&R.m(u,null),i(u,O),T&&T.m(u,null),i(t,K),i(t,D),U||(L=ie(e,"click",s[9]),U=!0)},p(W,J){J&1&&!st(n.src,l=Cs(W[0]))&&c(n,"src",l),J&1&&o!==(o=W[0].displayName||W[0].handle)&&c(n,"alt",o),J&1&&a!==(a="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(W[0].displayName||W[0].handle)+"&background=6366f1&color=fff&size=64'")&&c(n,"onerror",a),J&1&&h!==(h=(W[0].displayName||W[0].handle)+"")&&q(b,h),J&1&&E!==(E=W[0].handle+"")&&q(x,E),W[0].description?R?R.p(W,J):(R=jr(W),R.c(),R.m(u,O)):R&&(R.d(1),R=null),te===(te=N(W))&&T?T.p(W,J):(T&&T.d(1),T=te&&te(W),T&&(T.c(),T.m(u,null))),J&1&&B!==(B="https://bsky.app/profile/"+W[0].handle)&&c(e,"href",B),J&1&&M!==(M="profile-card-"+W[0].did)&&c(e,"id",M)},d(W){W&&A(e),R&&R.d(),T&&T.d(),U=!1,L()}}}function Jr(s){let e,t=s[0].description+"",r;return{c(){e=m("p"),r=C(t),c(e,"class","text-sm text-gray-700 mb-3 whitespace-pre-wrap")},m(n,l){P(n,e,l),i(e,r)},p(n,l){l&1&&t!==(t=n[0].description+"")&&q(r,t)},d(n){n&&A(e)}}}function ji(s){let e,t,r,n,l,o;return{c(){e=m("div"),t=m("input"),r=w(),n=m("span"),n.textContent="Select to add to list",c(t,"type","checkbox"),t.checked=s[1],c(t,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"),c(n,"class","text-sm text-gray-600"),c(e,"class","flex items-center space-x-2")},m(a,d){P(a,e,d),i(e,t),i(e,r),i(e,n),l||(o=ie(t,"change",s[7]),l=!0)},p(a,d){d&2&&(t.checked=a[1])},d(a){a&&A(e),l=!1,o()}}}function qi(s){let e;return{c(){e=m("div"),e.innerHTML=`<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"><span class="loading-spinner mr-1"></span>
							Checking...</span>`,c(e,"class","flex items-center space-x-2")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function $i(s){let e,t,r,n,l,o,a;function d(p,h){return p[5]?Gi:Yi}let u=d(s),f=u(s);return{c(){e=m("div"),t=m("span"),r=C(s[3]),n=w(),l=m("button"),f.c(),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"),l.disabled=s[5],c(l,"class","inline-flex items-center px-3 py-1 rounded text-xs font-medium bg-slate-800 hover:bg-slate-700 text-white border-0 cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","flex items-center space-x-2")},m(p,h){P(p,e,h),i(e,t),i(t,r),i(e,n),i(e,l),f.m(l,null),o||(a=ie(l,"click",s[8]),o=!0)},p(p,h){h&8&&q(r,p[3]),u!==(u=d(p))&&(f.d(1),f=u(p),f&&(f.c(),f.m(l,null))),h&32&&(l.disabled=p[5])},d(p){p&&A(e),f.d(),o=!1,a()}}}function Vi(s){let e,t,r;return{c(){e=m("div"),t=m("span"),r=C(s[3]),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"),c(e,"class","flex items-center space-x-2")},m(n,l){P(n,e,l),i(e,t),i(t,r)},p(n,l){l&8&&q(r,n[3])},d(n){n&&A(e)}}}function Yi(s){let e;return{c(){e=C("Add to list")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function Gi(s){let e,t;return{c(){e=m("span"),t=C(`
								Adding...`),c(e,"class","loading-spinner mr-1")},m(r,n){P(r,e,n),P(r,t,n)},d(r){r&&(A(e),A(t))}}}function jr(s){let e,t=s[0].description+"",r;return{c(){e=m("p"),r=C(t),c(e,"class","text-sm text-gray-700 mb-3 whitespace-pre-wrap")},m(n,l){P(n,e,l),i(e,r)},p(n,l){l&1&&t!==(t=n[0].description+"")&&q(r,t)},d(n){n&&A(e)}}}function Zi(s){let e,t,r,n,l,o;return{c(){e=m("div"),t=m("input"),r=w(),n=m("span"),n.textContent="Select to add to list",c(t,"type","checkbox"),t.checked=s[1],c(t,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"),c(n,"class","text-sm text-gray-600"),c(e,"class","flex items-center space-x-2")},m(a,d){P(a,e,d),i(e,t),i(e,r),i(e,n),l||(o=ie(t,"change",s[7]),l=!0)},p(a,d){d&2&&(t.checked=a[1])},d(a){a&&A(e),l=!1,o()}}}function Xi(s){let e;return{c(){e=m("div"),e.innerHTML=`<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"><span class="loading-spinner mr-1"></span>
							Checking...</span>`,c(e,"class","flex items-center space-x-2")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function Qi(s){let e,t,r,n,l,o,a;function d(p,h){return p[5]?so:to}let u=d(s),f=u(s);return{c(){e=m("div"),t=m("span"),r=C(s[3]),n=w(),l=m("button"),f.c(),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"),l.disabled=s[5],c(l,"class","inline-flex items-center px-3 py-1 rounded text-xs font-medium bg-slate-800 hover:bg-slate-700 text-white border-0 cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","flex items-center space-x-2")},m(p,h){P(p,e,h),i(e,t),i(t,r),i(e,n),i(e,l),f.m(l,null),o||(a=ie(l,"click",s[8]),o=!0)},p(p,h){h&8&&q(r,p[3]),u!==(u=d(p))&&(f.d(1),f=u(p),f&&(f.c(),f.m(l,null))),h&32&&(l.disabled=p[5])},d(p){p&&A(e),f.d(),o=!1,a()}}}function eo(s){let e,t,r;return{c(){e=m("div"),t=m("span"),r=C(s[3]),c(t,"class","inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"),c(e,"class","flex items-center space-x-2")},m(n,l){P(n,e,l),i(e,t),i(t,r)},p(n,l){l&8&&q(r,n[3])},d(n){n&&A(e)}}}function to(s){let e;return{c(){e=C("Add to list")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function so(s){let e,t;return{c(){e=m("span"),t=C(`
								Adding...`),c(e,"class","loading-spinner mr-1")},m(r,n){P(r,e,n),P(r,t,n)},d(r){r&&(A(e),A(t))}}}function ro(s){let e;function t(l,o){return l[4]?Ji:Fi}let r=t(s),n=r(s);return{c(){n.c(),e=rt()},m(l,o){n.m(l,o),P(l,e,o)},p(l,[o]){r===(r=t(l))&&n?n.p(l,o):(n.d(1),n=r(l),n&&(n.c(),n.m(e.parentNode,e)))},i:ne,o:ne,d(l){l&&A(e),n.d(l)}}}function Cs(s){return s.avatar?s.avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.displayName||s.handle)}&background=6366f1&color=fff&size=64`}function no(s,e,t){let{profile:r}=e,{isSelected:n=!1}=e,{onSelect:l=()=>{}}=e,{showCheckbox:o=!0}=e,{statusTag:a=null}=e,{clickable:d=!1}=e,{onAddToList:u=()=>{}}=e,{isAddingToList:f=!1}=e,{isCheckingMembership:p=!1}=e;function h(){l(r)}function b(y){y.preventDefault(),y.stopPropagation(),u(r)}function _(y){d&&!o||d&&o&&(y.target.type==="checkbox"||y.target.closest('input[type="checkbox"]'))&&(y.preventDefault(),y.stopPropagation())}return s.$$set=y=>{"profile"in y&&t(0,r=y.profile),"isSelected"in y&&t(1,n=y.isSelected),"onSelect"in y&&t(10,l=y.onSelect),"showCheckbox"in y&&t(2,o=y.showCheckbox),"statusTag"in y&&t(3,a=y.statusTag),"clickable"in y&&t(4,d=y.clickable),"onAddToList"in y&&t(11,u=y.onAddToList),"isAddingToList"in y&&t(5,f=y.isAddingToList),"isCheckingMembership"in y&&t(6,p=y.isCheckingMembership)},[r,n,o,a,d,f,p,h,b,_,l,u]}class lo extends Oe{constructor(e){super(),De(this,e,no,ro,Ae,{profile:0,isSelected:1,onSelect:10,showCheckbox:2,statusTag:3,clickable:4,onAddToList:11,isAddingToList:5,isCheckingMembership:6})}}var Gs={};(function s(e,t,r,n){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;try{var v=new OffscreenCanvas(1,1),g=v.getContext("2d");g.fillRect(0,0,1,1);var z=v.transferToImageBitmap();g.createPattern(z,"no-repeat")}catch{return!1}return!0}();function d(){}function u(v){var g=t.exports.Promise,z=g!==void 0?g:e.Promise;return typeof z=="function"?new z(v):(v(d,d),null)}var f=function(v,g){return{transform:function(z){if(v)return z;if(g.has(z))return g.get(z);var k=new OffscreenCanvas(z.width,z.height),F=k.getContext("2d");return F.drawImage(z,0,0),g.set(z,k),k},clear:function(){g.clear()}}}(a,new Map),p=function(){var v=Math.floor(16.666666666666668),g,z,k={},F=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(g=function($){var se=Math.random();return k[se]=requestAnimationFrame(function V(Y){F===Y||F+v-1<Y?(F=Y,delete k[se],$()):k[se]=requestAnimationFrame(V)}),se},z=function($){k[$]&&cancelAnimationFrame(k[$])}):(g=function($){return setTimeout($,v)},z=function($){return clearTimeout($)}),{frame:g,cancel:z}}(),h=function(){var v,g,z={};function k(F){function $(se,V){F.postMessage({options:se||{},callback:V})}F.init=function(V){var Y=V.transferControlToOffscreen();F.postMessage({canvas:Y},[Y])},F.fire=function(V,Y,H){if(g)return $(V,null),g;var X=Math.random().toString(36).slice(2);return g=u(function(oe){function le(ee){ee.data.callback===X&&(delete z[X],F.removeEventListener("message",le),g=null,f.clear(),H(),oe())}F.addEventListener("message",le),$(V,X),z[X]=le.bind(null,{data:{callback:X}})}),g},F.reset=function(){F.postMessage({reset:!0});for(var V in z)z[V](),delete z[V]}}return function(){if(v)return v;if(!r&&l){var F=["var CONFETTI, SIZE = {}, module = {};","("+s.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{v=new Worker(URL.createObjectURL(new Blob([F])))}catch($){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",$),null}k(v)}return v}}(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(v,g){return g?g(v):v}function y(v){return v!=null}function S(v,g,z){return _(v&&y(v[g])?v[g]:b[g],z)}function E(v){return v<0?0:Math.floor(v)}function x(v,g){return Math.floor(Math.random()*(g-v))+v}function I(v){return parseInt(v,16)}function O(v){return v.map(K)}function K(v){var g=String(v).replace(/[^0-9a-f]/gi,"");return g.length<6&&(g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2]),{r:I(g.substring(0,2)),g:I(g.substring(2,4)),b:I(g.substring(4,6))}}function D(v){var g=S(v,"origin",Object);return g.x=S(g,"x",Number),g.y=S(g,"y",Number),g}function B(v){v.width=document.documentElement.clientWidth,v.height=document.documentElement.clientHeight}function M(v){var g=v.getBoundingClientRect();v.width=g.width,v.height=g.height}function U(v){var g=document.createElement("canvas");return g.style.position="fixed",g.style.top="0px",g.style.left="0px",g.style.pointerEvents="none",g.style.zIndex=v,g}function L(v,g,z,k,F,$,se,V,Y){v.save(),v.translate(g,z),v.rotate($),v.scale(k,F),v.arc(0,0,1,se,V,Y),v.restore()}function R(v){var g=v.angle*(Math.PI/180),z=v.spread*(Math.PI/180);return{x:v.x,y:v.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:v.startVelocity*.5+Math.random()*v.startVelocity,angle2D:-g+(.5*z-Math.random()*z),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:v.color,shape:v.shape,tick:0,totalTicks:v.ticks,decay:v.decay,drift:v.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:v.gravity*3,ovalScalar:.6,scalar:v.scalar,flat:v.flat}}function N(v,g){g.x+=Math.cos(g.angle2D)*g.velocity+g.drift,g.y+=Math.sin(g.angle2D)*g.velocity+g.gravity,g.velocity*=g.decay,g.flat?(g.wobble=0,g.wobbleX=g.x+10*g.scalar,g.wobbleY=g.y+10*g.scalar,g.tiltSin=0,g.tiltCos=0,g.random=1):(g.wobble+=g.wobbleSpeed,g.wobbleX=g.x+10*g.scalar*Math.cos(g.wobble),g.wobbleY=g.y+10*g.scalar*Math.sin(g.wobble),g.tiltAngle+=.1,g.tiltSin=Math.sin(g.tiltAngle),g.tiltCos=Math.cos(g.tiltAngle),g.random=Math.random()+2);var z=g.tick++/g.totalTicks,k=g.x+g.random*g.tiltCos,F=g.y+g.random*g.tiltSin,$=g.wobbleX+g.random*g.tiltCos,se=g.wobbleY+g.random*g.tiltSin;if(v.fillStyle="rgba("+g.color.r+", "+g.color.g+", "+g.color.b+", "+(1-z)+")",v.beginPath(),o&&g.shape.type==="path"&&typeof g.shape.path=="string"&&Array.isArray(g.shape.matrix))v.fill(G(g.shape.path,g.shape.matrix,g.x,g.y,Math.abs($-k)*.1,Math.abs(se-F)*.1,Math.PI/10*g.wobble));else if(g.shape.type==="bitmap"){var V=Math.PI/10*g.wobble,Y=Math.abs($-k)*.1,H=Math.abs(se-F)*.1,X=g.shape.bitmap.width*g.scalar,oe=g.shape.bitmap.height*g.scalar,le=new DOMMatrix([Math.cos(V)*Y,Math.sin(V)*Y,-Math.sin(V)*H,Math.cos(V)*H,g.x,g.y]);le.multiplySelf(new DOMMatrix(g.shape.matrix));var ee=v.createPattern(f.transform(g.shape.bitmap),"no-repeat");ee.setTransform(le),v.globalAlpha=1-z,v.fillStyle=ee,v.fillRect(g.x-X/2,g.y-oe/2,X,oe),v.globalAlpha=1}else if(g.shape==="circle")v.ellipse?v.ellipse(g.x,g.y,Math.abs($-k)*g.ovalScalar,Math.abs(se-F)*g.ovalScalar,Math.PI/10*g.wobble,0,2*Math.PI):L(v,g.x,g.y,Math.abs($-k)*g.ovalScalar,Math.abs(se-F)*g.ovalScalar,Math.PI/10*g.wobble,0,2*Math.PI);else if(g.shape==="star")for(var j=Math.PI/2*3,ce=4*g.scalar,ve=8*g.scalar,ye=g.x,_e=g.y,Ne=5,Pe=Math.PI/Ne;Ne--;)ye=g.x+Math.cos(j)*ve,_e=g.y+Math.sin(j)*ve,v.lineTo(ye,_e),j+=Pe,ye=g.x+Math.cos(j)*ce,_e=g.y+Math.sin(j)*ce,v.lineTo(ye,_e),j+=Pe;else v.moveTo(Math.floor(g.x),Math.floor(g.y)),v.lineTo(Math.floor(g.wobbleX),Math.floor(F)),v.lineTo(Math.floor($),Math.floor(se)),v.lineTo(Math.floor(k),Math.floor(g.wobbleY));return v.closePath(),v.fill(),g.tick<g.totalTicks}function te(v,g,z,k,F){var $=g.slice(),se=v.getContext("2d"),V,Y,H=u(function(X){function oe(){V=Y=null,se.clearRect(0,0,k.width,k.height),f.clear(),F(),X()}function le(){r&&!(k.width===n.width&&k.height===n.height)&&(k.width=v.width=n.width,k.height=v.height=n.height),!k.width&&!k.height&&(z(v),k.width=v.width,k.height=v.height),se.clearRect(0,0,k.width,k.height),$=$.filter(function(ee){return N(se,ee)}),$.length?V=p.frame(le):oe()}V=p.frame(le),Y=oe});return{addFettis:function(X){return $=$.concat(X),H},canvas:v,promise:H,reset:function(){V&&p.cancel(V),Y&&Y()}}}function T(v,g){var z=!v,k=!!S(g||{},"resize"),F=!1,$=S(g,"disableForReducedMotion",Boolean),se=l&&!!S(g||{},"useWorker"),V=se?h():null,Y=z?B:M,H=v&&V?!!v.__confetti_initialized:!1,X=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,oe;function le(j,ce,ve){for(var ye=S(j,"particleCount",E),_e=S(j,"angle",Number),Ne=S(j,"spread",Number),Pe=S(j,"startVelocity",Number),pt=S(j,"decay",Number),$t=S(j,"gravity",Number),ht=S(j,"drift",Number),nt=S(j,"colors",O),Nt=S(j,"ticks",Number),Bt=S(j,"shapes"),Ve=S(j,"scalar"),Ye=!!S(j,"flat"),Ge=D(j),lt=ye,gt=[],bt=v.width*Ge.x,yt=v.height*Ge.y;lt--;)gt.push(R({x:bt,y:yt,angle:_e,spread:Ne,startVelocity:Pe,color:nt[lt%nt.length],shape:Bt[x(0,Bt.length)],ticks:Nt,decay:pt,gravity:$t,drift:ht,scalar:Ve,flat:Ye}));return oe?oe.addFettis(gt):(oe=te(v,gt,Y,ce,ve),oe.promise)}function ee(j){var ce=$||S(j,"disableForReducedMotion",Boolean),ve=S(j,"zIndex",Number);if(ce&&X)return u(function(Pe){Pe()});z&&oe?v=oe.canvas:z&&!v&&(v=U(ve),document.body.appendChild(v)),k&&!H&&Y(v);var ye={width:v.width,height:v.height};V&&!H&&V.init(v),H=!0,V&&(v.__confetti_initialized=!0);function _e(){if(V){var Pe={getBoundingClientRect:function(){if(!z)return v.getBoundingClientRect()}};Y(Pe),V.postMessage({resize:{width:Pe.width,height:Pe.height}});return}ye.width=ye.height=null}function Ne(){oe=null,k&&(F=!1,e.removeEventListener("resize",_e)),z&&v&&(document.body.contains(v)&&document.body.removeChild(v),v=null,H=!1)}return k&&!F&&(F=!0,e.addEventListener("resize",_e,!1)),V?V.fire(j,ye,Ne):le(j,ye,Ne)}return ee.reset=function(){V&&V.reset(),oe&&oe.reset()},ee}var W;function J(){return W||(W=T(null,{useWorker:!0,resize:!0})),W}function G(v,g,z,k,F,$,se){var V=new Path2D(v),Y=new Path2D;Y.addPath(V,new DOMMatrix(g));var H=new Path2D;return H.addPath(Y,new DOMMatrix([Math.cos(se)*F,Math.sin(se)*F,-Math.sin(se)*$,Math.cos(se)*$,z,k])),H}function ue(v){if(!o)throw new Error("path confetti are not supported in this browser");var g,z;typeof v=="string"?g=v:(g=v.path,z=v.matrix);var k=new Path2D(g),F=document.createElement("canvas"),$=F.getContext("2d");if(!z){for(var se=1e3,V=se,Y=se,H=0,X=0,oe,le,ee=0;ee<se;ee+=2)for(var j=0;j<se;j+=2)$.isPointInPath(k,ee,j,"nonzero")&&(V=Math.min(V,ee),Y=Math.min(Y,j),H=Math.max(H,ee),X=Math.max(X,j));oe=H-V,le=X-Y;var ce=10,ve=Math.min(ce/oe,ce/le);z=[ve,0,0,ve,-Math.round(oe/2+V)*ve,-Math.round(le/2+Y)*ve]}return{type:"path",path:g,matrix:z}}function Z(v){var g,z=1,k="#000000",F='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof v=="string"?g=v:(g=v.text,z="scalar"in v?v.scalar:z,F="fontFamily"in v?v.fontFamily:F,k="color"in v?v.color:k);var $=10*z,se=""+$+"px "+F,V=new OffscreenCanvas($,$),Y=V.getContext("2d");Y.font=se;var H=Y.measureText(g),X=Math.ceil(H.actualBoundingBoxRight+H.actualBoundingBoxLeft),oe=Math.ceil(H.actualBoundingBoxAscent+H.actualBoundingBoxDescent),le=2,ee=H.actualBoundingBoxLeft+le,j=H.actualBoundingBoxAscent+le;X+=le+le,oe+=le+le,V=new OffscreenCanvas(X,oe),Y=V.getContext("2d"),Y.font=se,Y.fillStyle=k,Y.fillText(g,ee,j);var ce=1/z;return{type:"bitmap",bitmap:V.transferToImageBitmap(),matrix:[ce,0,0,ce,-X*ce/2,-oe*ce/2]}}t.exports=function(){return J().apply(this,arguments)},t.exports.reset=function(){J().reset()},t.exports.create=T,t.exports.shapeFromPath=ue,t.exports.shapeFromText=Z})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Gs,!1);const Us=Gs.exports;Gs.exports.create;function qr(s,e,t){const r=s.slice();return r[23]=e[t].profile,r[24]=e[t].status,r}function io(s){let e;return{c(){e=C(" Search")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function oo(s){let e,t;return{c(){e=m("span"),t=C(`
						Checking membership...`),c(e,"class","loading-spinner svelte-165a6uh")},m(r,n){P(r,e,n),P(r,t,n)},d(r){r&&(A(e),A(t))}}}function ao(s){let e,t;return{c(){e=m("span"),t=C(`
						Searching...`),c(e,"class","loading-spinner svelte-165a6uh")},m(r,n){P(r,e,n),P(r,t,n)},d(r){r&&(A(e),A(t))}}}function $r(s){let e,t,r;return{c(){e=m("div"),t=m("p"),r=C(s[5]),c(t,"class","text-red-700"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4 mb-6")},m(n,l){P(n,e,l),i(e,t),i(t,r)},p(n,l){l&32&&q(r,n[5])},d(n){n&&A(e)}}}function co(s){let e;return{c(){e=m("div"),e.innerHTML='<div><div class="text-4xl mb-4"></div> <h3 class="text-lg font-semibold text-slate-800 mb-2">Ready to Search</h3> <p class="text-slate-600">Enter keywords above to find profiles to add to your list.</p></div>',c(e,"class","text-center py-8")},m(t,r){P(t,e,r)},p:ne,i:ne,o:ne,d(t){t&&A(e)}}}function uo(s){let e;return{c(){e=m("div"),e.innerHTML='<div><div class="text-4xl mb-4"></div> <h3 class="text-lg font-semibold text-slate-800 mb-2">No Results Found</h3> <p class="text-slate-600">Try different keywords or check your spelling.</p></div>',c(e,"class","text-center py-8")},m(t,r){P(t,e,r)},p:ne,i:ne,o:ne,d(t){t&&A(e)}}}function fo(s){let e,t,r,n=ge(s[8]),l=[];for(let d=0;d<n.length;d+=1)l[d]=Vr(qr(s,n,d));const o=d=>de(l[d],1,1,()=>{l[d]=null});let a=s[6]&&Yr(s);return{c(){e=m("div");for(let d=0;d<l.length;d+=1)l[d].c();t=w(),a&&a.c(),c(e,"class","space-y-4")},m(d,u){P(d,e,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);i(e,t),a&&a.m(e,null),r=!0},p(d,u){if(u&6530){n=ge(d[8]);let f;for(f=0;f<n.length;f+=1){const p=qr(d,n,f);l[f]?(l[f].p(p,u),ae(l[f],1)):(l[f]=Vr(p),l[f].c(),ae(l[f],1),l[f].m(e,t))}for(ft(),f=n.length;f<l.length;f+=1)o(f);mt()}d[6]?a?a.p(d,u):(a=Yr(d),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(d){if(!r){for(let u=0;u<n.length;u+=1)ae(l[u]);r=!0}},o(d){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)de(l[u]);r=!1},d(d){d&&A(e),$e(l,d),a&&a.d()}}}function mo(s){let e;return{c(){e=m("div"),e.innerHTML='<div class="loading-spinner mx-auto mb-4 svelte-165a6uh"></div> <p class="text-slate-600">Checking membership status...</p>',c(e,"class","text-center py-8")},m(t,r){P(t,e,r)},p:ne,i:ne,o:ne,d(t){t&&A(e)}}}function Vr(s){let e,t;return e=new lo({props:{profile:s[23],isSelected:s[1].has(s[23].did),onSelect:s[11],statusTag:s[24],clickable:!0,onAddToList:s[12],isAddingToList:s[7].has(s[23].did)}}),{c(){Re(e.$$.fragment)},m(r,n){Ce(e,r,n),t=!0},p(r,n){const l={};n&256&&(l.profile=r[23]),n&258&&(l.isSelected=r[1].has(r[23].did)),n&256&&(l.statusTag=r[24]),n&384&&(l.isAddingToList=r[7].has(r[23].did)),e.$set(l)},i(r){t||(ae(e.$$.fragment,r),t=!0)},o(r){de(e.$$.fragment,r),t=!1},d(r){xe(e,r)}}}function Yr(s){let e,t,r,n;function l(d,u){return d[3]?ho:po}let o=l(s),a=o(s);return{c(){e=m("div"),t=m("button"),a.c(),t.disabled=s[3],c(t,"class","bg-gray-100 hover:bg-gray-200 text-slate-700 border border-gray-300 px-6 py-2.5 rounded-lg text-base font-medium cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(e,"class","text-center pt-4 border-t border-gray-200")},m(d,u){P(d,e,u),i(e,t),a.m(t,null),r||(n=ie(t,"click",s[10]),r=!0)},p(d,u){o!==(o=l(d))&&(a.d(1),a=o(d),a&&(a.c(),a.m(t,null))),u&8&&(t.disabled=d[3])},d(d){d&&A(e),a.d(),r=!1,n()}}}function po(s){let e;return{c(){e=C("Load More Results")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function ho(s){let e,t;return{c(){e=m("span"),t=C(`
								Loading...`),c(e,"class","loading-spinner mr-2 svelte-165a6uh")},m(r,n){P(r,e,n),P(r,t,n)},d(r){r&&(A(e),A(t))}}}function go(s){let e,t,r,n,l,o,a,d,u,f,p,h,b,_,y,S,E,x;function I(L,R){return L[3]?ao:L[4]?oo:io}let O=I(s),K=O(s),D=s[5]&&$r(s);const B=[mo,fo,uo,co],M=[];function U(L,R){return L[4]?0:L[0].length>0?1:L[2]&&!L[3]?2:L[2]?-1:3}return~(_=U(s))&&(y=M[_]=B[_](s)),{c(){e=m("div"),t=m("div"),t.innerHTML='<h3 class="text-lg font-semibold text-slate-800 mb-2">Search profiles to add to this list</h3> <p class="text-sm text-slate-600">Search for profiles by keywords in their bio, display name, or handle</p>',r=w(),n=m("div"),l=m("form"),o=m("div"),a=m("label"),a.textContent="Search for:",d=w(),u=m("input"),f=w(),p=m("button"),K.c(),h=w(),D&&D.c(),b=w(),y&&y.c(),c(t,"class","p-6 border-b border-gray-200"),c(a,"for","search-input"),c(a,"class","text-sm font-medium text-slate-700 whitespace-nowrap"),c(u,"id","search-input"),c(u,"type","text"),c(u,"placeholder","e.g., belge, artist, developer..."),c(u,"class","flex-1 min-w-48 px-4 py-2.5 border border-gray-300 rounded-lg text-base outline-none shadow-sm text-slate-800 placeholder-gray-400 focus:border-slate-500 focus:ring-1 focus:ring-slate-500"),u.required=!0,c(p,"type","submit"),p.disabled=s[3],c(p,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-6 py-2.5 rounded-lg text-base font-medium cursor-pointer transition-colors duration-200 whitespace-nowrap flex items-center gap-2 disabled:bg-gray-400 disabled:cursor-not-allowed"),c(o,"class","flex gap-4 items-center flex-wrap"),c(l,"class","mb-6"),c(n,"id","profile-search-container"),c(n,"class","p-6"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200"),c(e,"id","profile-search")},m(L,R){P(L,e,R),i(e,t),i(e,r),i(e,n),i(n,l),i(l,o),i(o,a),i(o,d),i(o,u),be(u,s[2]),i(o,f),i(o,p),K.m(p,null),i(n,h),D&&D.m(n,null),i(n,b),~_&&M[_].m(n,null),S=!0,E||(x=[ie(u,"input",s[16]),ie(l,"submit",Js(s[9]))],E=!0)},p(L,[R]){R&4&&u.value!==L[2]&&be(u,L[2]),O!==(O=I(L))&&(K.d(1),K=O(L),K&&(K.c(),K.m(p,null))),(!S||R&8)&&(p.disabled=L[3]),L[5]?D?D.p(L,R):(D=$r(L),D.c(),D.m(n,b)):D&&(D.d(1),D=null);let N=_;_=U(L),_===N?~_&&M[_].p(L,R):(y&&(ft(),de(M[N],1,1,()=>{M[N]=null}),mt()),~_?(y=M[_],y?y.p(L,R):(y=M[_]=B[_](L),y.c()),ae(y,1),y.m(n,null)):y=null)},i(L){S||(ae(y),S=!0)},o(L){de(y),S=!1},d(L){L&&A(e),K.d(),D&&D.d(),~_&&M[_].d(),E=!1,Me(x)}}}function bo(s,e,t){let r,n,l;Ie(s,Ue,M=>t(18,n=M)),Ie(s,pe,M=>t(15,l=M));let o="",a=[],d=!1,u=!1,f="",p=new Set,h=null,b=!1,_=new Set;async function y(){if(!(!o.trim()||!n.session)){t(3,d=!0),t(4,u=!1),t(5,f=""),t(0,a=[]),p.clear(),h=null,t(6,b=!1);try{const M=await Le.searchProfiles(n.session,o,n.authType);t(4,u=!0);const U=await D(M.actors||[]);t(0,a=U),h=M.cursor,t(6,b=!!M.cursor)}catch(M){t(5,f=M.message||"Failed to search profiles")}finally{t(3,d=!1),t(4,u=!1)}}}async function S(){if(!(!b||d||!n.session)){t(3,d=!0),t(4,u=!1),t(5,f="");try{const M=await Le.searchProfiles(n.session,o,n.authType,25,h);t(4,u=!0);const U=await D(M.actors||[]);t(0,a=[...a,...U]),h=M.cursor,t(6,b=!!M.cursor)}catch(M){t(5,f=M.message||"Failed to load more profiles")}finally{t(3,d=!1),t(4,u=!1)}}}function E(M){p.has(M.did)?p.delete(M.did):p.add(M.did),t(1,p)}let x=null,I=!0;async function O(M){if(!(!n.session||!l.selectedList||_.has(M.did))){_.add(M.did),t(7,_);try{console.log("Adding profile to list with authType:",n.authType),console.log("Current session:",n.session),await Le.addToList(n.session,M.did,l.selectedList.uri,n.authType),await pe.fetchAndAddProfile(n.session,M.did,n.authType),K()}catch(U){console.error("Failed to add profile to list:",U)}finally{_.delete(M.did),t(7,_)}}}function K(){Us({particleCount:50,spread:80,origin:{y:.6},colors:["#3b82f6","#1d4ed8","#1e40af","#60a5fa","#93c5fd"],scalar:1.5,ticks:300,gravity:.6,drift:.3,startVelocity:35,decay:.92,shapes:["circle","square"],zIndex:9999}),setTimeout(()=>{Us({particleCount:30,spread:60,origin:{y:.7,x:.3},colors:["#3b82f6","#1d4ed8","#60a5fa"],scalar:1.2,ticks:200,gravity:.7,drift:-.2,startVelocity:25,decay:.94})},150),setTimeout(()=>{Us({particleCount:30,spread:60,origin:{y:.7,x:.7},colors:["#1e40af","#3b82f6","#93c5fd"],scalar:1.2,ticks:200,gravity:.7,drift:.2,startVelocity:25,decay:.94})},300)}async function D(M){if(!M.length||!l.selectedList)return M;const U=await pe.getAllListMemberDids(n.session,n.authType);return M.map(R=>({...R,_isInList:U.has(R.did)}))}function B(){o=this.value,t(2,o),t(15,l),t(14,I),t(13,x),t(1,p)}return s.$$.update=()=>{s.$$.dirty&57346&&l.selectedList&&(!I&&x&&x!==l.selectedList.uri&&(t(2,o=""),t(0,a=[]),p.clear(),h=null,t(6,b=!1),t(5,f="")),t(13,x=l.selectedList.uri),t(14,I=!1)),s.$$.dirty&32769&&t(8,r=a.map(M=>({profile:M,status:M._isInList||l.listMembers.includes(M.did)?"Already in list":"New candidate"})))},[a,p,o,d,u,f,b,_,r,y,S,E,O,x,I,l,B]}class yo extends Oe{constructor(e){super(),De(this,e,bo,go,Ae,{})}}function Gr(s,e,t){const r=s.slice();return r[15]=e[t],r}function Zr(s,e,t){const r=s.slice();return r[18]=e[t],r}function Xr(s){let e,t=s[2].selectedList.description+"",r;return{c(){e=m("p"),r=C(t),c(e,"class","text-slate-600 mt-1")},m(n,l){P(n,e,l),i(e,r)},p(n,l){l&4&&t!==(t=n[2].selectedList.description+"")&&q(r,t)},d(n){n&&A(e)}}}function Qr(s){let e,t,r,n,l,o,a,d,u,f=s[4].length.toLocaleString()+"",p,h,b=s[0].totalMembers.toLocaleString()+"",_,y,S,E,x,I,O;return{c(){e=m("div"),t=m("div"),r=m("div"),n=w(),l=m("div"),o=m("div"),o.textContent="Calculating comprehensive statistics...",a=w(),d=m("div"),u=C("Processing "),p=C(f),h=C(" of "),_=C(b),y=C(`
						members (`),S=C(s[3]),E=C("%)"),x=w(),I=m("div"),O=m("div"),c(r,"class","loading-spinner svelte-1myfg8v"),c(o,"class","text-blue-700 font-medium"),c(d,"class","text-blue-600 text-sm"),c(t,"class","flex items-center justify-center space-x-3"),c(O,"class","bg-blue-600 h-2 rounded-full transition-all duration-300"),fe(O,"width",s[3]+"%"),c(I,"class","mt-3 w-full bg-blue-200 rounded-full h-2"),c(e,"class","bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6")},m(K,D){P(K,e,D),i(e,t),i(t,r),i(t,n),i(t,l),i(l,o),i(l,a),i(l,d),i(d,u),i(d,p),i(d,h),i(d,_),i(d,y),i(d,S),i(d,E),i(e,x),i(e,I),i(I,O)},p(K,D){D&16&&f!==(f=K[4].length.toLocaleString()+"")&&q(p,f),D&1&&b!==(b=K[0].totalMembers.toLocaleString()+"")&&q(_,b),D&8&&q(S,K[3]),D&8&&fe(O,"width",K[3]+"%")},d(K){K&&A(e)}}}function vo(s){let e,t,r,n,l,o=s[0].avgBioLength+"",a,d,u,f,p,h,b,_=s[0].accountsWithBios.toLocaleString()+"",y,S,E=s[0].totalMembers.toLocaleString()+"",x,I,O,K,D,B,M=s[0].accountsWithDisplayNames.toLocaleString()+"",U,L,R=s[0].totalMembers.toLocaleString()+"",N,te,T=s[0].mostCommonWords.length>0&&en(s);return{c(){e=m("div"),t=m("div"),r=m("span"),r.textContent="Average bio length:",n=w(),l=m("span"),a=C(o),d=C(" characters"),u=w(),f=m("div"),p=m("span"),p.textContent="Bios with content:",h=w(),b=m("span"),y=C(_),S=C(" / "),x=C(E),I=w(),O=m("div"),K=m("span"),K.textContent="Display names:",D=w(),B=m("span"),U=C(M),L=C(" / "),N=C(R),te=w(),T&&T.c(),c(r,"class","text-gray-600"),c(l,"class","font-medium"),c(t,"class","flex justify-between text-sm"),c(p,"class","text-gray-600"),c(b,"class","font-medium"),c(f,"class","flex justify-between text-sm"),c(K,"class","text-gray-600"),c(B,"class","font-medium"),c(O,"class","flex justify-between text-sm"),c(e,"class","space-y-2")},m(W,J){P(W,e,J),i(e,t),i(t,r),i(t,n),i(t,l),i(l,a),i(l,d),i(e,u),i(e,f),i(f,p),i(f,h),i(f,b),i(b,y),i(b,S),i(b,x),i(e,I),i(e,O),i(O,K),i(O,D),i(O,B),i(B,U),i(B,L),i(B,N),i(e,te),T&&T.m(e,null)},p(W,J){J&1&&o!==(o=W[0].avgBioLength+"")&&q(a,o),J&1&&_!==(_=W[0].accountsWithBios.toLocaleString()+"")&&q(y,_),J&1&&E!==(E=W[0].totalMembers.toLocaleString()+"")&&q(x,E),J&1&&M!==(M=W[0].accountsWithDisplayNames.toLocaleString()+"")&&q(U,M),J&1&&R!==(R=W[0].totalMembers.toLocaleString()+"")&&q(N,R),W[0].mostCommonWords.length>0?T?T.p(W,J):(T=en(W),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},d(W){W&&A(e),T&&T.d()}}}function _o(s){let e;return{c(){e=m("div"),e.textContent="Calculating comprehensive bio statistics...",c(e,"class","text-gray-500 text-sm")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function en(s){let e,t,r,n,l=ge(s[0].mostCommonWords),o=[];for(let a=0;a<l.length;a+=1)o[a]=tn(Zr(s,l,a));return{c(){e=m("div"),t=m("div"),t.textContent="Most common words:",r=w(),n=m("div");for(let a=0;a<o.length;a+=1)o[a].c();c(t,"class","text-xs text-gray-500 mb-2"),c(n,"class","flex flex-wrap gap-1"),c(e,"class","mt-3")},m(a,d){P(a,e,d),i(e,t),i(e,r),i(e,n);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(n,null)},p(a,d){if(d&1){l=ge(a[0].mostCommonWords);let u;for(u=0;u<l.length;u+=1){const f=Zr(a,l,u);o[u]?o[u].p(f,d):(o[u]=tn(f),o[u].c(),o[u].m(n,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}},d(a){a&&A(e),$e(o,a)}}}function tn(s){let e,t=s[18].word+"",r,n,l=s[18].count+"",o,a;return{c(){e=m("span"),r=C(t),n=C(" ("),o=C(l),a=C(`)
									`),c(e,"class","bg-white px-2 py-1 rounded text-xs border")},m(d,u){P(d,e,u),i(e,r),i(e,n),i(e,o),i(e,a)},p(d,u){u&1&&t!==(t=d[18].word+"")&&q(r,t),u&1&&l!==(l=d[18].count+"")&&q(o,l)},d(d){d&&A(e)}}}function wo(s){let e,t,r,n,l,o=s[0].avgHandleLength+"",a,d,u,f=s[0].topDomains.length>0&&sn(s);return{c(){e=m("div"),t=m("div"),r=m("span"),r.textContent="Average handle length:",n=w(),l=m("span"),a=C(o),d=C(" characters"),u=w(),f&&f.c(),c(r,"class","text-gray-600"),c(l,"class","font-medium"),c(t,"class","flex justify-between text-sm"),c(e,"class","space-y-2")},m(p,h){P(p,e,h),i(e,t),i(t,r),i(t,n),i(t,l),i(l,a),i(l,d),i(e,u),f&&f.m(e,null)},p(p,h){h&1&&o!==(o=p[0].avgHandleLength+"")&&q(a,o),p[0].topDomains.length>0?f?f.p(p,h):(f=sn(p),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(p){p&&A(e),f&&f.d()}}}function So(s){let e;return{c(){e=m("div"),e.textContent="Calculating handle statistics...",c(e,"class","text-gray-500 text-sm")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function sn(s){let e,t,r,n,l=ge(s[0].topDomains),o=[];for(let a=0;a<l.length;a+=1)o[a]=rn(Gr(s,l,a));return{c(){e=m("div"),t=m("div"),t.textContent="Top domains:",r=w(),n=m("div");for(let a=0;a<o.length;a+=1)o[a].c();c(t,"class","text-xs text-gray-500 mb-2"),c(n,"class","space-y-1"),c(e,"class","mt-3")},m(a,d){P(a,e,d),i(e,t),i(e,r),i(e,n);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(n,null)},p(a,d){if(d&1){l=ge(a[0].topDomains);let u;for(u=0;u<l.length;u+=1){const f=Gr(a,l,u);o[u]?o[u].p(f,d):(o[u]=rn(f),o[u].c(),o[u].m(n,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}},d(a){a&&A(e),$e(o,a)}}}function rn(s){let e,t,r,n=s[15].domain+"",l,o,a,d=s[15].count+"",u,f,p;return{c(){e=m("div"),t=m("span"),r=C("."),l=C(n),o=w(),a=m("span"),u=C(d),f=C(" users"),p=w(),c(t,"class","font-medium"),c(a,"class","text-gray-600"),c(e,"class","flex justify-between text-xs")},m(h,b){P(h,e,b),i(e,t),i(t,r),i(t,l),i(e,o),i(e,a),i(a,u),i(a,f),i(e,p)},p(h,b){b&1&&n!==(n=h[15].domain+"")&&q(l,n),b&1&&d!==(d=h[15].count+"")&&q(u,d)},d(h){h&&A(e)}}}function ko(s){let e;return{c(){e=C("Unknown")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function Lo(s){let e=new Date(s[2].selectedList.createdAt).toLocaleDateString()+"",t;return{c(){t=C(e)},m(r,n){P(r,t,n)},p(r,n){n&4&&e!==(e=new Date(r[2].selectedList.createdAt).toLocaleDateString()+"")&&q(t,e)},d(r){r&&A(t)}}}function Co(s){var vr,_r,wr,Sr,kr;let e,t,r,n,l=(((vr=s[2].selectedList)==null?void 0:vr.name)||"List")+"",o,a,d,u,f,p=s[0].totalMembers.toLocaleString()+"",h,b,_,y,S,E,x,I,O,K,D,B,M=s[1]?"...":At(s[0].accountsWithBios,s[0].totalMembers)+"%",U,L,R,N,te,T=s[1]?"Calculating...":`${s[0].accountsWithBios.toLocaleString()} have bios`,W,J,G,ue,Z,v,g,z,k=s[1]?"...":At(s[0].verifiedAccounts,s[0].totalMembers)+"%",F,$,se,V,Y,H=s[1]?"Calculating...":`${s[0].verifiedAccounts.toLocaleString()} verified accounts`,X,oe,le,ee,j,ce,ve,ye,_e=s[1]?"...":At(s[0].accountsWithAvatars,s[0].totalMembers)+"%",Ne,Pe,pt,$t,ht,nt=s[1]?"Calculating...":`${s[0].accountsWithAvatars.toLocaleString()} have avatars`,Nt,Bt,Ve,Ye,Ge,lt,gt,bt,yt=(s[1]?"...":(_r=s[2].selectedList)!=null&&_r.createdAt?s[0].growthRate||0:"N/A")+"",As,Zs,Vt,Xs,Yt,Gt=s[1]?"Calculating...":(wr=s[2].selectedList)!=null&&wr.createdAt?s[0].growthRate>0?`${s[0].growthRate} members/day`:"No growth data":"Creation date unavailable",Ps,Qs,Ze,it,Zt,er,tr,ot,Xt,sr,rr,vt,Qt,nr,We,_t,es,lr,ts,ss=((Sr=s[2].selectedList)==null?void 0:Sr.purpose)==="app.bsky.graph.defs#modlist"?"Moderation List":"Curated List",Es,ir,wt,rs,or,Ut,ar,St,ns,cr,Wt,ls=s[0].growthRate+"",Ts,ur,dr,kt,is,fr,os,as=s[1]?"Calculating...":`${s[0].recentAdditions} in last batch`,Is,mr,cs,Lt,Ht,pr,at,us=s[1]?"Calculating...":"Refresh Stats",Rs,Ds,hr,we=((kr=s[2].selectedList)==null?void 0:kr.description)&&Xr(s),Se=s[1]&&Qr(s);function gr(Q,me){return Q[1]?_o:vo}let ds=gr(s),He=ds(s);function br(Q,me){return Q[1]?So:wo}let fs=br(s),ze=fs(s);function yr(Q,me){var zt;return(zt=Q[2].selectedList)!=null&&zt.createdAt?Lo:ko}let ms=yr(s),Fe=ms(s);return{c(){e=m("div"),t=m("div"),r=m("div"),n=m("h2"),o=C(l),a=w(),we&&we.c(),d=w(),u=m("div"),f=m("div"),h=C(p),b=w(),_=m("div"),_.textContent="Total Members",y=w(),Se&&Se.c(),S=w(),E=m("div"),x=m("div"),I=m("div"),O=m("div"),K=m("div"),K.textContent=" Engagement",D=w(),B=m("div"),U=C(M),L=w(),R=m("div"),R.textContent="",N=w(),te=m("div"),W=C(T),J=w(),G=m("div"),ue=m("div"),Z=m("div"),v=m("div"),v.textContent=" Verified",g=w(),z=m("div"),F=C(k),$=w(),se=m("div"),se.textContent="",V=w(),Y=m("div"),X=C(H),oe=w(),le=m("div"),ee=m("div"),j=m("div"),ce=m("div"),ce.textContent=" Complete",ve=w(),ye=m("div"),Ne=C(_e),Pe=w(),pt=m("div"),pt.textContent="",$t=w(),ht=m("div"),Nt=C(nt),Bt=w(),Ve=m("div"),Ye=m("div"),Ge=m("div"),lt=m("div"),lt.textContent=" Growth Rate",gt=w(),bt=m("div"),As=C(yt),Zs=w(),Vt=m("div"),Vt.textContent="",Xs=w(),Yt=m("div"),Ps=C(Gt),Qs=w(),Ze=m("div"),it=m("div"),Zt=m("h3"),Zt.textContent=" Bio Analysis",er=w(),He.c(),tr=w(),ot=m("div"),Xt=m("h3"),Xt.textContent=" Handle Analysis",sr=w(),ze.c(),rr=w(),vt=m("div"),Qt=m("h3"),Qt.textContent=" List Details",nr=w(),We=m("div"),_t=m("div"),es=m("span"),es.textContent="Type:",lr=w(),ts=m("span"),Es=C(ss),ir=w(),wt=m("div"),rs=m("span"),rs.textContent="Created:",or=w(),Ut=m("span"),Fe.c(),ar=w(),St=m("div"),ns=m("span"),ns.textContent="Growth rate:",cr=w(),Wt=m("span"),Ts=C(ls),ur=C(" members/day"),dr=w(),kt=m("div"),is=m("span"),is.textContent="Recent activity:",fr=w(),os=m("span"),Is=C(as),mr=w(),cs=m("div"),Lt=m("div"),Ht=m("button"),Ht.textContent="View on Bluesky",pr=w(),at=m("button"),Rs=C(us),c(n,"class","text-xl font-bold text-slate-800"),c(f,"class","text-3xl font-bold text-blue-600"),c(_,"class","text-sm text-slate-500"),c(u,"class","text-right"),c(t,"class","flex items-center justify-between mb-6"),c(K,"class","text-blue-600 font-semibold text-sm"),c(B,"class","text-2xl font-bold text-blue-700"),c(R,"class","text-blue-400 text-3xl"),c(I,"class","flex items-center justify-between"),c(te,"class","text-xs text-blue-600 mt-1"),c(x,"class","bg-blue-50 p-4 rounded-lg"),c(v,"class","text-green-600 font-semibold text-sm"),c(z,"class","text-2xl font-bold text-green-700"),c(se,"class","text-green-400 text-3xl"),c(ue,"class","flex items-center justify-between"),c(Y,"class","text-xs text-green-600 mt-1"),c(G,"class","bg-green-50 p-4 rounded-lg"),c(ce,"class","text-purple-600 font-semibold text-sm"),c(ye,"class","text-2xl font-bold text-purple-700"),c(pt,"class","text-purple-400 text-3xl"),c(ee,"class","flex items-center justify-between"),c(ht,"class","text-xs text-purple-600 mt-1"),c(le,"class","bg-purple-50 p-4 rounded-lg"),c(lt,"class","text-orange-600 font-semibold text-sm"),c(bt,"class","text-2xl font-bold text-orange-700"),c(Vt,"class","text-orange-400 text-3xl"),c(Ye,"class","flex items-center justify-between"),c(Yt,"class","text-xs text-orange-600 mt-1"),c(Ve,"class","bg-orange-50 p-4 rounded-lg"),c(E,"class","grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"),c(Zt,"class","text-sm font-semibold text-gray-700 mb-3"),c(it,"class","bg-gray-50 p-4 rounded-lg"),c(Xt,"class","text-sm font-semibold text-gray-700 mb-3"),c(ot,"class","bg-gray-50 p-4 rounded-lg"),c(Qt,"class","text-sm font-semibold text-gray-700 mb-3"),c(es,"class","text-gray-600"),c(ts,"class","font-medium"),c(_t,"class","flex justify-between text-sm"),c(rs,"class","text-gray-600"),c(Ut,"class","font-medium"),c(wt,"class","flex justify-between text-sm"),c(ns,"class","text-gray-600"),c(Wt,"class","font-medium"),c(St,"class","flex justify-between text-sm"),c(is,"class","text-gray-600"),c(os,"class","font-medium"),c(kt,"class","flex justify-between text-sm"),c(We,"class","space-y-2"),c(vt,"class","bg-gray-50 p-4 rounded-lg"),c(Ze,"class","grid grid-cols-1 lg:grid-cols-3 gap-6"),c(Ht,"class","bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-1 rounded-full text-xs font-medium transition-colors"),c(at,"class","bg-green-100 hover:bg-green-200 text-green-700 px-3 py-1 rounded-full text-xs font-medium transition-colors"),at.disabled=s[1],c(Lt,"class","flex flex-wrap gap-2"),c(cs,"class","mt-6 pt-4 border-t border-gray-200"),c(e,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),c(e,"id","list-statistics")},m(Q,me){P(Q,e,me),i(e,t),i(t,r),i(r,n),i(n,o),i(r,a),we&&we.m(r,null),i(t,d),i(t,u),i(u,f),i(f,h),i(u,b),i(u,_),i(e,y),Se&&Se.m(e,null),i(e,S),i(e,E),i(E,x),i(x,I),i(I,O),i(O,K),i(O,D),i(O,B),i(B,U),i(I,L),i(I,R),i(x,N),i(x,te),i(te,W),i(E,J),i(E,G),i(G,ue),i(ue,Z),i(Z,v),i(Z,g),i(Z,z),i(z,F),i(ue,$),i(ue,se),i(G,V),i(G,Y),i(Y,X),i(E,oe),i(E,le),i(le,ee),i(ee,j),i(j,ce),i(j,ve),i(j,ye),i(ye,Ne),i(ee,Pe),i(ee,pt),i(le,$t),i(le,ht),i(ht,Nt),i(E,Bt),i(E,Ve),i(Ve,Ye),i(Ye,Ge),i(Ge,lt),i(Ge,gt),i(Ge,bt),i(bt,As),i(Ye,Zs),i(Ye,Vt),i(Ve,Xs),i(Ve,Yt),i(Yt,Ps),i(e,Qs),i(e,Ze),i(Ze,it),i(it,Zt),i(it,er),He.m(it,null),i(Ze,tr),i(Ze,ot),i(ot,Xt),i(ot,sr),ze.m(ot,null),i(Ze,rr),i(Ze,vt),i(vt,Qt),i(vt,nr),i(vt,We),i(We,_t),i(_t,es),i(_t,lr),i(_t,ts),i(ts,Es),i(We,ir),i(We,wt),i(wt,rs),i(wt,or),i(wt,Ut),Fe.m(Ut,null),i(We,ar),i(We,St),i(St,ns),i(St,cr),i(St,Wt),i(Wt,Ts),i(Wt,ur),i(We,dr),i(We,kt),i(kt,is),i(kt,fr),i(kt,os),i(os,Is),i(e,mr),i(e,cs),i(cs,Lt),i(Lt,Ht),i(Lt,pr),i(Lt,at),i(at,Rs),Ds||(hr=[ie(Ht,"click",s[8]),ie(at,"click",s[6])],Ds=!0)},p(Q,[me]){var zt,Lr,Cr,xr,Mr;me&4&&l!==(l=(((zt=Q[2].selectedList)==null?void 0:zt.name)||"List")+"")&&q(o,l),(Lr=Q[2].selectedList)!=null&&Lr.description?we?we.p(Q,me):(we=Xr(Q),we.c(),we.m(r,null)):we&&(we.d(1),we=null),me&1&&p!==(p=Q[0].totalMembers.toLocaleString()+"")&&q(h,p),Q[1]?Se?Se.p(Q,me):(Se=Qr(Q),Se.c(),Se.m(e,S)):Se&&(Se.d(1),Se=null),me&3&&M!==(M=Q[1]?"...":At(Q[0].accountsWithBios,Q[0].totalMembers)+"%")&&q(U,M),me&3&&T!==(T=Q[1]?"Calculating...":`${Q[0].accountsWithBios.toLocaleString()} have bios`)&&q(W,T),me&3&&k!==(k=Q[1]?"...":At(Q[0].verifiedAccounts,Q[0].totalMembers)+"%")&&q(F,k),me&3&&H!==(H=Q[1]?"Calculating...":`${Q[0].verifiedAccounts.toLocaleString()} verified accounts`)&&q(X,H),me&3&&_e!==(_e=Q[1]?"...":At(Q[0].accountsWithAvatars,Q[0].totalMembers)+"%")&&q(Ne,_e),me&3&&nt!==(nt=Q[1]?"Calculating...":`${Q[0].accountsWithAvatars.toLocaleString()} have avatars`)&&q(Nt,nt),me&7&&yt!==(yt=(Q[1]?"...":(Cr=Q[2].selectedList)!=null&&Cr.createdAt?Q[0].growthRate||0:"N/A")+"")&&q(As,yt),me&7&&Gt!==(Gt=Q[1]?"Calculating...":(xr=Q[2].selectedList)!=null&&xr.createdAt?Q[0].growthRate>0?`${Q[0].growthRate} members/day`:"No growth data":"Creation date unavailable")&&q(Ps,Gt),ds===(ds=gr(Q))&&He?He.p(Q,me):(He.d(1),He=ds(Q),He&&(He.c(),He.m(it,null))),fs===(fs=br(Q))&&ze?ze.p(Q,me):(ze.d(1),ze=fs(Q),ze&&(ze.c(),ze.m(ot,null))),me&4&&ss!==(ss=((Mr=Q[2].selectedList)==null?void 0:Mr.purpose)==="app.bsky.graph.defs#modlist"?"Moderation List":"Curated List")&&q(Es,ss),ms===(ms=yr(Q))&&Fe?Fe.p(Q,me):(Fe.d(1),Fe=ms(Q),Fe&&(Fe.c(),Fe.m(Ut,null))),me&1&&ls!==(ls=Q[0].growthRate+"")&&q(Ts,ls),me&3&&as!==(as=Q[1]?"Calculating...":`${Q[0].recentAdditions} in last batch`)&&q(Is,as),me&2&&us!==(us=Q[1]?"Calculating...":"Refresh Stats")&&q(Rs,us),me&2&&(at.disabled=Q[1])},i:ne,o:ne,d(Q){Q&&A(e),we&&we.d(),Se&&Se.d(),He.d(),ze.d(),Fe.d(),Ds=!1,Me(hr)}}}function At(s,e){return e===0?0:Math.round(s/e*100)}function xo(s,e,t){let r,n;Ie(s,pe,x=>t(2,r=x)),Ie(s,Ue,x=>t(5,n=x));let l={totalMembers:0,recentAdditions:0,verifiedAccounts:0,accountsWithAvatars:0,accountsWithBios:0,avgBioLength:0,mostCommonWords:[],listAge:0,accountsWithDisplayNames:0,avgHandleLength:0,topDomains:[],growthRate:0},o=!1,a=0,d=[],u=null,f=!1,p=null;function h(){t(0,l={totalMembers:0,recentAdditions:0,verifiedAccounts:0,accountsWithAvatars:0,accountsWithBios:0,avgBioLength:0,mostCommonWords:[],listAge:0,accountsWithDisplayNames:0,avgHandleLength:0,topDomains:[],growthRate:0}),t(3,a=0),t(4,d=[])}function b(){var D,B;r.listMemberProfiles;const x=((D=r.selectedList)==null?void 0:D.listItemCount)||0,I=(B=r.selectedList)==null?void 0:B.createdAt,O=I?Math.floor((Date.now()-new Date(I).getTime())/(1e3*60*60*24)):0,K=O>0?Math.round(x/O):0;t(0,l={...l,totalMembers:x,listAge:O,growthRate:K})}async function _(){if(!n.session||!r.selectedList||o)return;const x=Date.now();u=x,t(1,o=!0),t(3,a=0),t(4,d=[]);try{const I=r.selectedList.listItemCount||0;if(I===0){y([]),f=!0;return}let O=null,K=0;const D=100;do{K++,t(3,a=Math.round(d.length/I*100));const B=await Le.getListMembers(n.session,r.selectedList.uri,n.authType,D,O);if(u!==x)return;t(4,d=[...d,...B.profiles]),O=B.cursor,t(3,a=Math.round(d.length/I*100))}while(O&&d.length<I);if(u!==x)return;y(d),f=!0}catch(I){console.error("Error loading all members for statistics:",I),b(),f=!0}finally{u===x&&(t(1,o=!1),t(3,a=0))}}function y(x){var z;const I=x.length,O=x.filter(k=>k.verified).length,K=x.filter(k=>k.avatar).length,D=x.filter(k=>k.description&&k.description.trim().length>0).length,B=x.filter(k=>k.displayName&&k.displayName.trim().length>0).length,M=x.map(k=>k.description||"").filter(k=>k.trim().length>0),U=M.length>0?Math.round(M.reduce((k,F)=>k+F.length,0)/M.length):0,L=["the","a","an","and","or","but","in","on","at","to","for","of","with","by","is","are","was","were","be","been","have","has","had","do","does","did","will","would","could","should","may","might","can","this","that","these","those","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","her","its","our","their","mine","yours","his","hers","ours","theirs"],R=M.join(" ").toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(k=>k.length>2&&!L.includes(k)),N={};R.forEach(k=>{N[k]=(N[k]||0)+1});const te=Object.entries(N).sort(([,k],[,F])=>F-k).slice(0,5).map(([k,F])=>({word:k,count:F})),T=x.map(k=>k.handle||"").filter(k=>k.length>0),W=T.length>0?Math.round(T.reduce((k,F)=>k+F.length,0)/T.length):0,J=T.map(k=>{const F=k.split(".");return F.length>1?F[F.length-1]:null}).filter(k=>k&&k.length>0),G={};J.forEach(k=>{G[k]=(G[k]||0)+1});const ue=Object.entries(G).sort(([,k],[,F])=>F-k).slice(0,3).map(([k,F])=>({domain:k,count:F})),Z=(z=r.selectedList)==null?void 0:z.createdAt,v=Z?Math.floor((Date.now()-new Date(Z).getTime())/(1e3*60*60*24)):0,g=v>0?Math.round(I/v):0;Math.min(25,x.length),t(0,l={totalMembers:I,recentAdditions:g,verifiedAccounts:O,accountsWithAvatars:K,accountsWithBios:D,avgBioLength:U,mostCommonWords:te,listAge:v,accountsWithDisplayNames:B,avgHandleLength:W,topDomains:ue,growthRate:g})}function S(){o||(f=!1,_())}const E=()=>{var I,O,K;const x=(I=r.selectedList)==null?void 0:I.uri;if(x){const D=x.split("/"),B=D[D.length-1],M=`https://bsky.app/profile/${(O=n.session)==null?void 0:O.handle}/lists/${B}`;window.open(M,"_blank")}else window.open(`https://bsky.app/profile/${(K=n.session)==null?void 0:K.handle}/lists`,"_blank")};return s.$$.update=()=>{var x,I;s.$$.dirty&4&&r.selectedList&&b(),s.$$.dirty&7&&((x=r.selectedList)==null?void 0:x.listItemCount)!==l.totalMembers&&!o&&(console.log("ListStatistics: Member count changed, recalculating stats"),console.log("New listItemCount:",(I=r.selectedList)==null?void 0:I.listItemCount),console.log("Current stats.totalMembers:",l.totalMembers),b()),s.$$.dirty&132&&!r.selectedList&&p!==null&&(t(7,p=null),f=!1,h()),s.$$.dirty&134&&r.selectedList&&r.selectedList.uri!==p&&!o&&(t(7,p=r.selectedList.uri),f=!1,h(),_())},[l,o,r,a,d,n,S,p,E]}class Mo extends Oe{constructor(e){super(),De(this,e,xo,Co,Ae,{})}}function nn(s,e,t){const r=s.slice();return r[29]=e[t],r}function ln(s,e,t){const r=s.slice();return r[35]=e[t],r}function on(s,e,t){const r=s.slice();return r[32]=e[t],r}function an(s,e,t){const r=s.slice();return r[38]=e[t],r}function cn(s,e,t){const r=s.slice();return r[38]=e[t],r}function un(s){let e,t,r,n,l,o,a=s[4].size+"",d,u,f,p;function h(y,S){return y[5]?Po:Ao}let b=h(s),_=b(s);return{c(){e=m("div"),t=m("div"),r=m("div"),n=m("button"),_.c(),l=w(),o=m("div"),d=C(a),u=C(" profiles selected"),n.disabled=s[5],c(n,"class","bg-slate-800 hover:bg-slate-700 text-white border-0 px-4 py-2.5 rounded-lg cursor-pointer transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium text-sm"),c(r,"class","flex items-center gap-3"),c(o,"class","text-sm text-slate-600"),c(t,"class","flex items-center justify-between"),c(e,"class","sticky top-20 z-40 bg-white border border-gray-200 rounded-lg p-4 shadow-sm"),c(e,"id","action-bar")},m(y,S){P(y,e,S),i(e,t),i(t,r),i(r,n),_.m(n,null),i(t,l),i(t,o),i(o,d),i(o,u),f||(p=ie(n,"click",s[14]),f=!0)},p(y,S){b===(b=h(y))&&_?_.p(y,S):(_.d(1),_=b(y),_&&(_.c(),_.m(n,null))),S[0]&32&&(n.disabled=y[5]),S[0]&16&&a!==(a=y[4].size+"")&&q(d,a)},d(y){y&&A(e),_.d(),f=!1,p()}}}function Ao(s){let e,t=s[4].size+"",r,n;return{c(){e=C("Add "),r=C(t),n=C(" to List")},m(l,o){P(l,e,o),P(l,r,o),P(l,n,o)},p(l,o){o[0]&16&&t!==(t=l[4].size+"")&&q(r,t)},d(l){l&&(A(e),A(r),A(n))}}}function Po(s){let e,t;return{c(){e=m("span"),t=C(`
							Adding...`),c(e,"class","loading-spinner mr-2 svelte-qhxb3n")},m(r,n){P(r,e,n),P(r,t,n)},p:ne,d(r){r&&(A(e),A(t))}}}function dn(s){let e,t,r,n=s[6].success.length+"",l,o;return{c(){e=m("div"),t=m("p"),r=C(" Successfully added "),l=C(n),o=C(" profiles to your list!"),c(t,"class","text-green-700 font-medium"),c(e,"class","bg-green-50 border border-green-200 rounded-lg p-4")},m(a,d){P(a,e,d),i(e,t),i(t,r),i(t,l),i(t,o)},p(a,d){d[0]&64&&n!==(n=a[6].success.length+"")&&q(l,n)},d(a){a&&A(e)}}}function fn(s){let e,t,r,n=s[6].errors.length+"",l,o,a,d,u=ge(s[6].errors),f=[];for(let p=0;p<u.length;p+=1)f[p]=mn(cn(s,u,p));return{c(){e=m("div"),t=m("p"),r=C(" Failed to add "),l=C(n),o=C(" profiles:"),a=w(),d=m("ul");for(let p=0;p<f.length;p+=1)f[p].c();c(t,"class","text-red-700 font-medium mb-2"),c(d,"class","text-red-600 text-sm space-y-1"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4")},m(p,h){P(p,e,h),i(e,t),i(t,r),i(t,l),i(t,o),i(e,a),i(e,d);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(d,null)},p(p,h){if(h[0]&64&&n!==(n=p[6].errors.length+"")&&q(l,n),h[0]&64){u=ge(p[6].errors);let b;for(b=0;b<u.length;b+=1){const _=cn(p,u,b);f[b]?f[b].p(_,h):(f[b]=mn(_),f[b].c(),f[b].m(d,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=u.length}},d(p){p&&A(e),$e(f,p)}}}function mn(s){let e,t,r=s[38].error+"",n;return{c(){e=m("li"),t=C(" "),n=C(r)},m(l,o){P(l,e,o),i(e,t),i(e,n)},p(l,o){o[0]&64&&r!==(r=l[38].error+"")&&q(n,r)},d(l){l&&A(e)}}}function pn(s){let e,t,r,n=s[7].success.length+"",l,o;return{c(){e=m("div"),t=m("p"),r=C(" Successfully removed "),l=C(n),o=C(" profiles from your list!"),c(t,"class","text-blue-700 font-medium"),c(e,"class","bg-blue-50 border border-blue-200 rounded-lg p-4")},m(a,d){P(a,e,d),i(e,t),i(t,r),i(t,l),i(t,o)},p(a,d){d[0]&128&&n!==(n=a[7].success.length+"")&&q(l,n)},d(a){a&&A(e)}}}function hn(s){let e,t,r,n=s[7].errors.length+"",l,o,a,d,u=ge(s[7].errors),f=[];for(let p=0;p<u.length;p+=1)f[p]=gn(an(s,u,p));return{c(){e=m("div"),t=m("p"),r=C(" Failed to remove "),l=C(n),o=C(" profiles:"),a=w(),d=m("ul");for(let p=0;p<f.length;p+=1)f[p].c();c(t,"class","text-red-700 font-medium mb-2"),c(d,"class","text-red-600 text-sm space-y-1"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4")},m(p,h){P(p,e,h),i(e,t),i(t,r),i(t,l),i(t,o),i(e,a),i(e,d);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(d,null)},p(p,h){if(h[0]&128&&n!==(n=p[7].errors.length+"")&&q(l,n),h[0]&128){u=ge(p[7].errors);let b;for(b=0;b<u.length;b+=1){const _=an(p,u,b);f[b]?f[b].p(_,h):(f[b]=gn(_),f[b].c(),f[b].m(d,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=u.length}},d(p){p&&A(e),$e(f,p)}}}function gn(s){let e,t,r=s[38].error+"",n;return{c(){e=m("li"),t=C(" "),n=C(r)},m(l,o){P(l,e,o),i(e,t),i(e,n)},p(l,o){o[0]&128&&r!==(r=l[38].error+"")&&q(n,r)},d(l){l&&A(e)}}}function Eo(s){let e,t,r;function n(d,u){return d[9]?Ko:d[1].listMemberProfiles.length>0?Oo:Do}let l=n(s),o=l(s),a=s[10]>1&&wn(s);return{c(){e=m("div"),t=m("div"),o.c(),r=w(),a&&a.c(),c(t,"class","space-y-4 flex-1 overflow-y-auto"),c(e,"class","flex flex-col flex-1")},m(d,u){P(d,e,u),i(e,t),o.m(t,null),i(e,r),a&&a.m(e,null)},p(d,u){l===(l=n(d))&&o?o.p(d,u):(o.d(1),o=l(d),o&&(o.c(),o.m(t,null))),d[10]>1?a?a.p(d,u):(a=wn(d),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(d){d&&A(e),o.d(),a&&a.d()}}}function To(s){let e;return{c(){e=m("div"),e.innerHTML='<div><div class="text-4xl mb-4"></div> <h3 class="text-lg font-semibold text-slate-800 mb-2">This list is brand new</h3> <p class="text-slate-600">Use the search on the right to find profiles and start building your list.</p></div>',c(e,"class","text-center py-12 flex-1 flex items-center justify-center")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function Io(s){let e,t,r,n,l,o,a,d;return{c(){e=m("div"),t=m("div"),r=m("p"),n=C(s[3]),l=w(),o=m("button"),o.textContent="Try again",c(r,"class","text-red-700 mb-4"),c(o,"class","text-red-600 hover:text-red-800 underline"),c(t,"class","text-center"),c(e,"class","bg-red-50 border border-red-200 rounded-lg p-4 flex-1 flex items-center justify-center")},m(u,f){P(u,e,f),i(e,t),i(t,r),i(r,n),i(t,l),i(t,o),a||(d=ie(o,"click",s[12]),a=!0)},p(u,f){f[0]&8&&q(n,u[3])},d(u){u&&A(e),a=!1,d()}}}function Ro(s){let e;return{c(){e=m("div"),e.innerHTML='<div><div class="loading-spinner mx-auto mb-4 svelte-qhxb3n"></div> <p class="text-slate-600">Loading list members...</p></div>',c(e,"class","text-center py-12 flex-1 flex items-center justify-center")},m(t,r){P(t,e,r)},p:ne,d(t){t&&A(e)}}}function Do(s){let e,t,r=s[3]&&bn(s),n=ge(s[1].listMembers.slice(0,100)),l=[];for(let o=0;o<n.length;o+=1)l[o]=yn(ln(s,n,o));return{c(){r&&r.c(),e=w();for(let o=0;o<l.length;o+=1)l[o].c();t=rt()},m(o,a){r&&r.m(o,a),P(o,e,a);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(o,a);P(o,t,a)},p(o,a){if(o[3]?r?r.p(o,a):(r=bn(o),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a[0]&2){n=ge(o[1].listMembers.slice(0,100));let d;for(d=0;d<n.length;d+=1){const u=ln(o,n,d);l[d]?l[d].p(u,a):(l[d]=yn(u),l[d].c(),l[d].m(t.parentNode,t))}for(;d<l.length;d+=1)l[d].d(1);l.length=n.length}},d(o){o&&(A(e),A(t)),r&&r.d(o),$e(l,o)}}}function Oo(s){let e,t=ge(s[1].listMemberProfiles),r=[];for(let n=0;n<t.length;n+=1)r[n]=_n(on(s,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=rt()},m(n,l){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(n,l);P(n,e,l)},p(n,l){if(l[0]&34818){t=ge(n[1].listMemberProfiles);let o;for(o=0;o<t.length;o+=1){const a=on(n,t,o);r[o]?r[o].p(a,l):(r[o]=_n(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(n){n&&A(e),$e(r,n)}}}function Ko(s){let e,t,r,n,l,o,a;return{c(){e=m("div"),t=m("div"),r=w(),n=m("p"),l=C("Loading page "),o=C(s[8]),a=C("..."),c(t,"class","loading-spinner mx-auto mb-4 svelte-qhxb3n"),c(n,"class","text-slate-600"),c(e,"class","text-center py-8")},m(d,u){P(d,e,u),i(e,t),i(e,r),i(e,n),i(n,l),i(n,o),i(n,a)},p(d,u){u[0]&256&&q(o,d[8])},d(d){d&&A(e)}}}function bn(s){let e,t,r,n,l,o,a,d,u,f,p;return{c(){e=m("div"),t=m("div"),r=m("div"),n=m("p"),n.textContent=" Profile loading issue",l=w(),o=m("p"),a=C(s[3]),d=w(),u=m("button"),u.textContent="Retry",c(n,"class","text-yellow-800 font-medium"),c(o,"class","text-yellow-700 text-sm mt-1"),c(u,"class","bg-yellow-100 hover:bg-yellow-200 text-yellow-800 px-3 py-1 rounded text-sm font-medium transition-colors"),c(t,"class","flex items-center justify-between"),c(e,"class","bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4")},m(h,b){P(h,e,b),i(e,t),i(t,r),i(r,n),i(r,l),i(r,o),i(o,a),i(t,d),i(t,u),f||(p=ie(u,"click",s[23]),f=!0)},p(h,b){b[0]&8&&q(a,h[3])},d(h){h&&A(e),f=!1,p()}}}function yn(s){let e,t,r,n,l,o,a=s[35]+"",d,u,f,p;return{c(){e=m("div"),t=m("div"),r=m("div"),r.innerHTML='<span class="text-gray-600 font-medium">?</span>',n=w(),l=m("div"),o=m("div"),d=C(a),u=w(),f=m("div"),f.textContent="Member of list",p=w(),c(r,"class","w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center"),c(o,"class","text-sm text-gray-600 font-mono break-all"),c(f,"class","text-xs text-gray-500"),c(l,"class","flex-1"),c(t,"class","flex items-center space-x-3"),c(e,"class","bg-gray-50 border border-gray-200 rounded-lg p-4")},m(h,b){P(h,e,b),i(e,t),i(t,r),i(t,n),i(t,l),i(l,o),i(o,d),i(l,u),i(l,f),i(e,p)},p(h,b){b[0]&2&&a!==(a=h[35]+"")&&q(d,a)},d(h){h&&A(e)}}}function vn(s){let e,t=s[32].description+"",r;return{c(){e=m("p"),r=C(t),c(e,"class","text-xs text-gray-600 line-clamp-2 svelte-qhxb3n")},m(n,l){P(n,e,l),i(e,r)},p(n,l){l[0]&2&&t!==(t=n[32].description+"")&&q(r,t)},d(n){n&&A(e)}}}function No(s){let e;return{c(){e=C(" Remove")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function Bo(s){let e,t;return{c(){e=m("span"),t=C(`
														Removing...`),c(e,"class","loading-spinner mr-1 svelte-qhxb3n")},m(r,n){P(r,e,n),P(r,t,n)},d(r){r&&(A(e),A(t))}}}function _n(s){let e,t,r,n,l,o,a,d,u,f,p,h,b=(s[32].displayName||s[32].handle)+"",_,y,S,E,x=s[32].handle+"",I,O,K,D,B,M,U,L,R,N,te,T,W,J,G=s[32].description&&vn(s);function ue(z,k){return k[0]&2&&(N=null),N==null&&(N=!!z[11].has(z[32].did)),N?Bo:No}let Z=ue(s,[-1,-1]),v=Z(s);function g(){return s[22](s[32])}return{c(){e=m("div"),t=m("div"),r=m("div"),n=m("img"),d=w(),u=m("div"),f=m("a"),p=m("div"),h=m("h4"),_=C(b),y=w(),S=m("span"),E=C("@"),I=C(x),O=w(),K=ws("svg"),D=ws("path"),B=w(),G&&G.c(),U=w(),L=m("div"),R=m("button"),v.c(),T=w(),st(n.src,l=s[32].avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(s[32].displayName||s[32].handle)}&background=6366f1&color=fff&size=64`)||c(n,"src",l),c(n,"alt",o=s[32].displayName||s[32].handle),c(n,"class","w-12 h-12 rounded-full object-cover border-2 border-gray-100"),c(n,"onerror",a="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(s[32].displayName||s[32].handle)+"&background=6366f1&color=fff&size=64'"),c(r,"class","flex-shrink-0"),c(h,"class","text-sm font-semibold text-gray-900 truncate"),c(S,"class","text-xs text-gray-600 truncate"),c(D,"stroke-linecap","round"),c(D,"stroke-linejoin","round"),c(D,"stroke-width","2"),c(D,"d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"),c(K,"class","w-3 h-3 text-gray-400"),c(K,"fill","none"),c(K,"stroke","currentColor"),c(K,"viewBox","0 0 24 24"),c(p,"class","flex items-center space-x-2 mb-1"),c(f,"href",M="https://bsky.app/profile/"+s[32].handle),c(f,"target","_blank"),c(f,"rel","noopener noreferrer"),c(f,"class","block hover:underline"),c(u,"class","flex-1 min-w-0"),R.disabled=te=s[11].has(s[32].did),c(R,"class","bg-red-100 hover:bg-red-200 text-red-700 border border-red-300 px-3 py-1.5 rounded text-xs font-medium cursor-pointer transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"),c(R,"title","Remove from list"),c(L,"class","flex-shrink-0"),c(t,"class","flex items-center space-x-3"),c(e,"class","bg-gray-50 border border-gray-200 rounded-lg p-4 hover:bg-gray-100 hover:border-gray-300 transition-colors duration-200")},m(z,k){P(z,e,k),i(e,t),i(t,r),i(r,n),i(t,d),i(t,u),i(u,f),i(f,p),i(p,h),i(h,_),i(p,y),i(p,S),i(S,E),i(S,I),i(p,O),i(p,K),i(K,D),i(f,B),G&&G.m(f,null),i(t,U),i(t,L),i(L,R),v.m(R,null),i(e,T),W||(J=ie(R,"click",g),W=!0)},p(z,k){s=z,k[0]&2&&!st(n.src,l=s[32].avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(s[32].displayName||s[32].handle)}&background=6366f1&color=fff&size=64`)&&c(n,"src",l),k[0]&2&&o!==(o=s[32].displayName||s[32].handle)&&c(n,"alt",o),k[0]&2&&a!==(a="this.src='https://ui-avatars.com/api/?name=$"+encodeURIComponent(s[32].displayName||s[32].handle)+"&background=6366f1&color=fff&size=64'")&&c(n,"onerror",a),k[0]&2&&b!==(b=(s[32].displayName||s[32].handle)+"")&&q(_,b),k[0]&2&&x!==(x=s[32].handle+"")&&q(I,x),s[32].description?G?G.p(s,k):(G=vn(s),G.c(),G.m(f,null)):G&&(G.d(1),G=null),k[0]&2&&M!==(M="https://bsky.app/profile/"+s[32].handle)&&c(f,"href",M),Z!==(Z=ue(s,k))&&(v.d(1),v=Z(s),v&&(v.c(),v.m(R,null))),k[0]&2&&te!==(te=s[11].has(s[32].did))&&(R.disabled=te)},d(z){z&&A(e),G&&G.d(),v.d(),W=!1,J()}}}function wn(s){let e,t,r,n,l,o,a,d,u,f,p,h,b,_,y,S,E,x,I,O,K,D,B,M=s[9]&&s[8]>1&&Sn(),U=ge(Array.from({length:Math.min(5,s[10])},s[24])),L=[];for(let N=0;N<U.length;N+=1)L[N]=kn(nn(s,U,N));let R=s[9]&&s[8]<s[10]&&Ln();return{c(){e=m("div"),t=m("div"),r=m("div"),n=C("Page "),l=C(s[8]),o=C(" of "),a=C(s[10]),d=C(" ("),u=C(s[0]),f=C(" total members)"),p=w(),h=m("div"),b=m("button"),M&&M.c(),_=C(`
											Previous`),S=w(),E=m("div");for(let N=0;N<L.length;N+=1)L[N].c();x=w(),I=m("button"),O=C(`Next
											`),R&&R.c(),c(r,"class","text-sm text-gray-600"),b.disabled=y=s[8]===1||s[9],c(b,"class","px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"),c(E,"class","flex items-center space-x-1"),I.disabled=K=s[8]===s[10]||s[9],c(I,"class","px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"),c(h,"class","flex items-center space-x-2"),c(t,"class","flex items-center justify-between"),c(e,"class","mt-6 pt-4 border-t border-gray-200")},m(N,te){P(N,e,te),i(e,t),i(t,r),i(r,n),i(r,l),i(r,o),i(r,a),i(r,d),i(r,u),i(r,f),i(t,p),i(t,h),i(h,b),M&&M.m(b,null),i(b,_),i(h,S),i(h,E);for(let T=0;T<L.length;T+=1)L[T]&&L[T].m(E,null);i(h,x),i(h,I),i(I,O),R&&R.m(I,null),D||(B=[ie(b,"click",s[18]),ie(I,"click",s[17])],D=!0)},p(N,te){if(te[0]&256&&q(l,N[8]),te[0]&1024&&q(a,N[10]),te[0]&1&&q(u,N[0]),N[9]&&N[8]>1?M||(M=Sn(),M.c(),M.m(b,_)):M&&(M.d(1),M=null),te[0]&768&&y!==(y=N[8]===1||N[9])&&(b.disabled=y),te[0]&67328){U=ge(Array.from({length:Math.min(5,N[10])},N[24]));let T;for(T=0;T<U.length;T+=1){const W=nn(N,U,T);L[T]?L[T].p(W,te):(L[T]=kn(W),L[T].c(),L[T].m(E,null))}for(;T<L.length;T+=1)L[T].d(1);L.length=U.length}N[9]&&N[8]<N[10]?R||(R=Ln(),R.c(),R.m(I,null)):R&&(R.d(1),R=null),te[0]&1792&&K!==(K=N[8]===N[10]||N[9])&&(I.disabled=K)},d(N){N&&A(e),M&&M.d(),$e(L,N),R&&R.d(),D=!1,Me(B)}}}function Sn(s){let e;return{c(){e=m("span"),c(e,"class","loading-spinner mr-1 svelte-qhxb3n")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function kn(s){let e,t=s[29]+"",r,n,l,o,a;function d(){return s[25](s[29])}return{c(){e=m("button"),r=C(t),n=w(),e.disabled=s[9],c(e,"class",l="px-3 py-1 text-sm border rounded transition-colors duration-200 "+(s[8]===s[29]?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50")+" disabled:opacity-50 disabled:cursor-not-allowed")},m(u,f){P(u,e,f),i(e,r),i(e,n),o||(a=ie(e,"click",d),o=!0)},p(u,f){s=u,f[0]&1280&&t!==(t=s[29]+"")&&q(r,t),f[0]&512&&(e.disabled=s[9]),f[0]&1280&&l!==(l="px-3 py-1 text-sm border rounded transition-colors duration-200 "+(s[8]===s[29]?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50")+" disabled:opacity-50 disabled:cursor-not-allowed")&&c(e,"class",l)},d(u){u&&A(e),o=!1,a()}}}function Ln(s){let e;return{c(){e=m("span"),c(e,"class","loading-spinner ml-1 svelte-qhxb3n")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function Uo(s){let e,t,r,n,l,o,a,d,u,f,p,h,b,_,y,S=(s[9]?"...":s[1].listMemberProfiles.length)+"",E,x,I,O,K,D,B,M,U,L,R=s[1].listMemberProfiles.length+"",N,te,T=s[1].listMembers.length+"",W,J,G,ue,Z,v;t=new Mo({});let g=s[4].size>0&&un(s),z=s[6].success.length>0&&dn(s),k=s[6].errors.length>0&&fn(s),F=s[7].success.length>0&&pn(s),$=s[7].errors.length>0&&hn(s);function se(H,X){return H[2]?Ro:H[3]?Io:H[1].listMembers.length===0?To:Eo}let V=se(s),Y=V(s);return Z=new yo({}),{c(){e=m("div"),Re(t.$$.fragment),r=w(),g&&g.c(),n=w(),z&&z.c(),l=w(),k&&k.c(),o=w(),F&&F.c(),a=w(),$&&$.c(),d=w(),u=m("div"),f=m("div"),p=m("div"),h=m("h3"),h.textContent="Latest list members",b=w(),_=m("p"),y=C("Showing "),E=C(S),x=C(" of "),I=C(s[0]),O=C(`
					total members`),K=w(),D=m("div"),B=m("div"),M=C("Debug: isLoadingMembers="),U=C(s[2]),L=C(", profiles="),N=C(R),te=C(", members="),W=C(T),J=w(),Y.c(),G=w(),ue=m("div"),Re(Z.$$.fragment),c(h,"class","text-lg font-semibold text-slate-800 mb-2"),c(_,"class","text-sm text-slate-600"),c(p,"class","p-6 border-b border-gray-200"),c(B,"class","text-xs text-gray-500 mb-2 hidden"),c(D,"class","p-6 flex flex-col flex-1"),c(f,"id","list-members-container"),c(f,"class","bg-white rounded-lg shadow-sm border border-gray-200 flex flex-col"),c(u,"class","grid grid-cols-1 lg:grid-cols-2 gap-6"),c(u,"id","list-manager-layout"),c(e,"class","space-y-6 relative z-100"),c(e,"id","list-manager")},m(H,X){P(H,e,X),Ce(t,e,null),i(e,r),g&&g.m(e,null),i(e,n),z&&z.m(e,null),i(e,l),k&&k.m(e,null),i(e,o),F&&F.m(e,null),i(e,a),$&&$.m(e,null),i(e,d),i(e,u),i(u,f),i(f,p),i(p,h),i(p,b),i(p,_),i(_,y),i(_,E),i(_,x),i(_,I),i(_,O),i(f,K),i(f,D),i(D,B),i(B,M),i(B,U),i(B,L),i(B,N),i(B,te),i(B,W),i(D,J),Y.m(D,null),i(u,G),i(u,ue),Ce(Z,ue,null),v=!0},p(H,X){H[4].size>0?g?g.p(H,X):(g=un(H),g.c(),g.m(e,n)):g&&(g.d(1),g=null),H[6].success.length>0?z?z.p(H,X):(z=dn(H),z.c(),z.m(e,l)):z&&(z.d(1),z=null),H[6].errors.length>0?k?k.p(H,X):(k=fn(H),k.c(),k.m(e,o)):k&&(k.d(1),k=null),H[7].success.length>0?F?F.p(H,X):(F=pn(H),F.c(),F.m(e,a)):F&&(F.d(1),F=null),H[7].errors.length>0?$?$.p(H,X):($=hn(H),$.c(),$.m(e,d)):$&&($.d(1),$=null),(!v||X[0]&514)&&S!==(S=(H[9]?"...":H[1].listMemberProfiles.length)+"")&&q(E,S),(!v||X[0]&1)&&q(I,H[0]),(!v||X[0]&4)&&q(U,H[2]),(!v||X[0]&2)&&R!==(R=H[1].listMemberProfiles.length+"")&&q(N,R),(!v||X[0]&2)&&T!==(T=H[1].listMembers.length+"")&&q(W,T),V===(V=se(H))&&Y?Y.p(H,X):(Y.d(1),Y=V(H),Y&&(Y.c(),Y.m(D,null)))},i(H){v||(ae(t.$$.fragment,H),ae(Z.$$.fragment,H),v=!0)},o(H){de(t.$$.fragment,H),de(Z.$$.fragment,H),v=!1},d(H){H&&A(e),xe(t),g&&g.d(),z&&z.d(),k&&k.d(),F&&F.d(),$&&$.d(),Y.d(),xe(Z)}}}const gs=25;function Wo(s,e,t){let r,n;Ie(s,pe,T=>t(1,r=T)),Ie(s,Ue,T=>t(21,n=T));let l=!1,o="",a=new Set,d=!1,u={success:[],errors:[]},f=new Set,p={success:[],errors:[]},h=1,b=!1,_=!1,y=0,S=new Map,E=0,x=null;async function I(){if(!(!r.selectedList||!n.session||_)){t(19,_=!0),t(2,l=!0),t(3,o=""),t(8,h=1),S.clear();try{const T=await Le.getListInfo(n.session,r.selectedList.uri,n.authType),W={...r.selectedList,name:T.name,description:T.description,createdAt:T.createdAt,listItemCount:T.listItemCount};pe.setSelectedList(W),t(0,E=T.listItemCount||0),t(10,y=Math.ceil(E/gs)),console.log("Total pages:",y,"Total count:",E),await O(1),pe.setListLoading(!1)}catch(T){console.error("Error loading list members:",T),t(3,o=T.message||"Failed to load list members"),pe.setListLoading(!1)}finally{console.log("Setting isLoadingMembers to false"),t(2,l=!1),t(19,_=!1),console.log("Final state - isLoadingMembers:",l,"isCurrentlyLoadingMembers:",_)}}}async function O(T){if(!(!n.session||!r.selectedList)){t(9,b=!0),t(8,h=T);try{let W=S.get(T-1);const J=await Le.getListMembers(n.session,r.selectedList.uri,n.authType,gs,W);console.log(`Fetched ${J.members.length} members for page ${T}`),console.log("Members received:",J.members),J.cursor&&S.set(T,J.cursor),J.members.length===0?E===0?t(3,o=""):(console.warn("No members returned from API for page",T),t(3,o="We couldnt load members right now.")):t(3,o="");const G=J.profiles||[];console.log(`Using ${G.length} profiles from API response for page ${T}`),console.log("Setting profiles in store:",G.length),pe.setListMembers(J.members),pe.setListMemberProfiles(G),console.log("Profiles set in store, current count:",r.listMemberProfiles.length)}catch(W){console.error("Error loading members page:",W),t(3,o=W.message||"Failed to load page"),pe.setListMemberProfiles([])}finally{t(9,b=!1)}}}async function K(){if(a.size===0)return;t(5,d=!0),t(6,u={success:[],errors:[]});const T=Array.from(a);for(const W of T)try{await Le.addToList(n.session,W,r.selectedList.uri,n.authType),u.success.push(W),await pe.fetchAndAddProfile(n.session,W,n.authType)}catch(J){u.errors.push({did:W,error:J.message})}a.clear(),t(4,a),t(5,d=!1)}async function D(T){if(!(!T||!r.selectedList||!n.session)){f.add(T);try{await Le.removeFromList(n.session,T,r.selectedList.uri,n.authType),p.success.push(T);const W=r.listMemberProfiles.filter(Z=>Z.did!==T);pe.setListMemberProfiles(W);const J=r.listMembers.filter(Z=>Z!==T);pe.setListMembers(J),t(0,E=Math.max(0,E-1)),t(10,y=Math.ceil(E/gs));const G=r.selectedList?{...r.selectedList,listItemCount:Math.max(0,(r.selectedList.listItemCount||0)-1)}:null;G&&pe.setSelectedList(G);const ue=r.userLists.map(Z=>Z.uri===r.selectedList.uri?{...Z,memberCount:Math.max(0,(Z.memberCount||0)-1)}:Z);pe.setUserLists(ue)}catch(W){console.error("Failed to remove profile from list:",W),p.errors.push({profileDid:T,error:W.message})}finally{f.delete(T),setTimeout(()=>{t(7,p={success:[],errors:[]})},5e3)}}}async function B(T){T>=1&&T<=y&&await O(T)}async function M(){h<y&&await O(h+1)}async function U(){h>1&&await O(h-1)}const L=T=>D(T.did),R=()=>O(h),N=(T,W)=>{let J;return y<=5||h<=3?J=W+1:h>=y-2?J=y-4+W:J=h-2+W,J},te=T=>B(T);return s.$$.update=()=>{var T,W,J;s.$$.dirty[0]&2&&r.refreshTrigger&&I(),s.$$.dirty[0]&2&&console.log("Profile count changed:",r.listMemberProfiles.length),s.$$.dirty[0]&3&&((T=r.selectedList)==null?void 0:T.listItemCount)!==E&&(console.log("ListManager: Member count changed in store"),console.log("New listItemCount:",(W=r.selectedList)==null?void 0:W.listItemCount),console.log("Current totalMemberCount:",E),t(0,E=((J=r.selectedList)==null?void 0:J.listItemCount)||0),t(10,y=Math.ceil(E/gs))),s.$$.dirty[0]&3670018&&r.selectedList&&n.session&&!_&&x!==r.selectedList.uri&&(console.log("List changed, loading members for:",r.selectedList.name),t(20,x=r.selectedList.uri),I())},[E,r,l,o,a,d,u,p,h,b,y,f,I,O,K,D,B,M,U,_,x,n,L,R,N,te]}class Ho extends Oe{constructor(e){super(),De(this,e,Wo,Uo,Ae,{},null,[-1,-1])}}function Cn(s){let e,t,r,n,l,o,a,d;return{c(){e=m("div"),t=m("div"),r=m("div"),n=w(),l=m("h3"),l.textContent="Getting Ready",o=w(),a=m("p"),d=C(s[1]),c(r,"class","loading-spinner mx-auto mb-4 svelte-847qwb"),c(l,"class","text-lg font-semibold text-slate-800 mb-2"),c(a,"class","text-slate-600"),c(t,"class","bg-white rounded-lg p-8 shadow-xl max-w-md mx-4 text-center"),c(t,"id","loading-overlay-content"),c(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]"),c(e,"id","loading-overlay")},m(u,f){P(u,e,f),i(e,t),i(t,r),i(t,n),i(t,l),i(t,o),i(t,a),i(a,d)},p(u,f){f&2&&q(d,u[1])},d(u){u&&A(e)}}}function zo(s){let e,t=s[0]&&Cn(s);return{c(){t&&t.c(),e=rt()},m(r,n){t&&t.m(r,n),P(r,e,n)},p(r,[n]){r[0]?t?t.p(r,n):(t=Cn(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(r){r&&A(e),t&&t.d(r)}}}function Fo(s,e,t){let{isLoading:r=!1}=e,{message:n="Loading list data..."}=e;return s.$$set=l=>{"isLoading"in l&&t(0,r=l.isLoading),"message"in l&&t(1,n=l.message)},[r,n]}class Jo extends Oe{constructor(e){super(),De(this,e,Fo,zo,Ae,{isLoading:0,message:1})}}function xn(s,e,t){const r=s.slice();return r[8]=e[t],r}function Mn(s,e){let t,r,n;return{key:s,first:null,c(){t=m("div"),r=ws("svg"),n=ws("path"),c(n,"d","m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"),c(n,"fill","#1185fe"),c(n,"opacity","0.4"),c(r,"width","100%"),c(r,"height","100%"),c(r,"viewBox","0 0 600 530"),c(r,"xmlns","http://www.w3.org/2000/svg"),c(r,"class","butterfly-svg svelte-acv7si"),c(t,"class","butterfly svelte-acv7si"),fe(t,"left",e[8].x+"%"),fe(t,"top",e[8].y+"%"),fe(t,"width",e[8].size+"px"),fe(t,"height",e[8].size+"px"),fe(t,"animation-duration",e[8].speed+"s"),fe(t,"animation-delay",e[8].delay+"s"),fe(t,"transform","rotate("+e[8].rotation+"deg)"),fe(t,"opacity",.6+Math.random()*.4),this.first=t},m(l,o){P(l,t,o),i(t,r),i(r,n)},p(l,o){e=l,o&1&&fe(t,"left",e[8].x+"%"),o&1&&fe(t,"top",e[8].y+"%"),o&1&&fe(t,"width",e[8].size+"px"),o&1&&fe(t,"height",e[8].size+"px"),o&1&&fe(t,"animation-duration",e[8].speed+"s"),o&1&&fe(t,"animation-delay",e[8].delay+"s"),o&1&&fe(t,"transform","rotate("+e[8].rotation+"deg)")},d(l){l&&A(t)}}}function An(s){let e;return{c(){e=m("div"),e.innerHTML='<div class="message-content svelte-acv7si" id="empty-list-content"><svg width="60" height="53" viewBox="0 0 600 530" xmlns="http://www.w3.org/2000/svg" class="svelte-acv7si"><path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z" fill="#1185fe" opacity="0.3"></path></svg> <p class="svelte-acv7si">Add members to your list to see butterflies flutter by!</p></div>',c(e,"class","empty-list-message svelte-acv7si"),c(e,"id","empty-list-message")},m(t,r){P(t,e,r)},d(t){t&&A(e)}}}function jo(s){let e,t=[],r=new Map,n,l=ge(s[0]);const o=d=>d[8].id;for(let d=0;d<l.length;d+=1){let u=xn(s,l,d),f=o(u);r.set(f,t[d]=Mn(f,u))}let a=s[2].selectedList&&s[1]===0&&An();return{c(){e=m("div");for(let d=0;d<t.length;d+=1)t[d].c();n=w(),a&&a.c(),c(e,"class","butterfly-background svelte-acv7si"),c(e,"id","butterfly-background")},m(d,u){P(d,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);i(e,n),a&&a.m(e,null),s[5](e)},p(d,[u]){u&1&&(l=ge(d[0]),t=ul(t,u,o,1,d,l,r,e,cl,Mn,n,xn)),d[2].selectedList&&d[1]===0?a||(a=An(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:ne,o:ne,d(d){d&&A(e);for(let u=0;u<t.length;u+=1)t[u].d();a&&a.d(),s[5](null)}}}function qo(s,e,t){let r,n,l;Ie(s,pe,p=>t(2,l=p));let o,a=[];const d={baseCount:12,maxCount:50,minSize:20,maxSize:45,minSpeed:15,maxSpeed:45,minDelay:0,maxDelay:15};xs(()=>{u()});function u(){t(0,a=[]);for(let p=0;p<n;p++)a.push({id:p,x:Math.random()*100,y:Math.random()*100,size:Math.random()*(d.maxSize-d.minSize)+d.minSize,speed:Math.random()*(d.maxSpeed-d.minSpeed)+d.minSpeed,delay:Math.random()*(d.maxDelay-d.minDelay)+d.minDelay,rotation:Math.random()*60-30,rotationSpeed:(Math.random()-.5)*2,floatingDirection:Math.random()*360,floatingSpeed:Math.random()*.5+.1})}function f(p){Ss[p?"unshift":"push"](()=>{o=p,t(3,o)})}return s.$$.update=()=>{var p;s.$$.dirty&4&&t(1,r=((p=l.selectedList)==null?void 0:p.listItemCount)||0),s.$$.dirty&6&&t(4,n=l.selectedList?Math.min(d.maxCount,Math.max(d.baseCount,Math.floor(r/2))):d.baseCount),s.$$.dirty&17&&n!==a.length&&u()},[a,r,l,o,n,f]}class $o extends Oe{constructor(e){super(),De(this,e,qo,jo,Ae,{})}}function Pn(s){let e,t;return e=new _i({}),{c(){Re(e.$$.fragment)},m(r,n){Ce(e,r,n),t=!0},i(r){t||(ae(e.$$.fragment,r),t=!0)},o(r){de(e.$$.fragment,r),t=!1},d(r){xe(e,r)}}}function Vo(s){let e,t;return e=new Ho({}),{c(){Re(e.$$.fragment)},m(r,n){Ce(e,r,n),t=!0},i(r){t||(ae(e.$$.fragment,r),t=!0)},o(r){de(e.$$.fragment,r),t=!1},d(r){xe(e,r)}}}function Yo(s){let e,t;return e=new zi({}),{c(){Re(e.$$.fragment)},m(r,n){Ce(e,r,n),t=!0},i(r){t||(ae(e.$$.fragment,r),t=!0)},o(r){de(e.$$.fragment,r),t=!1},d(r){xe(e,r)}}}function Go(s){let e,t;return e=new Ni({}),{c(){Re(e.$$.fragment)},m(r,n){Ce(e,r,n),t=!0},i(r){t||(ae(e.$$.fragment,r),t=!0)},o(r){de(e.$$.fragment,r),t=!1},d(r){xe(e,r)}}}function Zo(s){let e,t,r,n,l,o,a,d,u,f;t=new $o({});let p=s[1]!=="auth"&&Pn();const h=[Go,Yo,Vo],b=[];function _(y,S){return y[1]==="auth"?0:y[1]==="list-selector"?1:y[1]==="manager"?2:-1}return~(o=_(s))&&(a=b[o]=h[o](s)),u=new Jo({props:{isLoading:s[0].isLoadingList,message:"Loading list data and members..."}}),{c(){e=m("main"),Re(t.$$.fragment),r=w(),p&&p.c(),n=w(),l=m("div"),a&&a.c(),d=w(),Re(u.$$.fragment),c(l,"class","max-w-6xl mx-auto p-6"),c(l,"id","app-content"),c(e,"class","min-h-screen bg-gray-50"),c(e,"id","app-main")},m(y,S){P(y,e,S),Ce(t,e,null),i(e,r),p&&p.m(e,null),i(e,n),i(e,l),~o&&b[o].m(l,null),i(e,d),Ce(u,e,null),f=!0},p(y,[S]){y[1]!=="auth"?p?S&2&&ae(p,1):(p=Pn(),p.c(),ae(p,1),p.m(e,n)):p&&(ft(),de(p,1,1,()=>{p=null}),mt());let E=o;o=_(y),o!==E&&(a&&(ft(),de(b[E],1,1,()=>{b[E]=null}),mt()),~o?(a=b[o],a||(a=b[o]=h[o](y),a.c()),ae(a,1),a.m(l,null)):a=null);const x={};S&1&&(x.isLoading=y[0].isLoadingList),u.$set(x)},i(y){f||(ae(t.$$.fragment,y),ae(p),ae(a),ae(u.$$.fragment,y),f=!0)},o(y){de(t.$$.fragment,y),de(p),de(a),de(u.$$.fragment,y),f=!1},d(y){y&&A(e),xe(t),p&&p.d(),~o&&b[o].d(),xe(u)}}}function Xo(s,e,t){let r,n;Ie(s,pe,o=>t(0,r=o)),Ie(s,Ue,o=>t(2,n=o));let l="auth";return xs(async()=>{const{session:o,authType:a}=await Ue.initializeSession();o&&(console.log("Session restored:",{authType:a,handle:o.handle||o.did}),t(1,l="list-selector"))}),s.$$.update=()=>{s.$$.dirty&5&&(n.session?r.selectedList?t(1,l="manager"):t(1,l="list-selector"):t(1,l="auth"))},[r,l,n]}class Qo extends Oe{constructor(e){super(),De(this,e,Xo,Zo,Ae,{})}}new Qo({target:document.getElementById("app")});
